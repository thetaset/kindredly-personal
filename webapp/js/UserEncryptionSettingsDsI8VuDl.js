import{U as S}from"./UserEncryptionSettingsComponent0OJgUW7q.js";import{a as k,_ as E}from"./components.globalBic2x0kT.js";import{d as U,j as o,k as i,K as r,Q as n,z as g,s as a,m as b,r as l,i as s}from"./@vueC3Nhqlrl.js";import"./bootstrap-vue-nextDnMzdrWQ.js";import"./UpdatePasswordmNzRQTqc.js";import"./vue3-toastifyDll2FbVh.js";import"./@capacitorCjBcbZvA.js";const v=U({name:"UserEncryptionSettings",mixins:[k],components:{UserEncryptionSettingsComponent:S},data(){return{userId:null,targetUser:null,childComponentKey:0}},mounted(){},computed:{},methods:{async loadUser(){const t=await this.apiReq("/user/info",{userId:this.userId});this.targetUser=t.result,this.childComponentKey++}},created(){this.userId=this.$route.params.userId,this.loadUser()}}),C={key:0,class:"container-fluid-max1200 pb-5"},h={key:0},w={key:0,class:"mb-3 alert alert-warning small"},$={key:1,class:"mb -3 alert alert-warning small"},I={key:2,class:"mb -3 alert alert-warning"},N={key:0};function q(t,e,B,K,V,A){var c,m,p,y;const d=l("b-icon"),u=l("b-link"),f=l("UserEncryptionSettingsComponent");return t.targetUser?(s(),o("div",C,[e[8]||(e[8]=i("div",{class:"my-3"},[i("h2",null,"Encryption Settings"),i("div",{class:"small text-muted"})],-1)),i("div",null,[t.encStatus?(s(),o("div",h,[(c=t.encStatus)!=null&&c.userEncSetup?(m=t.encStatus)!=null&&m.userEncEnabled?!((p=t.encStatus)!=null&&p.acntEncSetup)&&((y=t.encStatus)!=null&&y.acntEncSupported)?(s(),o("div",I,[r(d,{icon:"exclamation-triangle"}),e[7]||(e[7]=n(" You have not been granted access the family account encryption key. This is required to access restricted users encrypted content. Notify the account owner to grant you access. "))])):a("",!0):(s(),o("div",$,[r(d,{icon:"exclamation-triangle"}),e[5]||(e[5]=n(" Admin users are required to have encryption enabled to continue. ")),r(u,{to:"/settings/encryption"},{default:g(()=>e[4]||(e[4]=[n("Click here")])),_:1}),e[6]||(e[6]=n(" to fix. "))])):(s(),o("div",w,[r(d,{icon:"exclamation-triangle"}),e[2]||(e[2]=n(" Admin users are required to have encryption setup before modifying restricted users encryption settings. ")),r(u,{to:"/settings/encryption"},{default:g(()=>e[1]||(e[1]=[n("Click here")])),_:1}),e[3]||(e[3]=n(" to fix. "))]))])):a("",!0)]),t.targetUser!=null&&t.encStatus&&t.encStatus.userEncEnabled&&t.encStatus.acntEncEnabled?(s(),o("div",N,[(s(),b(f,{user:t.targetUser,key:t.childComponentKey,onUpdated:e[0]||(e[0]=T=>t.loadUser())},null,8,["user"]))])):a("",!0)])):a("",!0)}const F=E(v,[["render",q]]);export{F as default};
