const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/PopCollectionSelectorDtsi0cBR.js","js/CreateCollectionCvnp9GSK.js","js/components.global5n24RCIC.js","js/@vueC3Nhqlrl.js","js/vue3-toastifyDll2FbVh.js","assets/vue3-toastify.css","js/@capacitorCjBcbZvA.js","js/bootstrap-vue-nextDnMzdrWQ.js","assets/bootstrap-vue-next.css","assets/components.css","js/TIIconDefaultDZ-9wHcm.js","assets/TIIconDefault.css","js/ai_lookup_utilszDX_hcwM.js","assets/CreateCollection.css","js/ItemImageBounipmB.js","assets/PopCollectionSelector.css"])))=>i.map(i=>d[i]);
import{_ as ae}from"./@capacitorCjBcbZvA.js";import{a as te,p as q,_ as se,aj as de,d as R,t as ue,o as J,a0 as _}from"./components.global5n24RCIC.js";import{a as me}from"../kindredapp.js";import{T as pe}from"./TIFeedbackInfoB-5_RUVQ.js";import{I as ce}from"./ItemAttachmentViewerDLyBYx7v.js";import{I as ie}from"./ItemImageBounipmB.js";import{d as oe,j as r,k as l,K as n,z as d,N as U,s as m,F as G,p as A,R as I,m as y,P as M,Q as c,r as v,i,aa as he,l as Z,ac as fe,L as be}from"./@vueC3Nhqlrl.js";import{P as ge}from"./PlaceholderListBUV05qM-.js";import{g as ve,U as x,a as C,L as ye,F as ee,b as Ie}from"./subscription.storeDg76pqWu.js";import{v as we}from"./uuidCtRu48qb.js";import"./vue3-toastifyDll2FbVh.js";import"./bootstrap-vue-nextDnMzdrWQ.js";import"./TIIconDefaultDZ-9wHcm.js";import"./vue-routerB6Jsgi62.js";import"./browserTabsOcpZnJJW.js";import"./vue-plugin-load-scriptXwA-LyvJ.js";import"./bootstrapDQG5F40S.js";import"./@popperjsCCtJ9KiL.js";import"./@mozillaCDB2aYYy.js";import"./textrenderD9QqXPpv.js";import"./markedJKvyS0Pp.js";const Se=oe({name:"SubscriptionItem",mixins:[te],emits:["visit","visitSub","share","saveModal","openItemDetails","openItemSource","toggleDismiss","newItemFeedback"],components:{TIFeedbackInfo:pe,ItemAttachmentViewer:ce,ItemImage:ie},props:{item:Object,detailedView:Boolean,hideImages:Boolean,hideSubInfo:Boolean},data(){return{_detailedView:!1,largeImageSrc:null}},methods:{prettyTimePast:q,newItemFeedback(e){this.$emit("newItemFeedback",e)},removeHTMLTags(e){return e?e.replace(/<[^>]*>?/gm,""):""},async aiDiscuss(){let e={_id:this.item._id,type:"sub_item",name:this.item.name||this.item.title,link:this.item.url,description:this.itemText};me({type:"subscription_item",id:this.item._id,data:e})}},mounted(){},computed:{itemText(){var t;let e=((t=this.item)==null?void 0:t.description)||"";try{return this.removeHTMLTags(e.trim())}catch(s){return console.log(s,e),""}},showDetails(){return this._detailedView||this.detailedView}},created(){}}),ke={key:0,class:"fsModal"},Ge={class:"text-center fsImageContainer"},$e={class:"p-2 d-flex justify-content-center flex-gap-1 fixed-screen-bottom"},Le={class:"feedImageContainer my-1"},De=["src"],Ce=["href"],Me={class:"larger mt-1 truncatetext"},Te={class:"larger mt-1 linklike-dl truncatetext"},Oe={key:4,class:"small text-muted truncatetext mt-1"},Ae=["href"],Ve={key:5,class:"mt-1 feedDescription wwrapsimple"},Ne={key:7,class:"mt-1"},Re={class:"small"},Ue={class:"small text-muted truncatetext mt-1 mb-1 d-flex flex-gap-sm align-items-center"},Fe={key:0,class:"rounded borderOnHover px-2 py-1"},Pe={key:1,class:"rounded borderOnHover px-2 py-1"},Ee={key:0};function _e(e,t,s,u,a,D){var N,O,T;const $=v("ItemAttachmentViewer"),h=v("b-icon"),p=v("b-button"),w=v("ItemImage"),F=v("TruncateExpand"),S=v("TIFeedbackInfo"),V=v("b-dropdown-item"),P=v("b-dropdown");return i(),r("div",{class:A(["hoverrow",e.isMobile?"py-2 mb-3":"p-2 rounded"])},[e.largeImageSrc?(i(),r("div",ke,[l("div",Ge,[n($,{item:e.item,isPub:!0,isFS:!0,onClose:t[0]||(t[0]=b=>e.largeImageSrc=null)},null,8,["item"]),l("div",$e,[n(p,{variant:"link",class:"white-color",onClick:t[1]||(t[1]=U(b=>e.largeImageSrc=null,["stop"]))},{default:d(()=>[n(h,{icon:"x-lg"})]),_:1}),n(p,{variant:"link",class:"white-color",onClick:t[2]||(t[2]=U(b=>e.$emit("visit"),["stop"])),title:"Visit"},{default:d(()=>[n(h,{icon:"box-arrow-up-right"})]),_:1})])])])):m("",!0),l("div",{class:A([(N=e.item)!=null&&N.removing?"fade-out-leave-active":"","fade-out mx-1"])},[l("div",null,[e.hideImages?m("",!0):(i(),r(G,{key:0},[e.item.imageUrl&&e.item.imageUrl!="undefined"?(i(),r("div",{key:0,onClick:t[3]||(t[3]=b=>e.largeImageSrc=e.item.imageUrl)},[l("div",Le,[l("img",{src:e.item.imageUrl,alt:"",class:A([(e.isMobile,""),"feedImage rounded ani-fade-in-fast"])},null,10,De)])])):e.item.type=="pub_item"&&((O=e.item)!=null&&O.data)&&((T=e.item)!=null&&T.defaultImage)?(i(),r("div",{key:1,onClick:t[4]||(t[4]=b=>e.largeImageSrc="yes"),class:"feedImageContainer"},[n(w,{item:e.item.data,class:A([e.isMobile?" my-1 ":"","feedImage rounded ani-fade-in-fast"])},null,8,["item","class"])])):m("",!0)],64)),e.hideSubInfo?m("",!0):(i(),r("div",{key:1,class:"text-muted small mt-2 truncatetext",role:"button",onClick:t[5]||(t[5]=b=>e.$emit("visitSub"))},I(e.item.subDetails.title),1)),e.item.url?(i(),r("a",{key:2,href:e.item.url,onClick:t[6]||(t[6]=U(b=>e.$emit("visit"),["prevent"]))},[l("div",Me,I(e.item.title),1)],8,Ce)):(i(),r("div",{key:3,role:"button",onClick:t[7]||(t[7]=b=>e.$emit("visit"))},[l("div",Te,I(e.item.title),1)])),e.showDetails?(i(),r("div",Oe,[l("a",{href:e.item.url,onClick:t[8]||(t[8]=U(b=>e.$emit("visit"),["prevent"])),class:"text-muted truncatetext"},I(e.item.url),9,Ae)])):m("",!0),e.showDetails?(i(),r("div",Ve,I(e.textTruncate(e.itemText,1e3)),1)):(i(),y(F,{key:6,content:e.itemText,class:"mt-1 feedDescription wwrapsimple"},{default:d(()=>t[16]||(t[16]=[l("span",{class:"linklike ms-1",role:"button"},"more",-1)])),_:1},8,["content"])),e.showDetails&&e.item.categories&&e.item.categories.length>0?(i(),r("div",Ne,[l("div",Re,[(i(!0),r(G,null,M(e.item.categories,b=>(i(),r("span",{key:b,class:"badge bg-secondary me-1"},I(b.label),1))),128))])])):m("",!0),l("div",Ue,[l("div",null,I(e.prettyTimePast(e.item.createdAt)),1),e.detailedView?m("",!0):(i(),r("div",{key:0,role:"button",class:"text-muted",onClick:t[9]||(t[9]=b=>e._detailedView=!e._detailedView)},[e._detailedView?(i(),y(h,{key:1,icon:"chevron-up"})):(i(),y(h,{key:0,icon:"chevron-down"}))]))]),l("div",{class:A(["d-flex flex-gap-1 align-items-center small my-2",e.isMobile?"justify-content-between":""])},[e.item.itemMatch?(i(),r("div",Fe,[n(S,{value:e.item.itemMatch,"onUpdate:value":t[10]||(t[10]=b=>e.item.itemMatch=b)},null,8,["value"])])):m("",!0),e.isAdminUser&&!e.item.itemMatch?(i(),r("div",Pe,[n(S,{newItem:!0,onNewItemFeedback:e.newItemFeedback},null,8,["onNewItemFeedback"])])):m("",!0),e.isAdminUser||e.item.itemMatch?(i(),r("div",{key:2,role:"button",onClick:t[11]||(t[11]=b=>e.$emit("share")),class:"rounded borderOnHover px-2 py-1 d-flex flex-wrap flex-gap-sm default-text-color"},[n(h,{icon:"share"})])):m("",!0),e.item.itemMatch?(i(),r("div",{key:3,role:"button",title:"In Library",onClick:t[12]||(t[12]=b=>e.$emit("openItemDetails")),class:"rounded borderOnHover px-2 py-1 d-flex flex-wrap flex-gap-sm success-color"},[n(h,{icon:"check-square"})])):e.isAdminUser&&!e.item.itemMatch?(i(),r("div",{key:4,role:"button",onClick:t[13]||(t[13]=b=>e.$emit("saveModal")),class:"default-text-color rounded borderOnHover px-2 py-1 d-flex flex-wrap flex-gap-sm"},[n(h,{icon:"plus-lg"})])):m("",!0),l("div",{role:"button",onClick:t[14]||(t[14]=b=>e.$emit("toggleDismiss")),title:"dismiss",class:"rounded default-text-color borderOnHover px-1 py-1 d-flex flex-wrap flex-gap-sm"},[e.item.dismissed?(i(),r(G,{key:1},[t[17]||(t[17]=c("dismissed ")),t[18]||(t[18]=l("div",{class:"linklike"},"(undo)",-1))],64)):(i(),r("div",Ee,"Dismiss"))]),e.isAdminUser?(i(),y(P,{key:5,variant:"link",size:"sm",class:"px-0 py-1 d-flex flex-wrap flex-gap-sm my-0 py-0","no-caret":"",right:""},{"button-content":d(()=>[n(h,{icon:"three-dots-vertical"})]),default:d(()=>[n(V,{title:"View Published Item Source",onClick:t[15]||(t[15]=b=>e.$emit("openItemSource"))},{default:d(()=>[n(h,{icon:"info-square"}),t[19]||(t[19]=c(" View"))]),_:1}),n(V,{onClick:e.aiDiscuss},{default:d(()=>[n(h,{icon:"robot"}),t[20]||(t[20]=c(" AI Discuss"))]),_:1},8,["onClick"])]),_:1})):m("",!0)],2)])],2)],2)}const qe=se(Se,[["render",_e]]),je=oe({name:"SubscriptionFeed",mixins:[te],props:{hideSubMenu:{type:Boolean,default:!1},asComponent:{type:Boolean,default:!1}},components:{PopCollectionSelector:he(()=>ae(()=>import("./PopCollectionSelectorDtsi0cBR.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),PlaceholderList:ge,SubscriptionItem:qe,ItemImage:ie},data(){return{detailedView:!1,showDebug:!1,matchLookupURL:{},matchLookupPubId:{},loading:!1,loadingActiveGroup:!1,showDismissed:!1,items:[],renderedItems:[],logs:[],dismissedItemSet:new Set,currentItem:null,currentlySelectedCollectionId:null,allSubList:[],activeGroupId:null,hideImages:!1,expandedSubs:new Set,_viewModeDefault:"group",itemsToRenderDefault:12,newGroupName:"",selectedSubscriptionIds:[],subId:null,currentSub:null,showSubs:!1,newSubName:"",selectedSub:null,sourceEntryOrder:null}},mounted(){},computed:{...ve,viewMode(){return this.subId?"sub":this._viewModeDefault},activeGroupName(){if(this.activeGroupId==null)return"All";const e=this.activeGroup;return e==null?void 0:e.name},itemsToRender(){return this.viewMode=="group"?100:this.itemsToRenderDefault},groupedRenderedItems(){let e=this.renderedItems.reduce((s,u)=>(s[u.subDetails._id]||(s[u.subDetails._id]=[]),s[u.subDetails._id].push(u),s),{}),t=Object.keys(e).map(s=>({subDetails:this.allSubList.find(u=>u._id==s),items:e[s]}));return t=t.sort((s,u)=>s.subDetails.title.localeCompare(u.subDetails.title)||s.subDetails._id.localeCompare(u.subDetails._id)),t=t.sort((s,u)=>new Date(u.items[0].createdAt).getTime()-new Date(s.items[0].createdAt).getTime()),t},subSelectorList(){return this.allSubList.filter(e=>!!e.title).map(e=>({...e,selected:this.selectedSubscriptionIds.includes(e._id)})).sort((e,t)=>e.title.localeCompare(t.title))},selectedList(){return this.subSelectorList.filter(e=>e.selected)},activeGroup(){return this.subGroupList.find(e=>e._id==this.activeGroupId)},currentGroupName(){if(this.activeGroupId==null)return null;const e=this.subGroupList.find(t=>t._id==this.activeGroupId);return e==null?void 0:e.name},groupSubList(){if(this.activeGroupId==null)return this.allSubList;if(this.subGroupList.length==0)return[];const e=this.subGroupList.find(s=>s._id==this.activeGroupId);return e?this.allSubList.filter(s=>e.subIds.includes(s._id)).sort((s,u)=>s.title.localeCompare(u.title)):[]},hasMore(){return this.itemsToRender<this.items.length&&this.itemsToRender==this.renderedItems.length},lastUpdatedAt(){let e=this.groupSubList.map(t=>t.itemsLastUpdated).sort((t,s)=>new Date(s).getTime()-new Date(t).getTime());return e.length==0?null:e[0]}},methods:{firstItemOnly(e){return e.slice(0,1)},isExpandedSub(e){return this.expandedSubs.has(e)},toggleExpandSub(e){this.expandedSubs.has(e)?this.expandedSubs.delete(e):this.expandedSubs.add(e)},dragStartOrder(e){this.sourceEntryOrder=e},async dragOverOrder(e){this.trytochangeOrder(e)},async dragEndOrder(e){await this.trytochangeOrder(e)},toggleHideImages(){this.hideImages=!this.hideImages,x({hideImages:this.hideImages})},async trytochangeOrder(e){if(e._id!=this.sourceEntryOrder._id){const t=this.subGroupList.findIndex(a=>a._id==e._id),s=this.subGroupList.filter(a=>a._id!=this.sourceEntryOrder._id),u=[...s.slice(0,t),this.sourceEntryOrder,...s.slice(t)];await C.UpdateSubscriptionGroups(u)}},async orderGroups(){const e=this.subGroupList.sort(function(t,s){return de(t,s,"name")});await C.UpdateSubscriptionGroups(e)},async loadAllSubList(e=!1){try{this.allSubList=await C.ListAllPreparedSubscriptions(null,e),R("loadAllSubList",this.allSubList)}catch{this.showToast("Unable to load subscriptions",{variant:"danger",title:"Error",solid:!0})}finally{}},async loadSubscriptionItems(e,t=!1){try{return await ye(e,t)}catch(s){return console.error("Error loading subscription items",{...e},{force:t},s),[]}},prettyLastUpdated(e){if(!e)return"";if(new Date().getTime()-e<1e3*60)return"updated just now";let t=q(e);return!t||t==""?"":"updated "+t+" ago"},textTruncate:ue,prettyTimePast:q,isOlderThanSec(e,t){return e?new Date().getTime()-e>t*1e3:!1},async toggleFeed(e){e.hidden=!e.hidden,await this.loadActiveGroupSubscriptions()},toggleViewDismissed(){this.showDismissed=!this.showDismissed,this.updateRenderedItems()},async sortFeedItems(){this.items.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime())},async resetCache(){await C.ResetCache()},async toggleDismissItem(e){const t=await ee();let s=[];!e.dismissed?(R("xx1 Removing",e),e.removing=!0,s=[e._id||e.url,...t.dismissedItemsList||[]]):s=[...t.dismissedItemsList||[]].filter(a=>a!=e._id&&a!=e.url),s=s.filter(a=>!!a),s.length>1e3&&(s=s.slice(0,s.length-1e3)),await x({dismissedItemsList:s}),this.dismissedItemSet=new Set(s),await this.$nextTick(),setTimeout(()=>{this.updateRenderedItems(!1)},200)},async checkURLPermission(e){return(await this.sendReq("/client/checkIfPermitted",{url:e})).result},async saveShare(e){let t=e.itemMatch,s=t==null?void 0:t.itemId;if(!s){this.uiStore.showLoadingOverlay=!0;try{s=await this.saveItem(e)}finally{this.uiStore.showLoadingOverlay=!1}}s&&this.openPage(`/post/create?itemIds=${s}`)},async openPage(e){this.$router.push(e)},async openItemSource(e){if(e.type=="pub_item"){this.openPage(`/v/${e._id}`);return}else e.url!=null&&await J(e.url,"_blank")},async openItemDetails(e){var t,s;if(e!=null&&e.itemMatch){((s=(t=e==null?void 0:e.itemMatch)==null?void 0:t.details)==null?void 0:s.type)=="col"?this.openPage(`/collection/${e.itemMatch.itemId}`):this.openPage(`/item/${e.itemMatch.itemId}`);return}if(e.type=="pub_item"){this.openPage(`/v/${e._id}`);return}},async visitSub(e){this.loadOneSubscriptionOnly(e.subDetails._id)},async visitItem(e){e.url?await J(e.url,"_blank"):this.openItemDetails(e)},async saveItemModal(e){this.currentItem=e,this.showModal("add-to-library-modal")},async saveCurrentItem(){if(this.currentItem){this.closeModal("add-to-library-modal");try{this.uiStore.showLoadingOverlay=!0,await this.saveItem(this.currentItem)}finally{this.uiStore.showLoadingOverlay=!1}}},async _preparSaveDetailsForPubItem(e){const t=e.data,s=t.url;if(!await this.checkURLPermission(s)){console.error("You don't have permission to this URL.");return}return{name:t.name,description:t.description,imageFilename:t.imageFilename,url:t.url,patterns:(t==null?void 0:t.patterns)||[],useCriteria:t.useCriteria,categories:t.categories,publishId:t._id,type:t.type,meta:t.meta}},async _prepareDetailsForFeedItem(e){return{url:e.url,tags:[],patterns:[_(e.url)],meta:{title:e.title,description:e.description,imageSrc:e.imageUrl},type:"link"}},async prepareDetails(e){if(e.type=="feed_item")return await this._prepareDetailsForFeedItem(e);if(e.type=="pub_item")return await this._preparSaveDetailsForPubItem(e)},async newItemFeedback(e,t=null){await this.saveItem(e,t)},async saveItem(e,t=null){if(!["feed_item","pub_item"].includes(e.type)){this.showToast(`${e.type} item type not supported (TODO, fix me)`,{variant:"danger",title:"Error",solid:!0});return}const s=e.url;if(!await this.checkURLPermission(s)){const D="You don't have permission to this URL.";console.error(D),this.showToast(D,{variant:"danger",title:"Error",solid:!0});return}const u=await this.prepareDetails(e),a=await this.sendReq("/client/item/save",{details:u,collectionIds:this.currentlySelectedCollectionId?[this.currentlySelectedCollectionId]:null,feedbackUpdate:t});if(!a.success){R("Response",a.message),console.error(a.message),this.showToast("Error saving item",{variant:"danger",title:"Error",solid:!0});return}return this.currentlySelectedCollectionId=null,await this.RefreshIndexQuick(),await this.loadData(!0),a.result},async findPubMatches(e){if(e.length==0)return;const t=await this.sendReq("/client/item/matchesForPubIds",{pubIds:e});if(!t.success){console.error(t.message);return}const s=t.result;for(const u of s)this.matchLookupPubId[u.pubId]=u.item},async findURLMatches(e){if(e.length==0)return;const t=await this.sendReq("/client/item/matchesForURLs",{urls:e});if(!t.success){console.error(t.message);return}const s=t.result;for(const u of s)this.matchLookupURL[u.url]=u.item},async loadMore(){this.itemsToRender+=10,await this.updateRenderedItems()},async loadActiveGroupSubscriptions(e=!1){this.items=[];let s=(await Promise.all(this.groupSubList.map(u=>this.loadSubscriptionItems(u,e)))).flat();this.items=this.items.concat(s),await this.lookupItemMatches(),await this.updateRenderedItems(!0)},async loadSingleSubWithId(e,t=!1){if(this.currentSub=this.allSubList.find(s=>s._id==e),this.currentSub){this.items=[];let s=await this.loadSubscriptionItems(this.currentSub,t);this.items=this.items.concat(s),await this.lookupItemMatches(),await this.updateRenderedItems(!0)}},async updateFeedbackValue(e,t,s){const u=await this.sendReq("/item/feedback/value/update",{itemId:e,attr:t,value:s});if(u.success)this.RefreshIndexQuick();else{let a=u.message;console.error(a);return}},async updateRenderedItems(e=!1){var u;e&&await this.sortFeedItems();const t=new Set;this.renderedItems=this.items.map(a=>({...a,dismissed:a._id?this.dismissedItemSet.has(a._id):this.dismissedItemSet.has(a.url)})).filter(a=>t.has(a.url||a._id)?!1:(t.add(a.url||a._id),this.showDismissed?a.dismissed:!a.dismissed)),this.renderedItems.sort((a,D)=>new Date(D.createdAt).getTime()-new Date(a.createdAt).getTime()),this._viewModeDefault!="group"&&this.renderedItems.slice(0,this.itemsToRender);let s=[];for(const a of this.renderedItems){const D=this.matchLookupURL[a.url];if(D)a.itemMatch=D;else if(a.type=="pub_item"){const h=this.matchLookupPubId[a._id];h&&(a.itemMatch=h)}let $=new Set;if(a.patterns)for(const h of a.patterns)$.add(h);if((u=a==null?void 0:a.info)!=null&&u.additionalLinks)for(const h of a.info.additionalLinks)$.add(_(h==null?void 0:h.url));a.url&&$.add(_(a.url)),s.push({sourceId:"subItem:"+(a._id||a.url),patterns:Array.from($)})}this.giveTempAccess(s).catch(a=>{console.error(a)})},async addSubscriptionToGroup(e){this.selectedSubscriptionIds.push(e._id)},async newGroup(){this.closeModal("edit-groups-modal"),this.newGroupName="",this.selectedSubscriptionIds=[],this.showModal("new-group-modal")},async createNewGroup(){if(this.subGroupList.find(s=>s.name==this.newGroupName)){this.showToast("Name is used by other group",{variant:"danger",title:"Name in use",solid:!0});return}const t=we();await C.UpdateSubscriptionGroups([...this.subGroupList,{_id:t,name:this.newGroupName,subIds:[]}]),this.newGroupName="",await this.changeActiveGroup(t),this.closeModal("new-group-modal"),this.showModal("edit-groups-modal")},async changeEditActiveGroup(e){var t;this.selectedSubscriptionIds=[],await this.changeActiveGroup(e),this.selectedSubscriptionIds=((t=this.activeGroup)==null?void 0:t.subIds)||[]},async changeActiveGroup(e){this.loadingActiveGroup=!0;try{this.activeGroupId=e,e!=null&&!this.asComponent&&this.$router.push({query:{groupId:e}}),await this.loadActiveGroupSubscriptions()}catch(t){console.error("Error changing active group",t)}this.loadingActiveGroup=!1},async editGroup(){this.newGroupName=this.currentGroupName,this.showModal("edit-group-modal")},async saveGroupNameChange(){const e=this.activeGroup;if(!e)return;e.name=this.newGroupName,this.newGroupName="";const s=[...this.subGroupList.filter(u=>u._id!=e._id),e];await C.UpdateSubscriptionGroups(s),this.closeModal("edit-group-modal")},async renameSubscriptionModal(e){this.newSubName=e.title,this.selectedSub=e,this.showModal("rename-sub-modal")},async renameSubscription(){if((await this.sendReq("/client/subscription/edit",{subscriptionId:this.selectedSub._id,data:{...this.selectedSub.data,title:this.newSubName},encInfo:this.selectedSub.encInfo})).success)this.selectedSub=null,this.newSubName="",await this.loadAllSubList(),await this.loadData();else{this.showToast("Error renaming subscription",{variant:"danger",title:"Error",solid:!0});return}},async deleteSubscription(e){const t=await this.sendReq("/subscription/removeById",{subscriptionId:e._id});if(t.success){await this.loadAllSubList();const s=[...this.subGroupList];for(const u of s)u.subIds=u.subIds.filter(a=>a!=e._id);await C.UpdateSubscriptionGroups(s)}else{let s=t.message;console.error(s);return}},async saveGroupSubChanges(){const e=this.activeGroup;if(!e)return;e.subIds=this.selectedSubscriptionIds;const t=this.subGroupList.filter(s=>s._id!=e._id);await C.UpdateSubscriptionGroups([...t,e]),await this.loadActiveGroupSubscriptions(),this.closeModal("edit-groups-modal")},async removeSubFromGroup(e){this.activeGroup&&(this.selectedSubscriptionIds=this.selectedSubscriptionIds.filter(s=>s!=e._id))},async openEditGroup(e=null){var t;e?await this.changeActiveGroup(e):this.selectedSubscriptionIds=((t=this.activeGroup)==null?void 0:t.subIds)||[],this.showModal("edit-groups-modal")},async deleteGroup(){const e=this.activeGroup;if(!e)return;const t=this.subGroupList.filter(s=>s._id!=e._id);await C.UpdateSubscriptionGroups([...t]),this.activeGroupId=null,this.subGroupList.length>0&&(this.activeGroupId=this.subGroupList[0]._id),this.selectedSubscriptionIds=[],await this.loadActiveGroupSubscriptions(),this.closeModal("edit-groups-modal")},async loadDefault(){this.subGroupList=[{_id:1,name:"All",subIds:this.allSubList.map(e=>e._id)}],this.activeGroupId=1},async backToGroups(){this.subId=null,this.currentSub=null,this.$router.go(-1),this.loadData()},async loadOneSubscriptionOnly(e){this.loading=!0;try{this.subId=e,this.asComponent?this.$router.push({path:"/feeds/subscriptions",query:{subId:e}}):this.$router.push({query:{subId:e}}),await this.loadData()}finally{this.loading=!1}},async lookupItemMatches(){const e=this.items.map(s=>s==null?void 0:s.url).filter(s=>!!s),t=this.items.filter(s=>!!s).filter(s=>s.type=="pub_item"||s.type=="pub_col").map(s=>s._id).filter(s=>!!s);R("URLS",e," pubIds",t),await this.findURLMatches(e),await this.findPubMatches(t)},async loadData(e=!1){this.subId?await this.loadSingleSubWithId(this.subId,e):await this.loadActiveGroupSubscriptions(e)},async giveTempAccess(e){this.isAdminUser||await this.sendReq("/client/sentry/giveTempAccess",{patternList:e})},async loadSettings(){const e=await ee();e!=null&&e.dismissedItemsList&&(this.dismissedItemSet=new Set(e.dismissedItemsList),R("setting dismissedItemSet",this.dismissedItemSet)),e!=null&&e.hideImages&&(this.hideImages=e.hideImages)},async setDefaultActiveGroup(){!this.subId&&!this.activeGroupId&&this.subGroupList.length>0&&(this.activeGroupId=this.subGroupList[0]._id,this.asComponent||this.$router.push({query:{groupId:this.activeGroupId}})),!this.asComponent&&!this.activeGroupId&&this.$router.push({query:{groupId:this.activeGroupId}})},async refreshSubs(){await this.loadPage(!0)},async loadPage(e=!1){this.loading=!0,await Ie(e),await this.loadSettings(),await this.loadAllSubList(e),await this.setDefaultActiveGroup(),this.subId&&await this.loadOneSubscriptionOnly(this.subId),await this.loadData(e),this.loading=!1}},created(){this.subId=this.$route.query.subId,this.activeGroupId=this.$route.query.groupId,this.loadPage()}}),He={class:"mb-2"},Be={class:"mb-2"},ze={class:"d-flex flex-gap-1 mb-4"},Qe={key:0},We={class:"mb-2 d-flex flex-gap-sm"},Xe=["onDragstart","onDrop","onDragover"],Ye={class:"d-flex flex-gap-sm"},Ke={key:1},Je={class:"mb-2"},Ze={class:"mb-2 d-flex justify-content-between align-items-center"},xe={class:"h4"},et={class:"small text-muted"},tt={class:"d-flex"},st={class:"d-flex justify-content-between mt-4 mx-1"},it={class:"d-flex justify-content-between flex-wrap flex-gap-1 mb-1 mx-1"},ot={key:0},nt={class:"d-flex align-items-center flex-wrap flex-gap-1 h4 pb-0 mb-0"},rt={key:0},lt={key:1},at={class:"d-flex flex-gap-sm flex-wrap align-items-center"},dt={key:0},ut={class:"d-flex flex-gap-1"},mt={class:"h3 d-flex flex-gap-1 flex-wrap align-items-center"},pt={class:"medImageContainer"},ct=["src"],ht={class:"medImageContainer"},ft={key:0},bt={class:"text-muted small d-flex align-items-center flex-gap-sm"},gt={key:2,class:"d-flex flex-gap-sm align-items-center"},vt={class:"d-flex flex-gap-sm align-items-center justify-content-start"},yt={key:0,class:"text-muted small"},It={key:1,class:"text-muted small"},wt={key:2,class:"text-muted small"},St={class:"d-flex flex-gap-sm align-items-center justify-content-end"},kt={key:0},Gt={key:1},$t={key:0},Lt={key:1},Dt={key:0},Ct={key:1},Mt={key:0,class:"mx-1"},Tt={class:"d-flex flex-gap-sm align-items-center flex-wrap text-muted small mt-3"},Ot=["onClick"],At=["to"],Vt=["src"],Nt=["to"],Rt={key:2},Ut={key:1,class:"mt-4"},Ft={key:0,class:"d-flex align-items-center justify-content-center py-3 my-3 ms-1"},Pt={key:2,class:"mt-4"},Et={class:"mb-3 mx-2"},_t={class:"h4"},qt=["onClick"],jt={class:""},Ht=["src"],Bt={key:2,class:""},zt={class:"text-muted xsmall"},Qt={class:"mb-4 mt-1"},Wt=["onClick"],Xt={key:0},Yt={key:3,class:"mx-2"},Kt={class:"text-center tsFadeInAnimationMed mt-4"},Jt={key:4,class:"mx-2"},Zt={key:0,class:"text-muted"},xt={key:1,class:"text-muted"},es={key:2,class:"mt-4"};function ts(e,t,s,u,a,D){var j,H,B,z,Q;const $=v("b-form-input"),h=v("b-modal"),p=v("b-icon"),w=v("b-button"),F=v("PopCollectionSelector"),S=v("b-dropdown-item"),V=v("b-dropdown"),P=v("b-spinner"),N=v("router-link"),O=v("ItemImage"),T=v("b-link"),b=v("SubscriptionItem"),ne=v("PlaceholderList"),re=fe("b-modal");return i(),r("div",null,[n(h,{id:"rename-sub-modal",onOk:t[1]||(t[1]=o=>e.renameSubscription()),title:"Rename Subscription","ok-title":"Rename"},{default:d(()=>[l("div",He,[n($,{modelValue:e.newSubName,"onUpdate:modelValue":t[0]||(t[0]=o=>e.newSubName=o),placeholder:"Enter Subscription Name"},null,8,["modelValue"])])]),_:1}),n(h,{id:"new-group-modal",onOk:e.createNewGroup,title:"Creating new group"},{default:d(()=>[l("div",Be,[n($,{modelValue:e.newGroupName,"onUpdate:modelValue":t[2]||(t[2]=o=>e.newGroupName=o),placeholder:"Enter New Group Name"},null,8,["modelValue"])])]),_:1},8,["onOk"]),n(h,{id:"edit-allgroups-modal",title:"Edit Groups"},{default:d(()=>[l("div",ze,[n(w,{onClick:e.newGroup,variant:"outline-primary"},{default:d(()=>[n(p,{icon:"plus"}),t[24]||(t[24]=c(" New Group "))]),_:1},8,["onClick"])]),e.subGroupList&&e.subGroupList.length>0?(i(),r("div",Qe,[t[27]||(t[27]=l("hr",null,null,-1)),l("div",We,[l("div",{role:"button",class:"linklike",onClick:t[3]||(t[3]=o=>e.orderGroups())}," Order by name "),t[25]||(t[25]=c(" or ")),t[26]||(t[26]=l("div",{class:"text-muted"},"drag and drop items",-1))]),t[28]||(t[28]=l("hr",null,null,-1)),l("div",null,[(i(!0),r(G,null,M(e.subGroupList,(o,g)=>(i(),r("div",{key:g,draggable:!0,onDragstart:f=>e.dragStartOrder(o),onDrop:f=>e.dragEndOrder(o),onDragover:f=>e.dragOverOrder(o),role:"button",class:"d-flex flex-gap-sm justify-content-between align-items-center hoverrow py-2"},[l("div",Ye,[l("div",{class:"p-1 py-2 handle d-flex align-items-center larger",onDragover:t[4]||(t[4]=U(()=>{},["prevent"]))},[n(p,{icon:"grip-vertical"}),l("div",null,I(o.name),1)],32)])],40,Xe))),128))])])):(i(),r("div",Ke,t[29]||(t[29]=[l("div",{class:"text-muted"},"No groups found",-1)])))]),_:1}),n(h,{id:"edit-group-modal",onOk:e.saveGroupNameChange,title:"Rename Group","ok-title":"Rename"},{default:d(()=>[l("div",Je,[n($,{modelValue:e.newGroupName,"onUpdate:modelValue":t[5]||(t[5]=o=>e.newGroupName=o),placeholder:"Enter Group Name"},null,8,["modelValue"])])]),_:1},8,["onOk"]),n(h,{id:"edit-groups-modal",size:"lg",onOk:t[7]||(t[7]=o=>e.saveGroupSubChanges()),title:"Editing Group","ok-title":"Save"},{default:d(()=>[l("div",Ze,[l("div",null,[t[30]||(t[30]=l("div",{class:"text-muted xsmall"},"Group Name",-1)),l("div",xe,I(e.currentGroupName),1)]),l("div",null,[n(w,{variant:"link",onClick:e.editGroup},{default:d(()=>[n(p,{icon:"pencil"}),t[31]||(t[31]=c(" Rename"))]),_:1},8,["onClick"]),n(w,{variant:"link",class:"danger-color",onClick:t[6]||(t[6]=o=>e.deleteGroup())},{default:d(()=>[n(p,{icon:"trash"}),t[32]||(t[32]=c(" Delete "))]),_:1})])]),t[33]||(t[33]=l("hr",null,null,-1)),(i(!0),r(G,null,M(e.subSelectorList,(o,g)=>(i(),r("div",{key:g,class:"p-1 d-flex justify-content-between mb-2 hoverrow"},[l("div",null,[l("div",null,I(o.title),1),l("div",et,I(o.type),1)]),l("div",tt,[o.selected?(i(),y(w,{key:1,variant:"link",onClick:f=>e.removeSubFromGroup(o)},{default:d(()=>[n(p,{icon:"check-square"})]),_:2},1032,["onClick"])):(i(),y(w,{key:0,variant:"link",onClick:f=>e.addSubscriptionToGroup(o)},{default:d(()=>[n(p,{icon:"square"})]),_:2},1032,["onClick"]))])]))),128))]),_:1}),n(h,{id:"add-to-library-modal",size:"lg","hide-footer":""},{default:d(()=>{var o,g;return[l("div",null,[n(F,{hideFooterButtons:!0,onChange:t[8]||(t[8]=f=>e.currentlySelectedCollectionId=f),onClear:t[9]||(t[9]=f=>e.currentlySelectedCollectionId=void 0),listclasses:"scrollbox",suggestionQuery:`${(o=e.currentItem)==null?void 0:o.title} ${(g=e.currentItem)==null?void 0:g.url}`},null,8,["suggestionQuery"])]),l("div",st,[n(w,{onClick:t[10]||(t[10]=f=>e.closeModal("add-to-library-modal")),variant:"secondary"},{default:d(()=>t[34]||(t[34]=[c("Cancel")])),_:1}),n(w,{onClick:e.saveCurrentItem,variant:"primary",disabled:e.uiStore.showLoadingOverlay},{default:d(()=>t[35]||(t[35]=[c("Add")])),_:1},8,["onClick","disabled"])])]}),_:1}),Z(e.$slots,"header",{item:e.groupSubList}),l("div",it,[e.subId?(i(),r("div",lt,[l("div",at,[n(w,{variant:"link",onClick:t[12]||(t[12]=o=>e.backToGroups()),class:"h4"},{default:d(()=>[n(p,{icon:"chevron-left"})]),_:1}),e.currentSub?(i(),r("div",dt,[l("div",ut,[l("div",mt,[((j=e.currentSub)==null?void 0:j.refType)=="pub_col"?(i(),y(N,{key:0,to:`/v/${e.currentSub.refId}`,class:"linklike-bw d-flex flex-gap-sm align-items-center"},{default:d(()=>{var o,g;return[l("div",pt,[l("img",{class:"circleAroundImageMed",src:(g=(o=e.currentSub)==null?void 0:o.item)==null?void 0:g.imageFilename,alt:""},null,8,ct)])]}),_:1},8,["to"])):((H=e.currentSub)==null?void 0:H.refType)=="item_feed"?(i(),y(N,{key:1,to:`/item/${e.currentSub.refId}`,class:"linklike-bw d-flex flex-gap-sm align-items-center"},{default:d(()=>{var o,g;return[l("div",ht,[(o=e.currentSub)!=null&&o.item?(i(),y(O,{key:0,class:"circleAroundImageMed",item:(g=e.currentSub)==null?void 0:g.item},null,8,["item"])):m("",!0)])]}),_:1},8,["to"])):m("",!0),l("div",null,I((B=e.currentSub)==null?void 0:B.title),1)]),e.currentSub.refType=="item_feed"?(i(),r("div",ft)):m("",!0)]),l("div",bt,[t[37]||(t[37]=c(" Subscription ")),e.currentSub.refType=="item_feed"?(i(),y(T,{key:0,to:`/item/${e.currentSub.refId}`},{default:d(()=>[n(p,{icon:"info-circle"})]),_:1},8,["to"])):m("",!0),e.currentSub.refType=="item_feed"&&((z=e.currentSub)!=null&&z.url)?(i(),y(T,{key:1,href:e.currentSub.url,target:"_blank"},{default:d(()=>[n(p,{icon:"box-arrow-up-right"})]),_:1},8,["href"])):m("",!0),e.currentSub.refType=="pub_col"?(i(),y(T,{key:2,to:`/v/${e.currentSub.refId}`},{default:d(()=>[n(p,{icon:"info-circle"})]),_:1},8,["to"])):m("",!0)])])):m("",!0),t[38]||(t[38]=l("div",null,null,-1))])])):(i(),r("div",ot,[l("div",nt,[n(V,{text:e.activeGroupName,variant:"link","toggle-class":"p-1 larger"},{default:d(()=>[(i(!0),r(G,null,M(e.subGroupList,(o,g)=>(i(),y(S,{key:g,onClick:f=>e.changeActiveGroup(o._id)},{default:d(()=>[c(I(o.name),1)]),_:2},1032,["onClick"]))),128)),n(S,{onClick:t[11]||(t[11]=o=>e.changeActiveGroup(null))},{default:d(()=>t[36]||(t[36]=[c(" All ")])),_:1})]),_:1},8,["text"]),e.loadingActiveGroup?(i(),r("div",rt,[n(P,{small:"",label:"Loading...",variant:"primary"})])):m("",!0)])])),e.hideSubMenu?m("",!0):(i(),r("div",gt,[l("div",vt,[e.subId?(i(),r("div",yt,I(e.prettyLastUpdated((Q=e.currentSub)==null?void 0:Q.itemsLastUpdated)),1)):(i(),r("div",It,I(e.prettyLastUpdated(e.lastUpdatedAt)),1)),e.showDismissed?(i(),r("div",wt,[t[39]||(t[39]=c(" Showing dismissed only ")),n(p,{role:"button",onClick:t[13]||(t[13]=o=>e.toggleViewDismissed()),icon:"x"})])):m("",!0)]),l("div",St,[!e.subId&&e.isMobile?(i(),y(w,{key:0,variant:"link",onClick:t[14]||(t[14]=o=>e.showSubs=!e.showSubs),title:"toggle subscription list"},{default:d(()=>[n(p,{icon:e.showSubs?"chevron-up":"chevron-down"},null,8,["icon"])]),_:1})):m("",!0),n(w,{onClick:t[15]||(t[15]=o=>e.detailedView=!e.detailedView),variant:"link",class:"p-1"},{default:d(()=>[e.detailedView?(i(),r("span",Gt,[n(p,{icon:"view-stacked"})])):(i(),r("span",kt,[n(p,{icon:"justify"})]))]),_:1}),n(w,{onClick:t[16]||(t[16]=o=>e.refreshSubs()),variant:"link",class:"p-1"},{default:d(()=>[n(p,{icon:"arrow-clockwise"})]),_:1}),n(V,{id:"dropdown-1",text:"","no-caret":"",variant:"link","toggle-class":"p-1"},{"button-content":d(()=>[n(p,{icon:"three-dots-vertical"})]),default:d(()=>[n(S,{to:"/settings/mysubscriptionlist?action=addSub"},{default:d(()=>[n(p,{icon:"plus"}),t[40]||(t[40]=c(" Add Subscription "))]),_:1}),e.activeGroupId!=null&&!e.subId?(i(),y(S,{key:0,onClick:t[17]||(t[17]=o=>e.openEditGroup())},{default:d(()=>[n(p,{icon:"pencil"}),t[41]||(t[41]=c(" Edit Group "))]),_:1})):e.subId?(i(),y(S,{key:1,onClick:t[18]||(t[18]=o=>e.renameSubscriptionModal(e.currentSub))},{default:d(()=>[n(p,{icon:"pencil"}),t[42]||(t[42]=c(" Rename "))]),_:1})):m("",!0),be((i(),y(S,null,{default:d(()=>[n(p,{icon:"list"}),t[43]||(t[43]=c(" Edit Group List "))]),_:1})),[[re,void 0,void 0,{"edit-allgroups-modal":!0}]]),n(S,{onClick:t[19]||(t[19]=o=>e.toggleViewDismissed())},{default:d(()=>[e.showDismissed?(i(),r("span",$t,[n(p,{icon:"eye-slash"}),t[44]||(t[44]=c(" Hide dismissed"))])):(i(),r("span",Lt,[n(p,{icon:"eye"}),t[45]||(t[45]=c(" Show Dismissed Only"))]))]),_:1}),n(S,{onClick:t[20]||(t[20]=o=>e.toggleHideImages())},{default:d(()=>[e.hideImages?(i(),r("span",Ct,[n(p,{icon:"image"}),t[47]||(t[47]=c(" Show Images"))])):(i(),r("span",Dt,[n(p,{icon:"text"}),t[46]||(t[46]=c(" Hide Images"))]))]),_:1}),n(S,{to:"/settings/mysubscriptionlist"},{default:d(()=>[n(p,{icon:"gear"}),t[48]||(t[48]=c(" Edit Subscription List "))]),_:1})]),_:1})])]))]),!e.subId&&!e.hideSubMenu&&(!e.isMobile||e.showSubs)?(i(),r("div",Mt,[l("div",Tt,[(i(!0),r(G,null,M(e.groupSubList,(o,g)=>{var f;return i(),r("div",{key:g},[l("div",{role:"button",onClick:E=>e.loadOneSubscriptionOnly(o._id),class:"truncateme pill px-2 py-1 fillrow d-flex flex-gap-sm align-items-center linklike-ml"},[(o==null?void 0:o.refType)=="pub_col"?(i(),r("div",{key:0,to:`/v/${o.refId}`,class:"xsmallImageContainer"},[l("img",{class:"circleAroundImageXsmall",src:(f=o==null?void 0:o.item)==null?void 0:f.imageFilename,alt:""},null,8,Vt)],8,At)):(o==null?void 0:o.refType)=="item_feed"?(i(),r("div",{key:1,to:`/item/${o.refId}`,class:"xsmallImageContainer"},[o!=null&&o.item?(i(),y(O,{key:0,class:"circleAroundImageXsmall",item:o==null?void 0:o.item},null,8,["item"])):m("",!0)],8,Nt)):(i(),r("div",Rt,[o.type=="rss"?(i(),y(p,{key:0,icon:"rss",class:"circleAroundImageXsmall larger"})):m("",!0)])),c(" "+I(o.title),1)],8,Ot)])}),128))])])):m("",!0),t[53]||(t[53]=l("hr",null,null,-1)),!e.loading&&e.viewMode!="group"?(i(),r("div",Ut,[(i(!0),r(G,null,M(e.renderedItems,(o,g)=>(i(),r("div",{key:g},[n(b,{item:o,hideImages:e.hideImages,detailedView:e.detailedView,"onUpdate:detailedView":t[21]||(t[21]=f=>e.detailedView=f),onShare:f=>e.saveShare(o),onSaveModal:f=>e.saveItemModal(o),onToggleDismiss:f=>e.toggleDismissItem(o),onVisit:f=>e.visitItem(o),onOpenItemDetails:f=>e.openItemDetails(o),onOpenItemSource:f=>e.openItemSource(o),onVisitSub:f=>e.visitSub(o),onNewItemFeedback:f=>e.newItemFeedback(o,f)},null,8,["item","hideImages","detailedView","onShare","onSaveModal","onToggleDismiss","onVisit","onOpenItemDetails","onOpenItemSource","onVisitSub","onNewItemFeedback"])]))),128)),e.hasMore&&!e.loading?(i(),r("div",Ft,[n(w,{variant:"primary",onClick:t[22]||(t[22]=o=>e.loadMore())},{default:d(()=>t[49]||(t[49]=[c("Load More")])),_:1})])):m("",!0)])):!e.loading&&e.viewMode=="group"?(i(),r("div",Pt,[(i(!0),r(G,null,M(e.groupedRenderedItems,(o,g)=>{var f,E,W,X,Y,K;return i(),r(G,{key:g},[l("div",Et,[l("div",_t,[l("div",{role:"button",onClick:k=>e.loadOneSubscriptionOnly(o.subDetails._id),class:"linklike-bw d-flex flex-gap-sm align-items-center"},[l("div",jt,[((f=o.subDetails)==null?void 0:f.refType)=="pub_col"?(i(),r("img",{key:0,class:"circleAroundImageSmall",src:(W=(E=o.subDetails)==null?void 0:E.item)==null?void 0:W.imageFilename,alt:""},null,8,Ht)):((X=o.subDetails)==null?void 0:X.refType)=="item_feed"&&((Y=o.subDetails)!=null&&Y.item)?(i(),y(O,{key:1,class:"circleAroundImageSmall",item:(K=o.subDetails)==null?void 0:K.item},null,8,["item"])):(i(),r("div",Bt,[n(p,{icon:"rss"})]))]),c(" "+I(o.subDetails.title),1)],8,qt)]),l("div",zt,I(e.prettyLastUpdated(o.items[0].createdAt)),1)]),(i(!0),r(G,null,M(e.firstItemOnly(o.items),(k,le)=>(i(),r("div",{key:le},[n(b,{item:k,hideImages:e.hideImages,hideSubInfo:!0,detailedView:e.detailedView,"onUpdate:detailedView":t[23]||(t[23]=L=>e.detailedView=L),onShare:L=>e.saveShare(k),onSaveModal:L=>e.saveItemModal(k),onToggleDismiss:L=>e.toggleDismissItem(k),onVisit:L=>e.visitItem(k),onOpenItemDetails:L=>e.openItemDetails(k),onOpenItemSource:L=>e.openItemSource(k),onVisitSub:L=>e.visitSub(k),onNewItemFeedback:L=>e.newItemFeedback(k,L)},null,8,["item","hideImages","detailedView","onShare","onSaveModal","onToggleDismiss","onVisit","onOpenItemDetails","onOpenItemSource","onVisitSub","onNewItemFeedback"])]))),128)),l("div",Qt,[o.items.length>1?(i(),r("div",{key:0,class:A([e.isMobile?" d-flex justify-content-center align-items-center flex-gap-sm ":"btn btn-link px-3","borderOnHover pill fillrow"]),role:"button",onClick:k=>e.loadOneSubscriptionOnly(o.subDetails._id)}," More "+I(o.subDetails.title),11,Wt)):m("",!0)]),g<e.groupedRenderedItems.length-1?(i(),r("hr",Xt)):m("",!0)],64)}),128))])):(i(),r("div",Yt,[l("div",Kt,[n(ne,{size:"lg"})])])),!e.loading&&e.items&&e.items.length==0?(i(),r("div",Jt,[e.asComponent?(i(),r("div",xt,"No recent items found")):(i(),r("div",Zt,"No items found")),e.isAdminUser&&!e.loading&&(!e.allSubList||e.allSubList.length==0)?(i(),r("div",es,[n(p,{icon:"lightbulb"}),t[51]||(t[51]=c(" You can find items to subscribe to by exploring ")),n(T,{to:"/explore"},{default:d(()=>t[50]||(t[50]=[c(" published content")])),_:1}),t[52]||(t[52]=c(". "))])):m("",!0)])):m("",!0),Z(e.$slots,"footer",{groupSubList:e.groupSubList})])}const ks=se(je,[["render",ts]]);export{ks as default};
