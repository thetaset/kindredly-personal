import{S as p}from"./SelectImageB1vQtVs9.js";import{a as k,m as f,aT as h,_ as b}from"./components.globalDizx_NTC.js";import{d as v,j as n,K as l,z as C,k as o,F as S,P as y,p as c,s as w,L as _,Q as B,r,ac as M,i,R as I}from"./@vueC3Nhqlrl.js";const x=v({name:"MyUIAppearance",mixins:[k,f],components:{SelectImage:p},data(){return{options:null,loading:!1,errorMessage:null,backgroundOptionDefaults:h}},mounted(){},computed:{},methods:{setCustomBackground(e){this.updateClientSetting("customBackground",e),this.changeToCustomBackground(),this.closeModal("select-image-modal")},updateOptions(){this.sendReq("/user/options/update",{options:this.options}).then(e=>{e.success?(this.loadOptions(),this.sendReq("/client/updatePlugins"),this.errorMessage=null):(console.error("Error:",e.message),this.errorMessage=e.message)})},loadOptions(){this.sendReq("/user/options/get",{refresh:!0}).then(e=>{e.success?(this.options=e.result,this.errorMessage=null):(console.error("Error:",e.message),this.errorMessage=e.message)})},async loadPage(){this.loadOptions()}},created(){this.loadPage()}}),$={class:"pb-4"},D={class:"form-check mb-3"},P=["checked"],O={class:"mb-3 d-flex align-items-center"},U={class:"mb-3 mt-4"},z={class:"mt-4 mb-1 d-flex flex-wrap flex-gap-sm align-items-center"},R=["onClick"],T=["src","alt"],j={key:1},N={class:"card-text m-0 text-center"},V=["src"],q={class:"image-preview-container card m1 d-flex align-items-center justify-content-center",role:"button",title:"Upload a custom background image"};function A(e,s,E,L,F,H){const d=r("SelectImage"),m=r("b-modal"),a=r("b-icon"),u=M("b-modal");return i(),n("div",null,[l(m,{lazy:"true",id:"select-image-modal",title:"Select Image",size:"lg","hide-footer":"","no-close-on-backdrop":""},{default:C(()=>[l(d,{keepPrefix:!0,onSelectImage:e.setCustomBackground,"max-size":4e3,keepAspectRatio:!0},null,8,["onSelectImage"])]),_:1}),o("div",$,[o("div",D,[o("input",{class:"form-check-input",type:"checkbox",id:"showCollectionsCheckbox",checked:e.clientSettings.showCollections,onInput:s[0]||(s[0]=t=>e.saveClientSettingsCheckbox("showCollections",t))},null,40,P),s[4]||(s[4]=o("label",{class:"form-check-label",for:"showCollectionsCheckbox"}," Show Pinned Items on Home ",-1))]),o("div",O,[e.darkMode?(i(),n("div",{key:0,role:"button",class:"",onClick:s[1]||(s[1]=t=>e.setUIMode("light"))},[l(a,{icon:"sun-fill"})])):(i(),n("div",{key:1,role:"button",class:"",onClick:s[2]||(s[2]=t=>e.setUIMode("dark"))},[l(a,{icon:"moon-fill"})])),s[5]||(s[5]=o("div",{class:"ms-1"},"Toggle Light/Dark Mode",-1))]),o("div",U,[s[7]||(s[7]=o("h5",null,"Home Page Background",-1)),o("div",z,[(i(!0),n(S,null,y(e.backgroundOptionDefaults,(t,g)=>(i(),n("div",{key:g,class:c(["image-preview-container rounded border shadow m-1 clickable bgoption small d-flex align-items-center justify-content-center",t.value,{selectborder:e.clientSettings.background==t.value}]),onClick:K=>e.changeBackground(t.value)},[t.file?(i(),n("img",{key:0,class:"image-preview",src:`/bgs/${t.file}`,alt:t.file},null,8,T)):(i(),n("div",j,[o("p",N,I(t.text),1)]))],10,R))),128)),e.clientSettings.customBackground?(i(),n("div",{key:0,class:c(["image-preview-container card m-1 clickable d-flex align-items-center justify-content-center",{selectborder:e.clientSettings.background=="custom"}]),onClick:s[3]||(s[3]=t=>e.changeToCustomBackground())},[o("img",{class:"image-preview",src:e.clientSettings.customBackground,alt:""},null,8,V)],2)):w("",!0),_((i(),n("div",q,[l(a,{icon:"upload"}),s[6]||(s[6]=B(" Upload Background "))])),[[u,void 0,void 0,{"select-image-modal":!0}]])]),s[8]||(s[8]=o("div",null,null,-1))])])])}const W=b(x,[["render",A]]);export{W as M};
