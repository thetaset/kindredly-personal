import{a as p,_ as f}from"./components.globalSAVxUKYX.js";import{d as c,j as y,K as s,z as r,m as h,s as N,r as t,i as l,Q as _}from"./@vueC3Nhqlrl.js";const g=c({name:"UpdateUserInfo",props:{userId:{type:String,default:null},defaultDisplayedName:{type:String,default:null}},mixins:[p],data(){return{displayedName:null,errorMessage:null}},mounted(){},computed:{},methods:{update(){if(this.errorMessage="",this.displayedName!=null&&this.displayedName.length>0&&this.displayedName.length<3){this.errorMessage="Invalid Displayed Name. Displayed Name should be 3 or more characters, leave empty to default to username.";return}if((this.displayedName==null||this.displayedName.length==0)&&(this.displayedName=null),this.displayedName==this.defaultDisplayedName){this.$emit("close",!0);return}this.sendReq("/user/info/update",{userId:this.userId,data:{displayedName:this.displayedName}}).then(e=>{e.success?this.$emit("close",!0):this.errorMessage=e.message})}},created(){this.displayedName=this.defaultDisplayedName}});function b(e,a,v,M,D,$){const n=t("b-form-input"),d=t("b-form-group"),i=t("b-form"),m=t("b-alert"),u=t("b-button");return l(),y("div",null,[s(i,null,{default:r(()=>[s(d,{class:"form-group"},{default:r(()=>[s(n,{autocorrect:"off",autocapitalize:"off",modelValue:e.displayedName,"onUpdate:modelValue":a[0]||(a[0]=o=>e.displayedName=o),placeholder:"Enter Displayed Name"},null,8,["modelValue"])]),_:1})]),_:1}),e.errorMessage?(l(),h(m,{key:0,class:"m-4",variant:"danger","model-value":!0,innerHTML:e.errorMessage},null,8,["innerHTML"])):N("",!0),s(u,{variant:"primary",class:"float-right mt-4",onClick:a[1]||(a[1]=o=>e.update())},{default:r(()=>a[2]||(a[2]=[_(" Save ")])),_:1})])}const V=f(g,[["render",b]]);export{V as U};
