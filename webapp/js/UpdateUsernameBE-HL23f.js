import{a as c,_ as h}from"./components.global5n24RCIC.js";import{d as g,j as b,K as s,z as n,k as u,m as _,s as v,r,i as l,Q as m}from"./@vueC3Nhqlrl.js";const V=g({name:"UpdateUsername",props:{userId:{type:String,default:null},defaultValue:{type:String,default:null}},mixins:[c],data(){return{username:null,errorMessage:null}},mounted(){},computed:{},methods:{cancel(){this.$emit("close",!1)},update(){if(this.errorMessage="",this.username!=null&&this.username.length>0&&this.username.length<3){this.errorMessage="Invalid username";return}if((this.username==null||this.username.length==0)&&(this.username=null),this.username==this.defaultValue){this.$emit("close",!0);return}this.sendReq("/user/info/updateUsername",{userId:this.userId,username:this.username}).then(t=>{t.success?this.$emit("close",!0):this.errorMessage=t.message})}},created(){this.username=this.defaultValue}}),U={class:"d-flex justify-content-between mt-4 mx-2"};function $(t,e,k,M,y,C){const i=r("b-form-input"),d=r("b-form-group"),p=r("b-form"),f=r("b-alert"),o=r("b-button");return l(),b("div",null,[s(p,null,{default:n(()=>[s(d,{class:"form-group"},{default:n(()=>[s(i,{autocorrect:"off",autocapitalize:"off",modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=a=>t.username=a),placeholder:"Enter a Username"},null,8,["modelValue"])]),_:1})]),_:1}),e[5]||(e[5]=u("div",{class:"text-muted"}," Username must be unique and container 3 or more characters, leave empty to default to username. Periods (.) are ok. No spaces or special characters. ",-1)),t.errorMessage?(l(),_(f,{key:0,class:"m-4",variant:"danger","model-value":!0,innerHTML:t.errorMessage},null,8,["innerHTML"])):v("",!0),u("div",U,[s(o,{variant:"secondary",onClick:e[1]||(e[1]=a=>t.cancel())},{default:n(()=>e[3]||(e[3]=[m(" Cancel ")])),_:1}),s(o,{variant:"primary",onClick:e[2]||(e[2]=a=>t.update())},{default:n(()=>e[4]||(e[4]=[m(" Save ")])),_:1})])])}const B=h(V,[["render",$]]);export{B as U};
