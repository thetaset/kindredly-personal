import{a as I,_ as k}from"./components.global5n24RCIC.js";import{P as y,T as c}from"./TIIconDefaultDZ-9wHcm.js";import{b as $}from"./bootstrapDQG5F40S.js";import{d as w,j as d,K as s,z as o,k as n,R as v,s as u,m as M,p,Q as a,r as m,i as l}from"./@vueC3Nhqlrl.js";import"./vue3-toastifyDll2FbVh.js";import"./@capacitorCjBcbZvA.js";import"./bootstrap-vue-nextDnMzdrWQ.js";import"./@popperjsCCtJ9KiL.js";import"./@mozillaCDB2aYYy.js";const C=w({name:"UserManagement",mixins:[I],components:{ProfileImage:y,TIIconDefault:c},data(){return{targetUserId:null,showSideMenu:!0,options:null,userInfo:{displayedName:null},loading:!1,errorMessage:null}},computed:{publicId(){var t;return(t=this.managingUser)==null?void 0:t.publicId},validUser(){var t;return((t=this.managingUser)==null?void 0:t.type)!="admin"}},methods:{async loadData(){this.LoadManagingUser(this.targetUserId,!1)}},mounted(){this.isMobile&&this.$route.query.menu=="true"&&[document.querySelector("#settings-side-menu")].map(g=>new $.Offcanvas(g))[0].show()},created(){this.targetUserId=this.$route.params.userId,(!this.isAdminUser||this.currentUserId==this.targetUserId)&&this.$router.push("/settings"),this.loadData()}}),P={key:0,class:"pb-2 d-flex d-flex align-items-center flex-gap-sm border-bottom justify-content-between"},S={key:0,class:"me-3 text-muted"},h={class:"ms-3"},L={class:"d-flex justify-content-between align-items-center mx-2 my-3"},q={key:0,class:"d-flex flex-gap-1 align-items-center"},D={class:"larger"},N={key:0},T={key:1},A={key:1,class:"container-fluid mt-2"},B={key:2,class:"container mt-2"},E={class:"alert alert-danger"},V={key:3,class:"div-10"};function j(t,e,g,z,R,F){const r=m("b-icon"),i=m("b-button"),f=m("ProfileImage"),U=m("TIcon"),b=m("router-view");return l(),d("div",{class:p(t.isMobile?"":"d-flex")},[t.isMobile?(l(),d("div",P,[s(i,{variant:"link",class:"linklike d-flex align-items-center","data-bs-toggle":"offcanvas","data-bs-target":"#settings-side-menu"},{default:o(()=>[s(r,{class:"larger",icon:"chevron-left"}),e[0]||(e[0]=a(" User Settings "))]),_:1}),t.managingUser?(l(),d("div",S,[s(f,{profileImage:t.managingUser.profileImage,width:36,showCircle:!1},null,8,["profileImage"]),n("span",h,v(t.managingUser.username),1)])):u("",!0)])):u("",!0),n("div",{"data-bs-scroll":"true",class:p(t.isMobile?"offcanvas offcanvas-start":"settings-side-menu border-right"),id:"settings-side-menu"},[n("div",null,[s(i,{variant:"link",class:"linklike",to:"/settings/manageusers"},{default:o(()=>[s(r,{icon:"chevron-left"}),e[1]||(e[1]=a(" All Users "))]),_:1})]),e[19]||(e[19]=n("hr",{class:"mb-1 mt-3"},null,-1)),n("div",L,[t.managingUser?(l(),d("div",q,[s(f,{profileImage:t.managingUser.profileImage,width:32,showCircle:!1},null,8,["profileImage"]),n("div",D,v(t.managingUser.username),1)])):u("",!0),t.isMobile?(l(),M(i,{key:1,class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})):u("",!0)]),e[20]||(e[20]=n("hr",{class:"mt-1 mb-3"},null,-1)),t.validUser?(l(),d("div",N,[n("div",null,[s(i,{variant:"link",to:`/user/profile/${t.targetUserId}`},{default:o(()=>[s(r,{icon:"person-square"}),e[2]||(e[2]=a(" Profile Page"))]),_:1},8,["to"])]),e[13]||(e[13]=n("div",{class:"small font-weight-strong text-center text-muted fillrow py-2 rounded mt-4 mb-3"}," User Settings ",-1)),n("div",null,[s(i,{variant:"link",to:`/manage/user/${t.targetUserId}/loginprefs`},{default:o(()=>[s(r,{icon:"person-gear"}),e[3]||(e[3]=a(" Login Profile"))]),_:1},8,["to"])]),n("div",null,[s(i,{variant:"link",to:`/manage/user/${t.targetUserId}/activity`},{default:o(()=>[s(r,{icon:"clock-history"}),e[4]||(e[4]=a(" History "))]),_:1},8,["to"])]),n("div",null,[s(i,{variant:"link",class:"",to:`/manage/user/${t.targetUserId}/usage`},{default:o(()=>[s(r,{icon:"bar-chart-line"}),e[5]||(e[5]=a(" Usage "))]),_:1},8,["to"])]),n("div",null,[s(i,{variant:"link",class:"",to:`/manage/user/${t.targetUserId}/usagelimits`},{default:o(()=>[s(r,{icon:"sliders"}),e[6]||(e[6]=a(" Usage Limits "))]),_:1},8,["to"])]),n("div",null,[s(i,{variant:"link",class:"",to:`/manage/user/${t.targetUserId}/clients`},{default:o(()=>[s(r,{icon:"phone"}),e[7]||(e[7]=a(" Clients "))]),_:1},8,["to"])]),e[14]||(e[14]=n("hr",null,null,-1)),n("div",null,[s(i,{variant:"link",class:"",to:`/manage/user/${t.targetUserId}/sharefeed`},{default:o(()=>[s(r,{icon:"activity"}),e[8]||(e[8]=a(" Sharing Activity "))]),_:1},8,["to"])]),n("div",null,[s(i,{variant:"link",class:"",to:`/manage/user/${t.targetUserId}/friends`},{default:o(()=>[s(r,{icon:"people"}),e[9]||(e[9]=a(" Friends "))]),_:1},8,["to"])]),n("div",null,[s(i,{variant:"link",class:"",to:`/manage/user/${t.targetUserId}/subscriptionlist`},{default:o(()=>[s(r,{icon:"newspaper"}),e[10]||(e[10]=a(" Subscriptions "))]),_:1},8,["to"])]),e[15]||(e[15]=n("hr",null,null,-1)),n("div",null,[s(i,{variant:"link",class:"",to:`/manage/user/${t.targetUserId}/encryption`},{default:o(()=>[s(r,{icon:"key"}),e[11]||(e[11]=a(" Encryption "))]),_:1},8,["to"])]),e[16]||(e[16]=n("hr",null,null,-1)),n("div",null,[s(i,{variant:"link",class:"",to:`/userLibrary/${t.targetUserId}`},{default:o(()=>[s(U,{name:"library",width:16}),e[12]||(e[12]=a(" Library "))]),_:1},8,["to"])])])):(l(),d("div",T,[n("div",null,[s(i,{variant:"link",class:"",to:`/user/profile/${t.targetUserId}`},{default:o(()=>[s(r,{icon:"person-square"}),e[17]||(e[17]=a(" User Profile"))]),_:1},8,["to"])])])),n("div",null,[s(i,{variant:"link",class:"",to:`/manage/user/${t.targetUserId}/accessrequests`},{default:o(()=>[s(r,{icon:"shield"}),e[18]||(e[18]=a(" Access Requests "))]),_:1},8,["to"])])],2),t.validUser?(l(),d("div",A,[s(b)])):(l(),d("div",B,[n("div",E,[s(r,{icon:"exclamation-triangle"}),e[21]||(e[21]=a(" You cannot manage an admin user. "))])])),t.isMobile?(l(),d("div",V)):u("",!0)],2)}const Z=k(C,[["render",j]]);export{Z as default};
