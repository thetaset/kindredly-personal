import{C as m}from"./ClientListComponentBMwadWqR.js";import{ax as p,_ as f}from"./components.globalBic2x0kT.js";import{d as _,j as l,k as t,K as y,Q as n,R as o,F,P as h,s as S,r as a,i as r,m as k,z as x}from"./@vueC3Nhqlrl.js";import"./vue3-toastifyDll2FbVh.js";import"./@capacitorCjBcbZvA.js";import"./bootstrap-vue-nextDnMzdrWQ.js";const B=_({name:"UserFiles",components:{ClientListComponent:m},data(){return{userFiles:null}},mounted(){},computed:{sortedByFilesize(){return this.userFiles?this.userFiles.sort((e,s)=>s.fileSize-e.fileSize):[]},allFileSizes(){return this.userFiles?this.userFiles.reduce((e,s)=>e+s.fileSize,0):0}},methods:{prettyFileSize(e){return e<1e3?e+"B":e<1e6?(e/1e3).toFixed(2)+"KB":(e/1e6).toFixed(2)+"MB"},prettyDate:p,async loadData(){let e=await this.apiReq("/userfile/listByUser",{});e.success&&(this.userFiles=e.result)}},created(){this.loadData()}}),z={class:"container"},C={class:"my-3"},T={key:0},$={class:"text-muted"},b={class:"col"},v={class:"text-muted"},D={class:"text-muted"},N={key:1},V={class:"text-muted"},g={class:"col"},w={class:"text-muted"},U={class:"text-muted"};function I(e,s,K,L,M,P){const d=a("b-icon"),c=a("router-link");return r(),l("div",null,[t("div",z,[t("h2",C,[y(d,{icon:"files"}),s[0]||(s[0]=n(" Files"))]),e.userFiles?(r(),l("div",T,[t("div",$,"Size of all files: "+o(e.prettyFileSize(e.allFileSizes)),1),s[2]||(s[2]=t("hr",null,null,-1)),(r(!0),l(F,null,h(e.sortedByFilesize,(i,u)=>(r(),l("div",{key:u,class:"small row d-flex align-items-center border-bottom py-1"},[t("div",b,[t("div",v,o(i.filename)+" "+o(i.fileType),1),t("div",D,[s[1]||(s[1]=n(" Parent: ")),i.refType=="item"?(r(),k(c,{key:0,to:`/item/${i.refId}`},{default:x(()=>[n(o(i.refType),1)]),_:2},1032,["to"])):(r(),l("span",N,o(i.refType)+"/"+o(i.refId),1))]),t("div",V,o(i.encrypted?"encrypted":""),1)]),t("div",g,[t("div",w,o(e.prettyFileSize(i.fileSize)),1),t("div",U,o(i.createdAt),1)])]))),128))])):S("",!0)])])}const G=f(B,[["render",I]]);export{G as default};
