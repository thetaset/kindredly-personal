import{_ as f}from"./components.globalSAVxUKYX.js";import{j as _,K as t,z as l,m as g,s as b,r as n,i as a,Q as P}from"./@vueC3Nhqlrl.js";const h={name:"UpdatePin",props:{userId:{type:String,default:null}},data(){return{pin:null,confirmPin:null,errorMessage:null}},mounted(){},computed:{},methods:{async updatePin(){if(this.pin!=this.confirmPin){this.errorMessage="PINs do not match";return}this.errorMessage=null;const s=await this.sendReq("/client/updatePIN",{userId:this.userId||this.currentUserId,pin:this.pin});s.success?(await this.RefreshCurrentUser(!0),this.$emit("close",!0)):this.errorMessage=s.message}},created(){}};function V(s,e,I,M,r,u){const i=n("b-form-input"),m=n("b-form-group"),p=n("b-form"),d=n("b-alert"),c=n("b-button");return a(),_("div",null,[t(p,null,{default:l(()=>[t(m,{class:"form-group"},{default:l(()=>[t(i,{modelValue:r.pin,"onUpdate:modelValue":e[0]||(e[0]=o=>r.pin=o),placeholder:"Enter PIN",type:"password"},null,8,["modelValue"]),t(i,{class:"mt-1",modelValue:r.confirmPin,"onUpdate:modelValue":e[1]||(e[1]=o=>r.confirmPin=o),placeholder:"Confirm PIN",type:"password"},null,8,["modelValue"])]),_:1})]),_:1}),r.errorMessage?(a(),g(d,{key:0,class:"m-4",variant:"danger","model-value":!0,innerHTML:r.errorMessage},null,8,["innerHTML"])):b("",!0),t(c,{variant:"primary",class:"float-right mt-4",onClick:e[2]||(e[2]=o=>u.updatePin())},{default:l(()=>e[3]||(e[3]=[P(" Save ")])),_:1})])}const U=f(h,[["render",V]]);export{U};
