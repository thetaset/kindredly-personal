const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/ItemListD2oBDijU.js","js/components.global5n24RCIC.js","js/@vueC3Nhqlrl.js","js/vue3-toastifyDll2FbVh.js","assets/vue3-toastify.css","js/@capacitorCjBcbZvA.js","js/bootstrap-vue-nextDnMzdrWQ.js","assets/bootstrap-vue-next.css","assets/components.css","js/browserTabsOcpZnJJW.js","js/TIIconDefaultDZ-9wHcm.js","assets/TIIconDefault.css","js/TIFeedbackInfoB-5_RUVQ.js","assets/TIFeedbackInfo.css","js/ItemImageBounipmB.js","kindredapp.js","js/vue-routerB6Jsgi62.js","js/vue-plugin-load-scriptXwA-LyvJ.js","js/bootstrapDQG5F40S.js","js/@popperjsCCtJ9KiL.js","js/@mozillaCDB2aYYy.js","assets/kindredapp.css","js/PopCollectionSelectorDtsi0cBR.js","js/CreateCollectionCvnp9GSK.js","js/ai_lookup_utilszDX_hcwM.js","assets/CreateCollection.css","assets/PopCollectionSelector.css","js/PlaceholderListBUV05qM-.js","assets/ItemList.css"])))=>i.map(i=>d[i]);
import{_ as i}from"./@capacitorCjBcbZvA.js";import{a as d,t as l,p as m,aj as c,l as u,_ as p}from"./components.global5n24RCIC.js";import{d as h,aa as f,j as _,K as g,r as I,i as y}from"./@vueC3Nhqlrl.js";import"./vue3-toastifyDll2FbVh.js";import"./bootstrap-vue-nextDnMzdrWQ.js";const D=h({name:"NewItems",mixins:[d],components:{ItemList:f(()=>i(()=>import("./ItemListD2oBDijU.js").then(e=>e.b),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28])))},data(){return{showDebug:!1,loading:!1,saving:!1,items:[],results:[],itemsToRender:10,orderBy:"recentlyAdded",errorMessage:null}},mounted(){},computed:{},methods:{textTruncate:l,prettyTimePast:m,updateOrder(){let e=this.results;this.results=[],this.orderBy=="recentlyAdded"?e.sort((t,s)=>{const a=s.permissionCreatedAt||s.createdAt,r=t.permissionCreatedAt||t.createdAt,n=a?new Date(a).getTime():0,o=r?new Date(r).getTime():0;return n-o}):e.sort(function(t,s){return c(t,s,"name")}),this.results=e},async loadItems(){this.loading=!0,this.results=[];const e=await this.sendReq("/client/searchMain",{searchType:"time",searchLookupValue:"latest"});e&&e.success?(this.results.push(...u(e.result,170)),this.updateOrder()):this.errorMessage=e.message,this.loading=!1},async loadData(){this.RefreshIndexQuick().then(e=>{e&&this.loadItems()}).catch(e=>{console.error("Error refreshing index",e)}),await this.loadItems()}},created(){this.loadData()}});function A(e,t,s,a,r,n){const o=I("ItemList");return y(),_("div",null,[g(o,{loading:e.loading,items:e.results,onUpdate:t[0]||(t[0]=w=>e.loadData())},null,8,["loading","items"])])}const L=p(D,[["render",A],["__scopeId","data-v-13c87f2c"]]);export{L as default};
