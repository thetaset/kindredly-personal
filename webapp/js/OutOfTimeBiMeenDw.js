import{a as p,_ as h}from"./components.globalDizx_NTC.js";import{U as _}from"./UsageSummaryDmFfw-p5.js";import{d as g,j as o,k as t,s as a,R as l,K as i,z as d,r,i as s}from"./@vueC3Nhqlrl.js";import"./vue3-toastifyDll2FbVh.js";import"./@capacitorCjBcbZvA.js";import"./bootstrap-vue-nextDnMzdrWQ.js";const y=g({name:"OutOfTime",mixins:[p],components:{UsageSummary:_},data(){return{timeLeftInfo:null,timeExceeded:!1,url:null,loading:!0}},mounted(){},computed:{},methods:{async loadCurrentUsageInfo(){this.loading=!0;const e=await this.sendReq("/client/activity/getCurrentUsageSummary",{urlFilter:this.url});this.timeLeftInfo=e.result.timeLeftInfo,this.timeExceeded=e.result.timeExceeded,this.loading=!1},async loadPage(){await this.loadCurrentUsageInfo()}},created(){this.url=this.$route.query.url,this.clearPermissionOverrideInfo(),this.loadPage()}}),v={key:0,class:"d-flex align-items-center justify-content-center flex-gap-sm"},k={key:0,class:"container"},I={key:0},L=["title"],b={key:0},C=["title","href"],T={class:"mt-3 p-3 text-center"},U={class:"d-flex align-items-center justify-content-center flex-gap-sm"};function E(e,n,x,O,S,$){const m=r("UsageSummary"),u=r("b-container"),c=r("TIcon"),f=r("router-link");return e.timeLeftInfo?(s(),o("div",v,[t("div",null,[e.url?(s(),o("div",k,[n[0]||(n[0]=t("div",{class:"mb-4"},null,-1)),e.timeExceeded?(s(),o("h3",I,"Time limit reached")):a("",!0),n[1]||(n[1]=t("div",{class:"mb-4"},null,-1)),t("div",{class:"d-inline-block p-2 border rounded",title:e.url},[!e.timeLeftInfo||e.timeExceeded?(s(),o("div",b,l(e.textTruncate(e.url,50)),1)):(s(),o("a",{key:1,title:e.url,href:e.url},l(e.textTruncate(e.url,50))+" (click to visit) ",9,C))],8,L)])):a("",!0),n[2]||(n[2]=t("div",{class:"mb-4"},null,-1)),i(u,null,{default:d(()=>[i(m,{timeLeftInfo:e.timeLeftInfo},null,8,["timeLeftInfo"])]),_:1}),t("div",T,[i(f,{to:"/",title:"Kindredly Home"},{default:d(()=>[t("div",U,[i(c,{class:"rotateonhover",name:"kindred-simple2",width:60})])]),_:1})])])])):a("",!0)}const q=h(y,[["render",E]]);export{q as default};
