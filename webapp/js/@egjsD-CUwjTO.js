import{C as sr,R as ur,O as lr,g as fr}from"./@cfcsDj3SjI2h.js";import{d as tt,h as me,C as cr,T as hr,F as dr,r as vr,g as gr}from"./@vueC3Nhqlrl.js";var _r=function(){function a(){this.keys=[],this.values=[]}var i=a.prototype;return i.get=function(n){return this.values[this.keys.indexOf(n)]},i.set=function(n,e){var t=this.keys,r=this.values,o=t.indexOf(n),s=o===-1?t.length:o;t[s]=n,r[s]=e},a}(),pr=function(){function a(){this.object={}}var i=a.prototype;return i.get=function(n){return this.object[n]},i.set=function(n,e){this.object[n]=e},a}(),mr=typeof Map=="function",br=function(){function a(){}var i=a.prototype;return i.connect=function(n,e){this.prev=n,this.next=e,n&&(n.next=this),e&&(e.prev=this)},i.disconnect=function(){var n=this.prev,e=this.next;n&&(n.next=e),e&&(e.prev=n)},i.getIndex=function(){for(var n=this,e=-1;n;)n=n.prev,++e;return e},a}();function Er(a,i){var n=[],e=[];return a.forEach(function(t){var r=t[0],o=t[1],s=new br;n[r]=s,e[o]=s}),n.forEach(function(t,r){t.connect(n[r-1])}),a.filter(function(t,r){return!i[r]}).map(function(t,r){var o=t[0],s=t[1];if(o===s)return[0,0];var u=n[o],l=e[s-1],f=u.getIndex();u.disconnect(),l?u.connect(l,l.next):u.connect(void 0,n[0]);var c=u.getIndex();return[f,c]})}var Pr=function(){function a(n,e,t,r,o,s,u,l){this.prevList=n,this.list=e,this.added=t,this.removed=r,this.changed=o,this.maintained=s,this.changedBeforeAdded=u,this.fixed=l}var i=a.prototype;return Object.defineProperty(i,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(i,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),i.caculateOrdered=function(){var n=Er(this.changedBeforeAdded,this.fixed),e=this.changed,t=[];this.cacheOrdered=n.filter(function(r,o){var s=r[0],u=r[1],l=e[o],f=l[0],c=l[1];if(s!==u)return t.push([f,c]),!0}),this.cachePureChanged=t},a}();function yr(a,i,n){var e=mr?Map:n?pr:_r,t=n||function(E){return E},r=[],o=[],s=[],u=a.map(t),l=i.map(t),f=new e,c=new e,d=[],h=[],v={},g=[],_=0,p=0;return u.forEach(function(E,P){f.set(E,P)}),l.forEach(function(E,P){c.set(E,P)}),u.forEach(function(E,P){var x=c.get(E);typeof x>"u"?(++p,o.push(P)):v[x]=p}),l.forEach(function(E,P){var x=f.get(E);typeof x>"u"?(r.push(P),++_):(s.push([x,P]),p=v[P]||0,d.push([x-p,P-_]),h.push(P===x),x!==P&&g.push([x,P]))}),o.reverse(),new Pr(a,i,r,o,g,s,d,h)}var Vn=function(){function a(n,e){n===void 0&&(n=[]),this.findKeyCallback=e,this.list=[].slice.call(n)}var i=a.prototype;return i.update=function(n){var e=[].slice.call(n),t=yr(this.list,e,this.findKeyCallback);return this.list=e,t},a}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Or(a){var i=typeof Symbol=="function"&&Symbol.iterator,n=i&&a[i],e=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&e>=a.length&&(a=void 0),{value:a&&a[e++],done:!a}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function xr(a,i){var n=typeof Symbol=="function"&&a[Symbol.iterator];if(!n)return a;var e=n.call(a),t,r=[],o;try{for(;(i===void 0||i-- >0)&&!(t=e.next()).done;)r.push(t.value)}catch(s){o={error:s}}finally{try{t&&!t.done&&(n=e.return)&&n.call(e)}finally{if(o)throw o.error}}return r}function ze(){for(var a=[],i=0;i<arguments.length;i++)a=a.concat(xr(arguments[i]));return a}var oe=function(a){return typeof a>"u"},Ge=function(){function a(n,e){var t,r;if(this._canceled=!1,e)try{for(var o=Or(Object.keys(e)),s=o.next();!s.done;s=o.next()){var u=s.value;this[u]=e[u]}}catch(l){t={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}this.eventType=n}var i=a.prototype;return i.stop=function(){this._canceled=!0},i.isCanceled=function(){return this._canceled},a}(),ne=function(){function a(){this._eventHandler={}}var i=a.prototype;return i.trigger=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r=n instanceof Ge?n.eventType:n,o=ze(this._eventHandler[r]||[]);return o.length<=0?this:(n instanceof Ge?(n.currentTarget=this,o.forEach(function(s){s(n)})):o.forEach(function(s){s.apply(void 0,ze(e))}),this)},i.once=function(n,e){var t=this;if(typeof n=="object"&&oe(e)){var r=n;for(var o in r)this.once(o,r[o]);return this}else if(typeof n=="string"&&typeof e=="function"){var s=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];e.apply(void 0,ze(u)),t.off(n,s)};this.on(n,s)}return this},i.hasOn=function(n){return!!this._eventHandler[n]},i.on=function(n,e){if(typeof n=="object"&&oe(e)){var t=n;for(var r in t)this.on(r,t[r]);return this}else if(typeof n=="string"&&typeof e=="function"){var o=this._eventHandler[n];oe(o)&&(this._eventHandler[n]=[],o=this._eventHandler[n]),o.push(e)}return this},i.off=function(n,e){if(oe(n))return this._eventHandler={},this;if(oe(e)){if(typeof n=="string")return delete this._eventHandler[n],this;var t=n;for(var r in t)this.off(r,t[r]);return this}var o=this._eventHandler[n];if(o){for(var s=o.length,u=0;u<s;++u)if(o[u]===e){o.splice(u,1),s<=1&&delete this._eventHandler[n];break}}return this},a.VERSION="3.0.5",a}(),y=Ge;function rn(a,i){for(var n=a.length,e=0;e<n;++e)if(i(a[e],e))return!0;return!1}function rt(a,i){for(var n=a.length,e=0;e<n;++e)if(i(a[e],e))return a[e];return null}function it(a){var i=a;if(typeof i>"u"){if(typeof navigator>"u"||!navigator)return"";i=navigator.userAgent||""}return i.toLowerCase()}function an(a,i){try{return new RegExp(a,"g").exec(i)}catch{return null}}function Tr(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var a=navigator.userAgentData,i=a.brands||a.uaList;return!!(i&&i.length)}function Rr(a,i){var n=an("("+a+")((?:\\/|\\s|:)([0-9|\\.|_]+))",i);return n?n[3]:""}function We(a){return a.replace(/_/g,".")}function se(a,i){var n=null,e="-1";return rn(a,function(t){var r=an("("+t.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",i);return!r||t.brand?!1:(n=t,e=r[3]||"-1",t.versionAlias?e=t.versionAlias:t.versionTest&&(e=Rr(t.versionTest.toLowerCase(),i)||e),e=We(e),!0)}),{preset:n,version:e}}function be(a,i){var n={brand:"",version:"-1"};return rn(a,function(e){var t=at(i,e);return t?(n.brand=e.id,n.version=e.versionAlias||t.version,n.version!=="-1"):!1}),n}function at(a,i){return rt(a,function(n){var e=n.brand;return an(""+i.test,e.toLowerCase())})}var ot=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],st=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],Ue=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],ut=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],lt=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function ft(a){return!!se(ut,a).preset}function wr(a){var i=it(a),n=!!/mobi/g.exec(i),e={name:"unknown",version:"-1",majorVersion:-1,webview:ft(i),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},t={name:"unknown",version:"-1",majorVersion:-1},r=se(ot,i),o=r.preset,s=r.version,u=se(lt,i),l=u.preset,f=u.version,c=se(st,i);if(e.chromium=!!c.preset,e.chromiumVersion=c.version,!e.chromium){var d=se(Ue,i);e.webkit=!!d.preset,e.webkitVersion=d.version}return l&&(t.name=l.id,t.version=f,t.majorVersion=parseInt(f,10)),o&&(e.name=o.id,e.version=s,e.webview&&t.name==="ios"&&e.name!=="safari"&&(e.webview=!1)),e.majorVersion=parseInt(e.version,10),{browser:e,os:t,isMobile:n,isHints:!1}}function Ir(a){var i=navigator.userAgentData,n=(i.uaList||i.brands).slice(),e=i.mobile||!1,t=n[0],r=(i.platform||navigator.platform).toLowerCase(),o={name:t.brand,version:t.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!be(ut,n).brand||ft(it())},s={name:"unknown",version:"-1",majorVersion:-1};o.webkit=!o.chromium&&rn(Ue,function(d){return at(n,d)});var u=be(st,n);if(o.chromium=!!u.brand,o.chromiumVersion=u.version||"-1",!o.chromium){var l=be(Ue,n);o.webkit=!!l.brand,o.webkitVersion=l.version||"-1"}var f=rt(lt,function(d){return new RegExp(""+d.test,"g").exec(r)});s.name=f?f.id:"";{var c=be(ot,n);o.name=c.brand||o.name,o.version=c.brand&&a?a.uaFullVersion:c.version}return o.webkit&&(s.name=e?"ios":"mac"),s.name==="ios"&&o.webview&&(o.version="-1"),s.version=We(s.version),o.version=We(o.version),s.majorVersion=parseInt(s.version,10),o.majorVersion=parseInt(o.version,10),{browser:o,os:s,isMobile:e,isHints:!0}}function Ar(a){return Tr()?Ir():wr(a)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Xe=function(a,i){return Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])},Xe(a,i)};function te(a,i){Xe(a,i);function n(){this.constructor=a}a.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}var S=function(){return S=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},S.apply(this,arguments)};function Ye(a,i,n,e){var t=arguments.length,r=t<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,n):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(a,i,n,e);else for(var s=a.length-1;s>=0;s--)(o=a[s])&&(r=(t<3?o(r):t>3?o(i,n,r):o(i,n))||r);return t>3&&r&&Object.defineProperty(i,n,r),r}var N;typeof window>"u"?N={navigator:{userAgent:""}}:N=window;var ve=1,Cr=2,Sr=4,Q=6,kr=8,Nr=16,J=24,ke=30,xe="left",$e="right",qe="middle",ct={1:xe,2:qe,3:$e},ht="any",Dr="none",Mr="shift",Lr="ctrl",zr="alt",jr="meta",Fr=16,Vr=30,Hn="ontouchstart"in N&&Ar().browser.name==="safari",Hr=function(){if(typeof document>"u")return"";for(var a=(document.head||document.getElementsByTagName("head")[0]).style,i=["transform","webkitTransform","msTransform","mozTransform"],n=0,e=i.length;n<e;n++)if(i[n]in a)return i[n];return""}(),Ke={"-webkit-user-select":"none","-ms-user-select":"none","-moz-user-select":"none","user-select":"none","-webkit-user-drag":"none"},Bn=function(a){for(var i=[],n=0,e=a.length;n<e;n++)i.push(a[n]);return i},dt=function(a,i){i===void 0&&(i=!1);var n;if(typeof a=="string"){var e=a.match(/^<([a-z]+)\s*([^>]*)>/);if(e){var t=document.createElement("div");t.innerHTML=a,n=Bn(t.childNodes)}else n=Bn(document.querySelectorAll(a));i||(n=n.length>=1?n[0]:void 0)}else a===N?n=a:"value"in a||"current"in a?n=a.value||a.current:a.nodeName&&(a.nodeType===1||a.nodeType===9)?n=a:"jQuery"in N&&a instanceof jQuery||a.constructor.prototype.jquery?n=i?a.toArray():a.get(0):Array.isArray(a)&&(n=a.map(function(r){return dt(r)}),i||(n=n.length>=1?n[0]:void 0));return n},Y=N.requestAnimationFrame||N.webkitRequestAnimationFrame,ue=N.cancelAnimationFrame||N.webkitCancelAnimationFrame;if(Y&&!ue){var je={},Br=Y;Y=function(a){var i=function(e){je[n]&&a(e)},n=Br(i);return je[n]=!0,n},ue=function(a){delete je[a]}}else Y&&ue||(Y=function(a){return N.setTimeout(function(){a(N.performance&&N.performance.now&&N.performance.now()||new Date().getTime())},16)},ue=N.clearTimeout);var Gr=function(a){return Y(a)},Wr=function(a){ue(a)},V=function(a,i){var n={};for(var e in a)e&&(n[e]=i(a[e],e));return n},vt=function(a,i){var n={};for(var e in a)e&&i(a[e],e)&&(n[e]=a[e]);return n},on=function(a,i){for(var n in a)if(n&&!i(a[n],n))return!1;return!0},le=function(a,i){return on(a,function(n,e){return n===i[e]})},Fe={},gt=function(a,i){return Fe[i]||(Fe[i]=Xr(i)),Fe[i](a)},Gn=function(a,i){return!a||!i?a:V(a,function(n,e){return gt(n,typeof i=="number"?i:i[e])})},Pe=function(a){if(!isFinite(a))return 0;var i="".concat(a);if(i.indexOf("e")>=0){for(var n=0,e=1;Math.round(a*e)/e!==a;)e*=10,n++;return n}return i.indexOf(".")>=0?i.length-i.indexOf(".")-1:0},Ur=function(a){return 1/Math.pow(10,a)},Xr=function(a){var i=a<1?Math.pow(10,Pe(a)):1;return function(n){return a===0?0:Math.round(Math.round(n/a)*a*i)/i}},Yr=function(a,i){return Math.atan2(i,a)*180/Math.PI},$r=function(a){var i=!0;return Object.keys(Ke).forEach(function(n){(!a||a[n]!==Ke[n])&&(i=!1)}),i},qr=function(a,i){return a&&i?ke:a?Q:i?J:ve},Ee=function(a,i,n){return n?!!(i===ke||i&a&&n&a):!!(i&a)},Kr=function(a,i,n){var e,t=(e={},e[ve]="auto",e[ke]="none",e[J]="pan-x",e[Q]="pan-y",e),r={};if(a&&a.style){var o=i.touchAction?i.touchAction:t[n],s=S(S({},Ke),{"touch-action":a.style["touch-action"]==="none"?"none":o});Object.keys(s).forEach(function(u){r[u]=a.style[u]}),Object.keys(s).forEach(function(u){a.style[u]=s[u]})}return r},Zr=function(a,i){a&&a.style&&i&&Object.keys(i).forEach(function(n){a.style[n]=i[n]})},Qr=function(){function a(n){this._axes=n,this.holdingCount=0}var i=a.prototype;return i.hold=function(n,e){var t=this._getRoundPos(n).roundPos;this._axes.trigger(new y("hold",{pos:t,input:e.input||null,inputEvent:e.event||null,isTrusted:!0}))},i.triggerRelease=function(n){var e=this._getRoundPos(n.destPos,n.depaPos),t=e.roundPos,r=e.roundDepa;n.destPos=t,n.depaPos=r,n.setTo=this._createUserControll(n.destPos,n.duration),this._axes.trigger(new y("release",S(S({},n),{bounceRatio:this._getBounceRatio(t)})))},i.triggerChange=function(n,e,t,r){var o=this;r===void 0&&(r=!1);var s=this.animationManager,u=s.axisManager,l=s.getEventInfo(),f=this._getRoundPos(n,e),c=f.roundPos,d=f.roundDepa,h=u.moveTo(c,d),v=(t==null?void 0:t.event)||(l==null?void 0:l.event)||null,g={pos:h.pos,delta:h.delta,bounceRatio:this._getBounceRatio(h.pos),holding:r,inputEvent:v,isTrusted:!!v,input:(t==null?void 0:t.input)||(l==null?void 0:l.input)||null,set:v?this._createUserControll(h.pos):function(){}},_=new y("change",g);return this._axes.trigger(_),Object.keys(h.pos).forEach(function(p){var E=h.pos[p];fr(o._axes,p,E).current=E}),v&&u.set(g.set().destPos),!_.isCanceled()},i.triggerAnimationStart=function(n){var e=this._getRoundPos(n.destPos,n.depaPos),t=e.roundPos,r=e.roundDepa;n.destPos=t,n.depaPos=r,n.setTo=this._createUserControll(n.destPos,n.duration);var o=new y("animationStart",n);return this._axes.trigger(o),!o.isCanceled()},i.triggerAnimationEnd=function(n){n===void 0&&(n=!1),this._axes.trigger(new y("animationEnd",{isTrusted:n}))},i.triggerFinish=function(n){n===void 0&&(n=!1),this._axes.trigger(new y("finish",{isTrusted:n}))},i.setAnimationManager=function(n){this.animationManager=n},i.destroy=function(){this._axes.off()},i._createUserControll=function(n,e){e===void 0&&(e=0);var t={destPos:S({},n),duration:e};return function(r,o){return r&&(t.destPos=S({},r)),o!==void 0&&(t.duration=o),t}},i._getRoundPos=function(n,e){var t=this._axes.options.round;return{roundPos:Gn(n,t),roundDepa:Gn(e,t)}},i._getBounceRatio=function(n){return this._axes.axisManager.map(n,function(e,t){return e<t.range[0]&&t.bounce[0]!==0?(t.range[0]-e)/t.bounce[0]:e>t.range[1]&&t.bounce[1]!==0?(e-t.range[1])/t.bounce[1]:0})},Ye([lr],a.prototype,"holdingCount",void 0),a}(),Jr=function(){function a(n){this._options=n,this._prevented=!1}var i=a.prototype;return i.isInterrupting=function(){return this._options.interruptable||this._prevented},i.isInterrupted=function(){return!this._options.interruptable&&this._prevented},i.setInterrupt=function(n){this._options.interruptable||(this._prevented=n)},a}(),_t=function(a,i,n,e){var t=a,r=[n[0]?i[0]:e?i[0]-e[0]:i[0],n[1]?i[1]:e?i[1]+e[1]:i[1]];return t=Math.max(r[0],t),t=Math.min(r[1],t),t},pt=function(a,i){return a<i[0]||a>i[1]},ei=function(a,i,n,e){return!e[0]&&a===i[0]-n[0]||!e[1]&&a===i[1]+n[1]},ni=function(a,i){var n=Math.sqrt(a/i*2);return n<100?0:n},Wn=function(a,i,n){return n[1]&&a>i[1]||n[0]&&a<i[0]},he=function(a,i,n){var e=a,t=i[0],r=i[1],o=r-t;return n[1]&&a>r&&(e=(e-r)%o+t),n[0]&&a<t&&(e=(e-t)%o+r),e},ti=function(){function a(n){var e=this;this._axis=n,this._complementOptions(),this._pos=Object.keys(this._axis).reduce(function(t,r){return t[r]=e._axis[r].startPos,t},{})}var i=a.prototype;return i.getDelta=function(n,e){var t=this.get(n);return V(this.get(e),function(r,o){return r-t[o]})},i.get=function(n){var e=this;return n&&Array.isArray(n)?n.reduce(function(t,r){return r&&r in e._pos&&(t[r]=e._pos[r]),t},{}):S(S({},this._pos),n||{})},i.moveTo=function(n,e){e===void 0&&(e=this._pos);var t=V(this._pos,function(r,o){return o in n&&o in e?n[o]-e[o]:0});return this.set(this.map(n,function(r,o){return o?he(r,o.range,o.circular):0})),{pos:S({},this._pos),delta:t}},i.set=function(n){for(var e in n)e&&e in this._pos&&(this._pos[e]=n[e])},i.every=function(n,e){var t=this._axis;return on(n,function(r,o){return e(r,t[o],o)})},i.filter=function(n,e){var t=this._axis;return vt(n,function(r,o){return e(r,t[o],o)})},i.map=function(n,e){var t=this._axis;return V(n,function(r,o){return e(r,t[o],o)})},i.isOutside=function(n){return!this.every(n?this.get(n):this._pos,function(e,t){return!pt(e,t.range)})},i.getAxisOptions=function(n){return this._axis[n]},i.setAxis=function(n){var e=this;Object.keys(n).forEach(function(t){if(!e._axis[t])throw new Error("Axis ".concat(t," does not exist in Axes instance"));e._axis[t]=S(S({},e._axis[t]),n[t])}),this._complementOptions()},i._complementOptions=function(){var n=this;Object.keys(this._axis).forEach(function(e){n._axis[e]=S({range:[0,100],startPos:n._axis[e].range[0],bounce:[0,0],circular:[!1,!1]},n._axis[e]),["bounce","circular"].forEach(function(t){var r=n._axis,o=r[e][t];/string|number|boolean/.test(typeof o)&&(r[e][t]=[o,o])})})},a}(),ri="ontouchstart"in N,ye="PointerEvent"in N,ii="MSPointerEvent"in N,ai=ye||ii,oi=function(a,i){return!!(!i||i.indexOf(ht)>-1||i.indexOf(Dr)>-1&&!a.shiftKey&&!a.ctrlKey&&!a.altKey&&!a.metaKey||i.indexOf(Mr)>-1&&a.shiftKey||i.indexOf(Lr)>-1&&a.ctrlKey||i.indexOf(zr)>-1&&a.altKey||i.indexOf(jr)>-1&&a.metaKey)},Ne=function(){function a(){var n=this;this._stopContextMenu=function(e){e.preventDefault(),N.removeEventListener("contextmenu",n._stopContextMenu)}}var i=a.prototype;return i.extendEvent=function(n){var e,t=this.prevEvent,r=this._getCenter(n),o=t?this._getMovement(n):{x:0,y:0},s=t?this._getScale(n):1,u=t?Yr(r.x-t.center.x,r.y-t.center.y):0,l=t?t.deltaX+o.x:o.x,f=t?t.deltaY+o.y:o.y,c=o.x,d=o.y,h=this._latestInterval,v=Date.now(),g=h?v-h.timestamp:0,_=t?t.velocityX:0,p=t?t.velocityY:0;return(!h||g>=Fr)&&(h&&(e=[(l-h.deltaX)/g,(f-h.deltaY)/g],_=e[0],p=e[1]),this._latestInterval={timestamp:v,deltaX:l,deltaY:f}),{srcEvent:n,scale:s,angle:u,center:r,deltaX:l,deltaY:f,offsetX:c,offsetY:d,velocityX:_,velocityY:p,preventSystemEvent:!0}},i._getDistance=function(n,e){var t=e.clientX-n.clientX,r=e.clientY-n.clientY;return Math.sqrt(t*t+r*r)},i._getButton=function(n){var e={1:xe,2:$e,4:qe},t=this._isTouchEvent(n)?xe:e[n.buttons];return t||null},i._isTouchEvent=function(n){return n.type&&n.type.indexOf("touch")>-1},i._isValidButton=function(n,e){return e.indexOf(n)>-1},i._isValidEvent=function(n,e,t){return(!e||oi(n,e))&&(!t||this._isValidButton(this._getButton(n),t))},i._preventMouseButton=function(n,e){e===$e?N.addEventListener("contextmenu",this._stopContextMenu):e===qe&&n.preventDefault()},a}(),si=function(a){te(i,a);function i(){var e=a!==null&&a.apply(this,arguments)||this;return e.start=["mousedown"],e.move=["mousemove"],e.end=["mouseup"],e}var n=i.prototype;return n.onEventStart=function(e,t,r){var o=this._getButton(e);return this._isValidEvent(e,t,r)?(this._preventMouseButton(e,o),this.extendEvent(e)):null},n.onEventMove=function(e,t,r){return this._isValidEvent(e,t,r)?this.extendEvent(e):null},n.onEventEnd=function(){},n.onRelease=function(){this.prevEvent=null},n.getTouches=function(e,t){return t&&this._isValidButton(ct[e.which],t)&&this.end.indexOf(e.type)===-1?1:0},n._getScale=function(){return 1},n._getCenter=function(e){return{x:e.clientX,y:e.clientY}},n._getMovement=function(e){var t=this.prevEvent.srcEvent;return{x:e.clientX-t.clientX,y:e.clientY-t.clientY}},i}(Ne),ui=function(a){te(i,a);function i(){var e=a!==null&&a.apply(this,arguments)||this;return e.start=["touchstart"],e.move=["touchmove"],e.end=["touchend","touchcancel"],e}var n=i.prototype;return n.onEventStart=function(e,t){return this._baseTouches=e.touches,this._isValidEvent(e,t)?this.extendEvent(e):null},n.onEventMove=function(e,t){return this._isValidEvent(e,t)?this.extendEvent(e):null},n.onEventEnd=function(e){this._baseTouches=e.touches},n.onRelease=function(){this.prevEvent=null,this._baseTouches=null},n.getTouches=function(e){return e.touches.length},n._getScale=function(e){return e.touches.length!==2||this._baseTouches.length<2?null:this._getDistance(e.touches[0],e.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1])},n._getCenter=function(e){return{x:e.touches[0].clientX,y:e.touches[0].clientY}},n._getMovement=function(e){var t=this.prevEvent.srcEvent;return e.touches[0].identifier!==t.touches[0].identifier?{x:0,y:0}:{x:e.touches[0].clientX-t.touches[0].clientX,y:e.touches[0].clientY-t.touches[0].clientY}},i}(Ne),li=function(a){te(i,a);function i(){var e=a!==null&&a.apply(this,arguments)||this;return e.start=ye?["pointerdown"]:["MSPointerDown"],e.move=ye?["pointermove"]:["MSPointerMove"],e.end=ye?["pointerup","pointercancel"]:["MSPointerUp","MSPointerCancel"],e._firstInputs=[],e._recentInputs=[],e}var n=i.prototype;return n.onEventStart=function(e,t,r){var o=this._getButton(e);return this._isValidEvent(e,t,r)?(this._preventMouseButton(e,o),this._updatePointerEvent(e),this.extendEvent(e)):null},n.onEventMove=function(e,t,r){return this._isValidEvent(e,t,r)?(this._updatePointerEvent(e),this.extendEvent(e)):null},n.onEventEnd=function(e){this._removePointerEvent(e)},n.onRelease=function(){this.prevEvent=null,this._firstInputs=[],this._recentInputs=[]},n.getTouches=function(){return this._recentInputs.length},n._getScale=function(){return this._recentInputs.length!==2?null:this._getDistance(this._recentInputs[0],this._recentInputs[1])/this._getDistance(this._firstInputs[0],this._firstInputs[1])},n._getCenter=function(e){return{x:e.clientX,y:e.clientY}},n._getMovement=function(e){var t=this.prevEvent.srcEvent;return e.pointerId!==t.pointerId?{x:0,y:0}:{x:e.clientX-t.clientX,y:e.clientY-t.clientY}},n._updatePointerEvent=function(e){var t=this,r=!1;this._recentInputs.forEach(function(o,s){o.pointerId===e.pointerId&&(r=!0,t._recentInputs[s]=e)}),r||(this._firstInputs.push(e),this._recentInputs.push(e))},n._removePointerEvent=function(e){this._firstInputs=this._firstInputs.filter(function(t){return t.pointerId!==e.pointerId}),this._recentInputs=this._recentInputs.filter(function(t){return t.pointerId!==e.pointerId})},i}(Ne),fi=function(a){te(i,a);function i(){var e=a!==null&&a.apply(this,arguments)||this;return e.start=["mousedown","touchstart"],e.move=["mousemove","touchmove"],e.end=["mouseup","touchend","touchcancel"],e}var n=i.prototype;return n.onEventStart=function(e,t,r){var o=this._getButton(e);return this._isTouchEvent(e)&&(this._baseTouches=e.touches),this._isValidEvent(e,t,r)?(this._preventMouseButton(e,o),this.extendEvent(e)):null},n.onEventMove=function(e,t,r){return this._isValidEvent(e,t,r)?this.extendEvent(e):null},n.onEventEnd=function(e){this._isTouchEvent(e)&&(this._baseTouches=e.touches)},n.onRelease=function(){this.prevEvent=null,this._baseTouches=null},n.getTouches=function(e,t){return this._isTouchEvent(e)?e.touches.length:this._isValidButton(ct[e.which],t)&&this.end.indexOf(e.type)===-1?1:0},n._getScale=function(e){return this._isTouchEvent(e)?e.touches.length!==2||this._baseTouches.length<2?1:this._getDistance(e.touches[0],e.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1]):this.prevEvent.scale},n._getCenter=function(e){return this._isTouchEvent(e)?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:e.clientX,y:e.clientY}},n._getMovement=function(e){var t=this,r=this.prevEvent.srcEvent,o=[e,r].map(function(l){return t._isTouchEvent(l)?{id:l.touches[0].identifier,x:l.touches[0].clientX,y:l.touches[0].clientY}:{id:null,x:l.clientX,y:l.clientY}}),s=o[0],u=o[1];return s.id===u.id?{x:s.x-u.x,y:s.y-u.y}:{x:0,y:0}},i}(Ne),mt=function(a,i){return i.reduce(function(n,e,t){return a[t]&&(n[a[t]]=e),n},{})},ci=function(a){a===void 0&&(a=[]);var i=!1,n=!1,e=!1;return a.forEach(function(t){switch(t){case"mouse":n=!0;break;case"touch":i=ri;break;case"pointer":e=ai}}),e?new li:i&&n?new fi:i?new ui:n?new si:null};function Un(a){return a.indexOf("touch")>-1?{passive:!1}:!1}var hi=function(){function a(n){var e=n.options,t=n.interruptManager,r=n.eventManager,o=n.axisManager,s=n.animationManager;this._isOutside=!1,this._moveDistance=null,this._isStopped=!1,this.options=e,this._interruptManager=t,this._eventManager=r,this._axisManager=o,this._animationManager=s}var i=a.prototype;return i.get=function(n){return this._axisManager.get(n.axes)},i.hold=function(n,e){if(!(this._interruptManager.isInterrupted()||!n.axes.length)){var t={input:n,event:e};this._isStopped=!1,this._interruptManager.setInterrupt(!0),this._animationManager.stopAnimation(t),++this._eventManager.holdingCount,this._moveDistance||this._eventManager.hold(this._axisManager.get(),t),this._isOutside=this._axisManager.isOutside(n.axes),this._moveDistance=this._axisManager.get(n.axes)}},i.change=function(n,e,t,r){if(!(this._isStopped||!this._interruptManager.isInterrupting()||this._axisManager.every(t,function(d){return d===0}))){var o=e.srcEvent?e.srcEvent:e;if(!o.__childrenAxesAlreadyChanged){var s=this._moveDistance||this._axisManager.get(n.axes),u;u=V(s,function(d,h){return d+(t[h]||0)}),this._moveDistance&&(this._moveDistance=this._axisManager.map(u,function(d,h){var v=h.circular,g=h.range;return v&&(v[0]||v[1])?he(d,g,v):d})),this._isOutside&&this._axisManager.every(s,function(d,h){return!pt(d,h.range)})&&(this._isOutside=!1),s=this._atOutside(s),u=this._atOutside(u),(!this.options.nested||!this._isEndofAxis(t,s,u))&&(o.__childrenAxesAlreadyChanged=!0);var l={input:n,event:e};if(r){var f=this._animationManager.getDuration(u,s);this._animationManager.animateTo(u,f,l)}else{var c=!this._eventManager.triggerChange(u,s,l,!0);c&&(this._isStopped=!0,this._moveDistance=null,this._animationManager.finish(!1))}}}},i.release=function(n,e,t,r){if(!(this._isStopped||!this._interruptManager.isInterrupting()||!this._moveDistance)){var o=e.srcEvent?e.srcEvent:e;o.__childrenAxesAlreadyReleased&&(t=t.map(function(){return 0}));var s=this._axisManager.get(n.axes),u=this._axisManager.get(),l=this._animationManager.getDisplacement(t),f=mt(n.axes,l),c=this._axisManager.get(this._axisManager.map(f,function(p,E,P){return E.circular&&(E.circular[0]||E.circular[1])?s[P]+p:_t(s[P]+p,E.range,E.circular,E.bounce)}));o.__childrenAxesAlreadyReleased=!0;var d=this._animationManager.getDuration(c,s,r);d===0&&(c=S({},u));var h={depaPos:u,destPos:c,duration:d,delta:this._axisManager.getDelta(u,c),inputEvent:e,input:n,isTrusted:!0};--this._eventManager.holdingCount,this._eventManager.triggerRelease(h),this._eventManager.holdingCount===0&&(this._moveDistance=null);var v=this._animationManager.getUserControl(h),g=le(v.destPos,u),_={input:n,event:e};g||v.duration===0?(g||this._eventManager.triggerChange(v.destPos,u,_,!0),this._interruptManager.setInterrupt(!1),this._axisManager.isOutside()?this._animationManager.restore(_):this._eventManager.triggerFinish(!0)):this._animationManager.animateTo(v.destPos,v.duration,_)}},i._atOutside=function(n){var e=this;return this._isOutside?this._axisManager.map(n,function(t,r){var o=r.range[0]-r.bounce[0],s=r.range[1]+r.bounce[1];return t>s?s:t<o?o:t}):this._axisManager.map(n,function(t,r){var o=r.range[0],s=r.range[1],u=r.bounce,l=r.circular;return l[0]&&t<o||l[1]&&t>s?t:t<o?o-e._animationManager.interpolate(o-t,u[0]):t>s?s+e._animationManager.interpolate(t-s,u[1]):t})},i._isEndofAxis=function(n,e,t){return this._axisManager.every(e,function(r,o,s){return n[s]===0||e[s]===t[s]&&ei(r,o.range,o.bounce,o.circular)})},a}(),Ve=function(a,i,n){return Math.max(Math.min(a,n),i)},di=function(){function a(n){var e=n.options,t=n.interruptManager,r=n.eventManager,o=n.axisManager;this._options=e,this.interruptManager=t,this.eventManager=r,this.axisManager=o,this.animationEnd=this.animationEnd.bind(this)}var i=a.prototype;return i.getDuration=function(n,e,t){var r=this,o;if(typeof t<"u")o=t;else{var s=V(e,function(u,l){return ni(Math.abs(u-n[l]),r._options.deceleration)});o=Object.keys(s).reduce(function(u,l){return Math.max(u,s[l])},-1/0)}return Ve(o,this._options.minimumDuration,this._options.maximumDuration)},i.getDisplacement=function(n){var e=Math.pow(n.reduce(function(r,o){return r+o*o},0),1/n.length),t=Math.abs(e/-this._options.deceleration);return n.map(function(r){return r/2*t})},i.stopAnimation=function(n){if(this._animateParam){var e=this.axisManager.get(),t=this.axisManager.map(e,function(r,o){return he(r,o.range,o.circular)});on(t,function(r,o){return e[o]===r})||this.eventManager.triggerChange(t,e,n,!!n),this._animateParam=null,this._raf&&Wr(this._raf),this._raf=null,this.eventManager.triggerAnimationEnd(!!(n!=null&&n.event))}},i.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},i.restore=function(n){var e=this.axisManager.get(),t=this.axisManager.map(e,function(r,o){return Math.min(o.range[1],Math.max(o.range[0],r))});this.stopAnimation(),this.animateTo(t,this.getDuration(e,t),n)},i.animationEnd=function(){var n=this.getEventInfo();this._animateParam=null;var e=this.axisManager.filter(this.axisManager.get(),function(t,r){return Wn(t,r.range,r.circular)});Object.keys(e).length>0&&this.setTo(this.axisManager.map(e,function(t,r){return he(t,r.range,r.circular)})),this.interruptManager.setInterrupt(!1),this.eventManager.triggerAnimationEnd(!!n),this.axisManager.isOutside()?this.restore(n):this.finish(!!n)},i.finish=function(n){this._animateParam=null,this.interruptManager.setInterrupt(!1),this.eventManager.triggerFinish(n)},i.getUserControl=function(n){var e=n.setTo();return e.destPos=this.axisManager.get(e.destPos),e.duration=Ve(e.duration,this._options.minimumDuration,this._options.maximumDuration),e},i.animateTo=function(n,e,t){var r=this;this.stopAnimation();var o=this._createAnimationParam(n,e,t),s=S({},o.depaPos),u=this.eventManager.triggerAnimationStart(o),l=this.getUserControl(o);if(!u&&this.axisManager.every(l.destPos,function(c,d){return Wn(c,d.range,d.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),u&&!le(l.destPos,s)){var f=(t==null?void 0:t.event)||null;this._animateLoop({depaPos:s,destPos:l.destPos,duration:l.duration,delta:this.axisManager.getDelta(s,l.destPos),isTrusted:!!f,inputEvent:f,input:(t==null?void 0:t.input)||null},function(){return r.animationEnd()})}},i.setTo=function(n,e){e===void 0&&(e=0);var t=Object.keys(n),r=this.axisManager.get(t);if(le(n,r))return this;this.interruptManager.setInterrupt(!0);var o=vt(n,function(s,u){return r[u]!==s});return Object.keys(o).length?(o=this.axisManager.map(o,function(s,u){var l=u.range,f=u.circular;return f&&(f[0]||f[1])?s:_t(s,l,f)}),le(o,r)?this:(e>0?this.animateTo(o,e):(this.stopAnimation(),this.eventManager.triggerChange(o),this.finish(!1)),this)):this},i.setBy=function(n,e){return e===void 0&&(e=0),this.setTo(V(this.axisManager.get(Object.keys(n)),function(t,r){return t+n[r]}),e)},i.setOptions=function(n){this._options=S(S({},this._options),n)},i._createAnimationParam=function(n,e,t){var r=this.axisManager.get(),o=n,s=(t==null?void 0:t.event)||null;return{depaPos:r,destPos:o,duration:Ve(e,this._options.minimumDuration,this._options.maximumDuration),delta:this.axisManager.getDelta(r,o),inputEvent:s,input:(t==null?void 0:t.input)||null,isTrusted:!!s,done:this.animationEnd}},i._animateLoop=function(n,e){var t=this;if(n.duration){this._animateParam=S(S({},n),{startTime:new Date().getTime()});var r=V(n.destPos,function(u){return u}),o=this._initState(this._animateParam),s=function(){t._raf=null;var u=t._animateParam,l=t._getNextState(o),f=!t.eventManager.triggerChange(l.pos,o.pos);if(o=l,l.finished){u.destPos=t._getFinalPos(u.destPos,r),le(u.destPos,t.axisManager.get(Object.keys(u.destPos)))||t.eventManager.triggerChange(u.destPos,l.pos),e();return}else f?t.finish(!1):t._raf=Gr(s)};s()}else this.eventManager.triggerChange(n.destPos),e()},i._getFinalPos=function(n,e){var t=this,r=1e-6,o=V(n,function(s,u){if(s>=e[u]-r&&s<=e[u]+r)return e[u];var l=t._getRoundUnit(s,u),f=gt(s,l);return f});return o},i._getRoundUnit=function(n,e){var t=this._options.round,r=null;if(!t){var o=this.axisManager.getAxisOptions(e);r=Ur(Math.max(Pe(o.range[0]),Pe(o.range[1]),Pe(n)))}return r||t},a}(),vi=function(a){te(i,a);function i(){var e=a!==null&&a.apply(this,arguments)||this;return e._useDuration=!0,e}var n=i.prototype;return n.interpolate=function(e,t){var r=this._easing(1e-5)/1e-5;return this._easing(e/(t*r))*t},n.updateAnimation=function(e){var t,r=this._animateParam;if(r){var o=new Date().getTime()-r.startTime,s=(e==null?void 0:e.destPos)||r.destPos,u=(t=e==null?void 0:e.duration)!==null&&t!==void 0?t:r.duration;if(e!=null&&e.restart||u<=o){this.setTo(s,u-o);return}if(e!=null&&e.destPos){var l=this.axisManager.get();this._initialEasingPer=this._prevEasingPer,r.delta=this.axisManager.getDelta(l,s),r.destPos=s}if(e!=null&&e.duration){var f=(o+this._durationOffset)/r.duration;this._durationOffset=f*u-o,r.duration=u}}},n._initState=function(e){return this._initialEasingPer=0,this._prevEasingPer=0,this._durationOffset=0,{pos:e.depaPos,easingPer:0,finished:!1}},n._getNextState=function(e){var t=this,r=this._animateParam,o=e.pos,s=r.destPos,u=V(o,function(h,v){return h<=s[v]?1:-1}),l=new Date().getTime()-r.startTime,f=(l+this._durationOffset)/r.duration,c=this._easing(f),d=this.axisManager.map(o,function(h,v,g){var _=f>=1?s[g]:h+r.delta[g]*(c-t._prevEasingPer)/(1-t._initialEasingPer),p=he(_,v.range,v.circular);if(_!==p){var E=u[g]*(v.range[1]-v.range[0]);s[g]-=E,o[g]-=E}return p});return this._prevEasingPer=c,{pos:d,easingPer:c,finished:c>=1}},n._easing=function(e){return e>1?1:this._options.easing(e)},i}(di),gi=function(a){te(i,a);function i(e,t,r){e===void 0&&(e={}),t===void 0&&(t={}),r===void 0&&(r={});var o=a.call(this)||this;return o.axis=e,o._inputs=[],o.options=S({easing:function(s){return 1-Math.pow(1-s,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4,round:null,nested:!1},t),Object.keys(r).forEach(function(s){o.axis[s].startPos=r[s]}),o.interruptManager=new Jr(o.options),o.axisManager=new ti(o.axis),o.eventManager=new Qr(o),o.animationManager=new vi(o),o.inputObserver=new hi(o),o.eventManager.setAnimationManager(o.animationManager),o.eventManager.triggerChange(o.axisManager.get()),o}var n=i.prototype;return Object.defineProperty(n,"holding",{get:function(){return this.eventManager.holdingCount>0},enumerable:!1,configurable:!0}),n.connect=function(e,t){var r;return typeof e=="string"?r=e.split(" "):r=e.concat(),~this._inputs.indexOf(t)&&this.disconnect(t),t.mapAxes(r),t.connect(this.inputObserver),this._inputs.push(t),this},n.disconnect=function(e){if(e){var t=this._inputs.indexOf(e);t>=0&&(this._inputs[t].disconnect(),this._inputs.splice(t,1))}else this._inputs.forEach(function(r){return r.disconnect()}),this._inputs=[];return this},n.get=function(e){return this.axisManager.get(e)},n.setTo=function(e,t){return t===void 0&&(t=0),this.animationManager.setTo(e,t),this},n.setBy=function(e,t){return t===void 0&&(t=0),this.animationManager.setBy(e,t),this},n.setOptions=function(e){return this.options=S(S({},this.options),e),this.animationManager.setOptions(e),this},n.setAxis=function(e){return this.axisManager.setAxis(e),this},n.stopAnimation=function(){return this.animationManager.stopAnimation(),this.animationManager.finish(!1),this},n.updateAnimation=function(e){return this.animationManager.updateAnimation(e),this},n.isBounceArea=function(e){return this.axisManager.isOutside(e)},n.destroy=function(){this.disconnect(),this.eventManager.destroy()},i.VERSION="3.9.1",i.TRANSFORM=Hr,i.DIRECTION_NONE=ve,i.DIRECTION_LEFT=Cr,i.DIRECTION_RIGHT=Sr,i.DIRECTION_UP=kr,i.DIRECTION_DOWN=Nr,i.DIRECTION_HORIZONTAL=Q,i.DIRECTION_VERTICAL=J,i.DIRECTION_ALL=ke,Ye([sr],i.prototype,"holding",null),i=Ye([ur],i),i}(ne),_i=function(a,i){if(i<0||i>90)return ve;var n=Math.abs(a);return n>i&&n<180-i?J:Q},pi=function(){function a(n,e){var t=this;this.axes=[],this.element=null,this._enabled=!1,this._activeEvent=null,this._atRightEdge=!1,this._rightEdgeTimer=0,this._dragged=!1,this._isOverThreshold=!1,this._preventClickWhenDragged=function(r){t._dragged&&(r.preventDefault(),r.stopPropagation()),t._dragged=!1},this._voidFunction=function(){},this.element=dt(n),this.options=S({inputType:["touch","mouse","pointer"],inputKey:[ht],inputButton:[xe],scale:[1,1],thresholdAngle:45,threshold:0,preventClickOnDrag:!1,preventDefaultOnDrag:!1,iOSEdgeSwipeThreshold:Vr,releaseOnScroll:!1,touchAction:null},e),this._onPanstart=this._onPanstart.bind(this),this._onPanmove=this._onPanmove.bind(this),this._onPanend=this._onPanend.bind(this)}var i=a.prototype;return i.mapAxes=function(n){this._direction=qr(!!n[0],!!n[1]),this.axes=n},i.connect=function(n){return this._activeEvent&&(this._detachElementEvent(),this._detachWindowEvent(this._activeEvent)),this._attachElementEvent(n),this},i.disconnect=function(){return this._detachElementEvent(),this._detachWindowEvent(this._activeEvent),this._direction=ve,this},i.destroy=function(){this.disconnect(),this.element=null},i.enable=function(){return this._enabled||(this._enabled=!0,this._originalCssProps=Kr(this.element,this.options,this._direction)),this},i.disable=function(){return this._enabled&&(this._enabled=!1,$r(this._originalCssProps)||Zr(this.element,this._originalCssProps)),this},i.isEnabled=function(){return this._enabled},i.release=function(){var n=this._activeEvent,e=n.prevEvent;return n.onRelease(),this._observer.release(this,e,[0,0]),this._detachWindowEvent(n),this},i._onPanstart=function(n){var e=this.options,t=e.inputKey,r=e.inputButton,o=e.preventDefaultOnDrag,s=this._activeEvent,u=s.onEventStart(n,t,r);if(!(!u||!this._enabled||s.getTouches(n,r)>1)&&u.srcEvent.cancelable!==!1){var l=this.options.iOSEdgeSwipeThreshold;this._dragged=!1,this._isOverThreshold=!1,this._observer.hold(this,u),this._atRightEdge=Hn&&u.center.x>window.innerWidth-l,this._attachWindowEvent(s),o&&u.srcEvent.type!=="touchstart"&&u.srcEvent.preventDefault(),s.prevEvent=u}},i._onPanmove=function(n){var e=this,t=this.options,r=t.iOSEdgeSwipeThreshold,o=t.preventClickOnDrag,s=t.releaseOnScroll,u=t.inputKey,l=t.inputButton,f=t.threshold,c=t.thresholdAngle,d=this._activeEvent,h=d.onEventMove(n,u,l),v=d.getTouches(n,l);if(v===0||s&&h&&!h.srcEvent.cancelable){this._onPanend(n);return}if(!(!h||!this._enabled||v>1)){var g=_i(h.angle,c),_=Ee(Q,this._direction,g),p=Ee(J,this._direction,g);if(d.prevEvent&&Hn){var E=h.center.x<0;if(E){this.release();return}else if(this._atRightEdge){clearTimeout(this._rightEdgeTimer);var P=h.deltaX<-r;P?this._atRightEdge=!1:this._rightEdgeTimer=window.setTimeout(function(){return e.release()},100)}}var x=this._getDistance([h.deltaX,h.deltaY],[_,p]),j=this._getOffset([h.offsetX,h.offsetY],[_,p]),F=j.some(function(U){return U!==0});F&&(h.srcEvent.cancelable!==!1&&h.srcEvent.preventDefault(),h.srcEvent.stopPropagation()),h.preventSystemEvent=F,F&&(this._isOverThreshold||x>=f)&&(this._dragged=o,this._isOverThreshold=!0,this._observer.change(this,h,mt(this.axes,j))),d.prevEvent=h}},i._onPanend=function(n){var e=this.options.inputButton,t=this._activeEvent;if(t.onEventEnd(n),!(!this._enabled||t.getTouches(n,e)!==0)){this._detachWindowEvent(t),clearTimeout(this._rightEdgeTimer);var r=t.prevEvent,o=this._isOverThreshold?this._getOffset([Math.abs(r.velocityX)*(r.offsetX<0?-1:1),Math.abs(r.velocityY)*(r.offsetY<0?-1:1)],[Ee(Q,this._direction),Ee(J,this._direction)]):[0,0];t.onRelease(),this._observer.release(this,r,o)}},i._attachWindowEvent=function(n){var e=this;n==null||n.move.forEach(function(t){window.addEventListener(t,e._onPanmove,Un(t))}),n==null||n.end.forEach(function(t){window.addEventListener(t,e._onPanend,Un(t))})},i._detachWindowEvent=function(n){var e=this;n==null||n.move.forEach(function(t){window.removeEventListener(t,e._onPanmove)}),n==null||n.end.forEach(function(t){window.removeEventListener(t,e._onPanend)})},i._getOffset=function(n,e){var t=this.options.scale;return[e[0]?n[0]*t[0]:0,e[1]?n[1]*t[1]:0]},i._getDistance=function(n,e){return Math.sqrt(Number(e[0])*Math.pow(n[0],2)+Number(e[1])*Math.pow(n[1],2))},i._attachElementEvent=function(n){var e=this,t=ci(this.options.inputType),r=this.element;if(t){if(!r)throw new Error("Element to connect input does not exist.");this._observer=n,this.enable(),this._activeEvent=t,r.addEventListener("click",this._preventClickWhenDragged,!0),t.start.forEach(function(o){r.addEventListener(o,e._onPanstart)}),t.move.forEach(function(o){r.addEventListener(o,e._voidFunction)})}},i._detachElementEvent=function(){var n=this,e=this._activeEvent,t=this.element;t&&(t.removeEventListener("click",this._preventClickWhenDragged,!0),e==null||e.start.forEach(function(r){t.removeEventListener(r,n._onPanstart)}),e==null||e.move.forEach(function(r){t.removeEventListener(r,n._voidFunction)})),this.disable(),this._observer=null},a}(),Ze=function(a,i){return Ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},Ze(a,i)};function re(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");Ze(a,i);function n(){this.constructor=a}a.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}var ee=function(){return ee=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ee.apply(this,arguments)};function mi(){for(var a=0,i=0,n=arguments.length;i<n;i++)a+=arguments[i].length;for(var e=Array(a),t=0,i=0;i<n;i++)for(var r=arguments[i],o=0,s=r.length;o<s;o++,t++)e[t]=r[o];return e}var sn=typeof window<"u",bi=sn?window.navigator.userAgent:"",Ei=sn?"getComputedStyle"in window:!1,Pi=/MSIE|Trident|Windows Phone|Edge/.test(bi),yi=sn?"addEventListener"in document:!1,Qe="width",fe="height";function Oe(a,i){return a.getAttribute(i)||""}function Te(a){return[].slice.call(a)}function Oi(a,i){return i===void 0&&(i="data-"),!!a.getAttribute(i+"width")}function bt(a,i){return i===void 0&&(i="data-"),"loading"in a&&a.getAttribute("loading")==="lazy"||!!a.getAttribute(i+"lazy")}function xi(a,i){return i===void 0&&(i="data-"),!!a.getAttribute(i+"skip")}function Et(a,i,n){yi?a.addEventListener(i,n,!1):a.attachEvent?a.attachEvent("on"+i,n):a["on"+i]=n}function Pt(a,i,n){a.removeEventListener?a.removeEventListener(i,n,!1):a.detachEvent?a.detachEvent("on"+i,n):a["on"+i]=null}function Ti(a){return yt(a,"Width")}function Ri(a){return yt(a,"Height")}function wi(a){return(Ei?window.getComputedStyle(a):a.currentStyle)||{}}function yt(a,i){var n=a["client"+i]||a["offset"+i];return parseFloat(n||wi(a)[i.toLowerCase()])||0}function Ii(a,i,n){var e=Te(a.querySelectorAll(mi(["["+n+"skip] ["+n+"width]"],i.map(function(t){return["["+n+"skip] "+t,t+"["+n+"skip]","["+n+"width] "+t].join(", ")})).join(", ")));return Te(a.querySelectorAll("["+n+"width], "+i.join(", "))).filter(function(t){return e.indexOf(t)===-1})}var q=[];function Ot(a,i){!q.length&&Et(window,"resize",Tt),a.__PREFIX__=i,q.push(a),xt(a)}function Ai(a,i){var n=q.indexOf(a);if(!(n<0)){var e=Oe(a,i+"fixed");delete a.__PREFIX__,a.style[e===fe?Qe:fe]="",q.splice(n,1),!q.length&&Pt(window,"resize",Tt)}}function xt(a,i){i===void 0&&(i="data-");var n=a.__PREFIX__||i,e=parseInt(Oe(a,""+n+Qe),10)||0,t=parseInt(Oe(a,""+n+fe),10)||0,r=Oe(a,n+"fixed");if(r===fe){var o=Ri(a)||t;a.style[Qe]=e/t*o+"px"}else{var o=Ti(a)||e;a.style[fe]=t/e*o+"px"}}function Tt(){q.forEach(function(a){xt(a)})}var un=function(a){re(i,a);function i(e,t){t===void 0&&(t={});var r=a.call(this)||this;r.isReady=!1,r.isPreReady=!1,r.hasDataSize=!1,r.hasLoading=!1,r.isSkip=!1,r.onCheck=function(s){if(r.clear(),s&&s.type==="error"&&r.onError(r.element),!(r.hasLoading&&r.checkElement())){var u=!r.hasDataSize&&!r.hasLoading;r.onReady(u)}},r.options=ee({prefix:"data-"},t),r.element=e;var o=r.options.prefix;return r.hasDataSize=Oi(e,o),r.isSkip=xi(e,o),r.hasLoading=bt(e,o),r}var n=i.prototype;return n.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&Ot(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},n.addEvents=function(){var e=this,t=this.element;this.constructor.EVENTS.forEach(function(r){Et(t,r,e.onCheck)})},n.clear=function(){var e=this,t=this.element;this.constructor.EVENTS.forEach(function(r){Pt(t,r,e.onCheck)}),this.removeAutoSizer()},n.destroy=function(){this.clear(),this.off()},n.removeAutoSizer=function(){if(this.hasDataSize){var e=this.options.prefix;Ai(this.element,e)}},n.onError=function(e){this.trigger("error",{element:this.element,target:e})},n.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},n.onReady=function(e){this.isReady||(e=!this.isPreReady&&e,e&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:e,hasLoading:this.hasLoading,isSkip:this.isSkip}))},n.onAlreadyError=function(e){var t=this;setTimeout(function(){t.onError(e)})},n.onAlreadyPreReady=function(){var e=this;setTimeout(function(){e.onPreReady()})},n.onAlreadyReady=function(e){var t=this;setTimeout(function(){t.onReady(e)})},i.EVENTS=[],i}(ne),Ci=function(a){re(i,a);function i(){return a!==null&&a.apply(this,arguments)||this}var n=i.prototype;return n.setHasLoading=function(e){this.hasLoading=e},n.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(Ot(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},n.checkElement=function(){return!0},n.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},n.onAlreadyPreReady=function(){a.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},i.EVENTS=[],i}(un),Si=function(a){re(i,a);function i(e){e===void 0&&(e={});var t=a.call(this)||this;return t.readyCount=0,t.preReadyCount=0,t.totalCount=0,t.totalErrorCount=0,t.isPreReadyOver=!0,t.elementInfos=[],t.options=ee({loaders:{},prefix:"data-"},e),t}var n=i.prototype;return n.check=function(e){var t=this,r=this.options.prefix;this.clear(),this.elementInfos=Te(e).map(function(s,u){var l=t.getLoader(s,{prefix:r});return l.check(),l.on("error",function(f){t.onError(u,f.target)}).on("preReady",function(f){var c=t.elementInfos[u];c.hasLoading=f.hasLoading,c.isSkip=f.isSkip;var d=t.checkPreReady(u);t.onPreReadyElement(u),d&&t.onPreReady()}).on("ready",function(f){var c=f.withPreReady,d=f.hasLoading,h=f.isSkip,v=t.elementInfos[u];v.hasLoading=d,v.isSkip=h;var g=c&&t.checkPreReady(u),_=t.checkReady(u);c&&t.onPreReadyElement(u),t.onReadyElement(u),g&&t.onPreReady(),_&&t.onReady()}),{loader:l,element:s,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});var o=this.elementInfos.length;return this.totalCount=o,o||setTimeout(function(){t.onPreReady(),t.onReady()}),this},n.getTotalCount=function(){return this.totalCount},n.isPreReady=function(){return this.elementInfos.every(function(e){return e.isPreReady})},n.isReady=function(){return this.elementInfos.every(function(e){return e.isReady})},n.hasError=function(){return this.totalErrorCount>0},n.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(e){e.loader&&e.loader.destroy()}),this.elementInfos=[]},n.destroy=function(){this.clear(),this.off()},n.getLoader=function(e,t){var r=this,o=e.tagName.toLowerCase(),s=this.options.loaders,u=t.prefix,l=Object.keys(s);if(s[o])return new s[o](e,t);var f=new Ci(e,t),c=Te(e.querySelectorAll(l.join(", ")));f.setHasLoading(c.some(function(v){return bt(v,u)}));var d=!1,h=this.clone().on("error",function(v){f.onError(v.target)}).on("ready",function(){f.onReady(d)});return f.on("requestChildren",function(){var v=Ii(e,l,r.options.prefix);h.check(v).on("preReady",function(g){d=g.isReady,d||f.onPreReady()})}).on("reqeustReadyChildren",function(){h.check(c)}).on("requestDestroy",function(){h.destroy()}),f},n.clone=function(){return new i(ee({},this.options))},n.checkPreReady=function(e){return this.elementInfos[e].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},n.checkReady=function(e){return this.elementInfos[e].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},n.onError=function(e,t){var r=this.elementInfos[e];r.hasError=!0,this.trigger(new y("error",{element:r.element,index:e,target:t,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},n.onPreReadyElement=function(e){var t=this.elementInfos[e];this.trigger(new y("preReadyElement",{element:t.element,index:e,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:t.hasLoading,isSkip:t.isSkip}))},n.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new y("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},n.onReadyElement=function(e){var t=this.elementInfos[e];this.trigger(new y("readyElement",{index:e,element:t.element,hasError:t.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:t.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:t.isSkip}))},n.onReady=function(){this.trigger(new y("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},n.getErrorCount=function(){return this.elementInfos.filter(function(e){return e.hasError}).length},n.hasLoading=function(){return this.elementInfos.some(function(e){return e.hasLoading})},i}(ne),ki=function(a){re(i,a);function i(){return a!==null&&a.apply(this,arguments)||this}var n=i.prototype;return n.checkElement=function(){var e=this.element,t=e.getAttribute("src");if(e.complete){if(t)return e.naturalWidth||this.onAlreadyError(e),!1;this.onAlreadyPreReady()}return this.addEvents(),Pi&&e.setAttribute("src",t),!0},i.EVENTS=["load","error"],i}(un),Ni=function(a){re(i,a);function i(){return a!==null&&a.apply(this,arguments)||this}var n=i.prototype;return n.checkElement=function(){var e=this.element;return e.readyState>=1?!1:e.error?(this.onAlreadyError(e),!1):(this.addEvents(),!0)},i.EVENTS=["loadedmetadata","error"],i}(un),Di=function(a){re(i,a);function i(n){return n===void 0&&(n={}),a.call(this,ee({loaders:{img:ki,video:Ni}},n))||this}return i}(Si),Je=function(a,i){return Je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},Je(a,i)};function L(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");Je(a,i);function n(){this.constructor=a}a.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}var z=function(){return z=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},z.apply(this,arguments)};function K(a,i,n,e){function t(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function s(f){try{l(e.next(f))}catch(c){o(c)}}function u(f){try{l(e.throw(f))}catch(c){o(c)}}function l(f){f.done?r(f.value):t(f.value).then(s,u)}l((e=e.apply(a,[])).next())})}function Z(a,i){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},e,t,r,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(f){return u([l,f])}}function u(l){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(e=1,t&&(r=l[0]&2?t.return:l[0]?t.throw||((r=t.return)&&r.call(t),0):t.next)&&!(r=r.call(t,l[1])).done)return r;switch(t=0,r&&(l=[l[0]&2,r.value]),l[0]){case 0:case 1:r=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,t=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!r||l[1]>r[0]&&l[1]<r[3])){n.label=l[1];break}if(l[0]===6&&n.label<r[1]){n.label=r[1],r=l;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(l);break}r[2]&&n.ops.pop(),n.trys.pop();continue}l=i.call(a,n)}catch(f){l=[6,f],t=0}finally{e=r=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function De(a){var i=typeof Symbol=="function"&&Symbol.iterator,n=i&&a[i],e=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&e>=a.length&&(a=void 0),{value:a&&a[e++],done:!a}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function ln(a,i){var n=typeof Symbol=="function"&&a[Symbol.iterator];if(!n)return a;var e=n.call(a),t,r=[],o;try{for(;(i===void 0||i-- >0)&&!(t=e.next()).done;)r.push(t.value)}catch(s){o={error:s}}finally{try{t&&!t.done&&(n=e.return)&&n.call(e)}finally{if(o)throw o.error}}return r}function k(){for(var a=[],i=0;i<arguments.length;i++)a=a.concat(ln(arguments[i]));return a}var R={WRONG_TYPE:0,ELEMENT_NOT_FOUND:1,VAL_MUST_NOT_NULL:2,NOT_ATTACHED_TO_FLICKING:3,WRONG_OPTION:4,INDEX_OUT_OF_RANGE:5,POSITION_NOT_REACHABLE:6,TRANSFORM_NOT_SUPPORTED:7,STOP_CALLED_BY_USER:8,ANIMATION_INTERRUPTED:9,ANIMATION_ALREADY_PLAYING:10,NOT_ALLOWED_IN_FRAMEWORK:11,NOT_INITIALIZED:12,NO_ACTIVE:13,NOT_ALLOWED_IN_VIRTUAL:14},I={WRONG_TYPE:function(a,i){return a+"("+typeof a+") is not a "+i.map(function(n){return'"'+n+'"'}).join(" or ")+"."},ELEMENT_NOT_FOUND:function(a){return'Element with selector "'+a+'" not found.'},VAL_MUST_NOT_NULL:function(a,i){return i+" should be provided. Given: "+a},NOT_ATTACHED_TO_FLICKING:'This module is not attached to the Flicking instance. "init()" should be called first.',WRONG_OPTION:function(a,i){return'Option "'+a+'" is not in correct format, given: '+i},INDEX_OUT_OF_RANGE:function(a,i,n){return'Index "'+a+'" is out of range: should be between '+i+" and "+n+"."},POSITION_NOT_REACHABLE:function(a){return'Position "'+a+'" is not reachable.'},TRANSFORM_NOT_SUPPORTED:"Browser does not support CSS transform.",STOP_CALLED_BY_USER:"Event stop() is called by user.",ANIMATION_INTERRUPTED:"Animation is interrupted by user input.",ANIMATION_ALREADY_PLAYING:"Animation is already playing.",NOT_ALLOWED_IN_FRAMEWORK:"This behavior is not allowed in the frameworks like React, Vue, or Angular.",NOT_INITIALIZED:"Flicking is not initialized yet, call init() first.",NO_ACTIVE:"There's no active panel that Flicking has selected. This may be due to the absence of any panels.",NOT_ALLOWED_IN_VIRTUAL:"This behavior is not allowed when the virtual option is enabled"},T={READY:"ready",BEFORE_RESIZE:"beforeResize",AFTER_RESIZE:"afterResize",HOLD_START:"holdStart",HOLD_END:"holdEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",WILL_CHANGE:"willChange",CHANGED:"changed",WILL_RESTORE:"willRestore",RESTORED:"restored",SELECT:"select",NEED_PANEL:"needPanel",VISIBLE_CHANGE:"visibleChange",REACH_EDGE:"reachEdge",PANEL_CHANGE:"panelChange"},H={PREV:"prev",CENTER:"center",NEXT:"next"},O={PREV:"PREV",NEXT:"NEXT",NONE:null},X={SNAP:"snap",FREE_SCROLL:"freeScroll",STRICT:"strict"},Mi={VIEWPORT:"flicking-viewport",CAMERA:"flicking-camera",VERTICAL:"vertical",HIDDEN:"flicking-hidden",DEFAULT_VIRTUAL:"flicking-panel"},Rt={LINEAR:"linear",BOUND:"bound"},$={LTR:"ltr",RTL:"rtl"},Li=function(a,i){var n=null;if(W(a)){var e=document,t=e.querySelector(a);if(!t)throw new w(I.ELEMENT_NOT_FOUND(a),R.ELEMENT_NOT_FOUND);n=t}else a&&a.nodeType===Node.ELEMENT_NODE&&(n=a);if(!n)throw new w(I.WRONG_TYPE(a,["HTMLElement","string"]),R.WRONG_TYPE);return n},zi=function(a,i){if(a==null)throw new w(I.VAL_MUST_NOT_NULL(a,i),R.VAL_MUST_NOT_NULL)},B=function(a,i,n){return Math.max(Math.min(a,n),i)},b=function(a){if(!a)throw new w(I.NOT_ATTACHED_TO_FLICKING,R.NOT_ATTACHED_TO_FLICKING);return a},fn=function(a){return[].slice.call(a)},cn=function(a,i){var n;if(W(a))switch(a){case H.PREV:n=0;break;case H.CENTER:n=.5*i;break;case H.NEXT:n=i;break;default:if(n=en(a,i),n==null)throw new w(I.WRONG_OPTION("align",a),R.WRONG_OPTION)}else n=a;return n},ji=function(a,i){var n;if(Array.isArray(a))n=a.map(function(t){return en(t,i)});else{var e=en(a,i);n=[e,e]}return n.map(function(t){if(t==null)throw new w(I.WRONG_OPTION("bounce",a),R.WRONG_OPTION);return t})},en=function(a,i){var n=wt(a);return n==null?null:n.percentage*i+n.absolute},wt=function(a){var i=/(?:(\+|\-)\s*)?(\d+(?:\.\d+)?(%|px)?)/g;if(typeof a=="number")return{percentage:0,absolute:a};for(var n={percentage:0,absolute:0},e=0,t=i.exec(a);t!=null;){var r=t[1],o=t[2],s=t[3],u=parseFloat(o);if(e<=0&&(r=r||"+"),!r)return null;var l=r==="+"?1:-1;s==="%"?n.percentage+=l*(u/100):n.absolute+=l*u,++e,t=i.exec(a)}return e===0?null:n},Re=function(a){return typeof a=="object"?a.panel:a},G=function(a,i){return a===i?O.NONE:a<i?O.NEXT:O.PREV},Xn=function(a){Array.isArray(a)||(a=[a]);var i=[];return a.forEach(function(n){if(W(n)){var e=document.createElement("div");for(e.innerHTML=n,i.push.apply(i,k(fn(e.children)));e.firstChild;)e.removeChild(e.firstChild)}else if(n&&n.nodeType===Node.ELEMENT_NODE)i.push(n);else throw new w(I.WRONG_TYPE(n,["HTMLElement","string"]),R.WRONG_TYPE)}),i},we=function(a,i){return a<0?B(a+i,0,i):B(a,0,i)},Ie=function(a,i){var n,e;try{for(var t=De(a),r=t.next();!r.done;r=t.next()){var o=r.value;if(o===i)return!0}}catch(s){n={error:s}}finally{try{r&&!r.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}return!1},W=function(a){return typeof a=="string"},It=function(a,i,n){var e=n-i;if(a<i){var t=(i-a)%e;a=n-t}else if(a>n){var t=(a-n)%e;a=i+t}return a},Fi=function(a,i){var n,e;try{for(var t=De(a),r=t.next();!r.done;r=t.next()){var o=r.value;if(i(o))return o}}catch(s){n={error:s}}finally{try{r&&!r.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}return null},Vi=function(a,i){for(var n=0;n<a.length;n++)if(i(a[n]))return n;return-1},Ae=function(a,i,n){return(a-i)/(n-i)},Ce=function(a){return window.getComputedStyle(a)||a.currentStyle},At=function(a,i){var n=i.width,e=i.height;a&&(n!=null&&(W(n)?a.style.width=n:a.style.width=n+"px"),e!=null&&(W(e)?a.style.height=e:a.style.height=e+"px"))},He=function(a,i,n){return a>=i&&a<=n},Ct=function(a,i){return a>=i?a%i:a<0?we((a+1)%i-1,i):a},de=function(a){for(var i=new Array(a),n=0;n<a;n++)i[n]=n;return i},ce=function(a){var i=a.el,n=a.horizontal,e=a.useFractionalSize,t=a.useOffset,r=a.style,o=0;if(e){var s=parseFloat(n?r.width:r.height)||0,u=r.boxSizing==="border-box",l=n?parseFloat(r.borderLeftWidth||"0")+parseFloat(r.borderRightWidth||"0"):parseFloat(r.borderTopWidth||"0")+parseFloat(r.borderBottomWidth||"0");if(u)o=t?s:s-l;else{var f=n?parseFloat(r.paddingLeft||"0")+parseFloat(r.paddingRight||"0"):parseFloat(r.paddingTop||"0")+parseFloat(r.paddingBottom||"0");o=t?s+f+l:s+f}}else{var c=n?"Width":"Height";o=t?i["offset"+c]:i["client"+c]}return Math.max(o,0)},Hi=Object.setPrototypeOf||function(a,i){return a.__proto__=i,a},w=function(a){L(i,a);function i(n,e){var t=a.call(this,n)||this;return Hi(t,i.prototype),t.name="FlickingError",t.code=e,t}return i}(Error),Bi=function(){function a(n,e){this._flicking=n,this._el=e,this._width=0,this._height=0,this._padding={left:0,right:0,top:0,bottom:0},this._isBorderBoxSizing=!1}var i=a.prototype;return Object.defineProperty(i,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(i,"width",{get:function(){return this._width-this._padding.left-this._padding.right},enumerable:!1,configurable:!0}),Object.defineProperty(i,"height",{get:function(){return this._height-this._padding.top-this._padding.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(i,"padding",{get:function(){return this._padding},enumerable:!1,configurable:!0}),i.setSize=function(n){var e=n.width,t=n.height,r=this._el,o=this._padding,s=this._isBorderBoxSizing;if(e!=null)if(W(e))r.style.width=e;else{var u=s?e+o.left+o.right:e;r.style.width=u+"px"}if(t!=null)if(W(t))r.style.height=t;else{var l=s?t+o.top+o.bottom:t;r.style.height=l+"px"}this.resize()},i.resize=function(){var n=this._el,e=Ce(n),t=this._flicking.useFractionalSize;this._width=ce({el:n,horizontal:!0,useFractionalSize:t,useOffset:!1,style:e}),this._height=ce({el:n,horizontal:!1,useFractionalSize:t,useOffset:!1,style:e}),this._padding={left:e.paddingLeft?parseFloat(e.paddingLeft):0,right:e.paddingRight?parseFloat(e.paddingRight):0,top:e.paddingTop?parseFloat(e.paddingTop):0,bottom:e.paddingBottom?parseFloat(e.paddingBottom):0},this._isBorderBoxSizing=e.boxSizing==="border-box"},a}(),Gi=function(){function a(n){var e=this;this._onResize=function(){var t=e._flicking,r=t.resizeDebounce,o=t.maxResizeDebounce;r<=0?t.resize():(e._maxResizeDebounceTimer<=0&&o>0&&o>=r&&(e._maxResizeDebounceTimer=window.setTimeout(e._doScheduledResize,o)),e._resizeTimer>0&&(clearTimeout(e._resizeTimer),e._resizeTimer=0),e._resizeTimer=window.setTimeout(e._doScheduledResize,r))},this._doScheduledResize=function(){clearTimeout(e._resizeTimer),clearTimeout(e._maxResizeDebounceTimer),e._maxResizeDebounceTimer=-1,e._resizeTimer=-1,e._flicking.resize()},this._skipFirstResize=function(){var t=!0;return function(){if(t){t=!1;return}e._onResize()}}(),this._flicking=n,this._enabled=!1,this._resizeObserver=null,this._resizeTimer=-1,this._maxResizeDebounceTimer=-1}var i=a.prototype;return Object.defineProperty(i,"enabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),i.enable=function(){var n=this._flicking,e=n.viewport;if(this._enabled&&this.disable(),n.useResizeObserver&&window.ResizeObserver){var t=e.width!==0||e.height!==0,r=t?new ResizeObserver(this._skipFirstResize):new ResizeObserver(this._onResize);r.observe(n.viewport.element),this._resizeObserver=r}else window.addEventListener("resize",this._onResize);return this._enabled=!0,this},i.disable=function(){if(!this._enabled)return this;var n=this._resizeObserver;return n?(n.disconnect(),this._resizeObserver=null):window.removeEventListener("resize",this._onResize),this._enabled=!1,this},a}(),Wi=function(){function a(n){this._element=n,this._rendered=!0}var i=a.prototype;return Object.defineProperty(i,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(i,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),i.show=function(n){var e=this.element,t=n.camera.element;e.parentElement!==t&&(t.appendChild(e),this._rendered=!0)},i.hide=function(n){var e=this.element,t=n.camera.element;e.parentElement===t&&(t.removeChild(e),this._rendered=!1)},a}(),Yn=function(){function a(n){this._flicking=n}var i=a.prototype;return Object.defineProperty(i,"element",{get:function(){return this._virtualElement.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(i,"rendered",{get:function(){return this._virtualElement.visible},enumerable:!1,configurable:!0}),Object.defineProperty(i,"_virtualElement",{get:function(){var n=this._flicking,e=this._panel.elementIndex,t=n.virtual.elements;return t[e]},enumerable:!1,configurable:!0}),i.init=function(n){this._panel=n},i.show=function(){},i.hide=function(){},a}(),Ui=function(){function a(n,e){var t,r,o,s;this._flicking=n,this._renderPanel=(t=e==null?void 0:e.renderPanel)!==null&&t!==void 0?t:function(){return""},this._initialPanelCount=(r=e==null?void 0:e.initialPanelCount)!==null&&r!==void 0?r:-1,this._cache=(o=e==null?void 0:e.cache)!==null&&o!==void 0?o:!1,this._panelClass=(s=e==null?void 0:e.panelClass)!==null&&s!==void 0?s:Mi.DEFAULT_VIRTUAL,this._elements=[]}var i=a.prototype;return Object.defineProperty(i,"elements",{get:function(){return this._elements},enumerable:!1,configurable:!0}),Object.defineProperty(i,"renderPanel",{get:function(){return this._renderPanel},set:function(n){this._renderPanel=n,this._flicking.renderer.panels.forEach(function(e){return e.uncacheRenderResult()})},enumerable:!1,configurable:!0}),Object.defineProperty(i,"initialPanelCount",{get:function(){return this._initialPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(i,"cache",{get:function(){return this._cache},set:function(n){this._cache=n},enumerable:!1,configurable:!0}),Object.defineProperty(i,"panelClass",{get:function(){return this._panelClass},set:function(n){this._panelClass=n},enumerable:!1,configurable:!0}),i.init=function(){var n=this._flicking;if(n.virtualEnabled){!n.externalRenderer&&!n.renderExternal&&this._initVirtualElements();var e=n.camera.children;this._elements=e.map(function(t){return{nativeElement:t,visible:!0}})}},i.show=function(n){var e=this._elements[n],t=e.nativeElement;e.visible=!0,t.style.display&&(t.style.display="")},i.hide=function(n){var e=this._elements[n],t=e.nativeElement;e.visible=!1,t.style.display="none"},i.append=function(n){n===void 0&&(n=1);var e=this._flicking;return this.insert(e.panels.length,n)},i.prepend=function(n){return n===void 0&&(n=1),this.insert(0,n)},i.insert=function(n,e){if(e===void 0&&(e=1),e<=0)return[];var t=this._flicking;return t.renderer.batchInsert({index:n,elements:de(e),hasDOMInElements:!1})},i.remove=function(n,e){if(e<=0)return[];var t=this._flicking;return t.renderer.batchRemove({index:n,deleteCount:e,hasDOMInElements:!1})},i._initVirtualElements=function(){var n=this,e=this._flicking,t=e.camera.element,r=e.panelsPerView,o=document.createDocumentFragment(),s=de(r+1).map(function(u){var l=document.createElement("div");return l.className=n._panelClass,l.dataset.elementIndex=u.toString(),l});s.forEach(function(u){o.appendChild(u)}),t.appendChild(o)},a}(),D={HOLD:"hold",CHANGE:"change",RELEASE:"release",ANIMATION_END:"animationEnd",FINISH:"finish"},C="flick",A;(function(a){a[a.IDLE=0]="IDLE",a[a.HOLDING=1]="HOLDING",a[a.DRAGGING=2]="DRAGGING",a[a.ANIMATING=3]="ANIMATING",a[a.DISABLED=4]="DISABLED"})(A||(A={}));var ge=function(){function a(){this._delta=0,this._targetPanel=null}var i=a.prototype;return Object.defineProperty(i,"delta",{get:function(){return this._delta},enumerable:!1,configurable:!0}),Object.defineProperty(i,"targetPanel",{get:function(){return this._targetPanel},set:function(n){this._targetPanel=n},enumerable:!1,configurable:!0}),i.onEnter=function(n){this._delta=n._delta,this._targetPanel=n._targetPanel},i.onHold=function(n){},i.onChange=function(n){},i.onRelease=function(n){},i.onAnimationEnd=function(n){},i.onFinish=function(n){},i._moveToChangedPosition=function(n){var e=n.flicking,t=n.axesEvent,r=n.transitTo,o=t.delta[C];if(o){this._delta+=o;var s=e.camera,u=s.position,l=t.pos[C],f=e.circularEnabled?It(l,s.range.min,s.range.max):l;s.lookAt(f);var c=new y(T.MOVE,{isTrusted:t.isTrusted,holding:this.holding,direction:G(0,t.delta[C]),axesEvent:t});e.trigger(c),c.isCanceled()&&(s.lookAt(u),r(A.DISABLED))}},a}(),$n=function(a){L(i,a);function i(){var e=a!==null&&a.apply(this,arguments)||this;return e.holding=!1,e.animating=!1,e}var n=i.prototype;return n.onEnter=function(){this._delta=0,this._targetPanel=null},n.onHold=function(e){var t=e.flicking,r=e.axesEvent,o=e.transitTo;if(t.renderer.panelCount<=0){o(A.DISABLED);return}var s=new y(T.HOLD_START,{axesEvent:r});t.trigger(s),s.isCanceled()?o(A.DISABLED):o(A.HOLDING)},n.onChange=function(e){var t=e.flicking,r=e.axesEvent,o=e.transitTo,s=t.control.controller,u=s.animatingContext,l=new y(T.MOVE_START,{isTrusted:r.isTrusted,holding:this.holding,direction:G(u.start,u.end),axesEvent:r});t.trigger(l),l.isCanceled()?o(A.DISABLED):o(A.ANIMATING).onChange(e)},i}(ge),Xi=function(a){L(i,a);function i(){var e=a!==null&&a.apply(this,arguments)||this;return e.holding=!0,e.animating=!1,e._releaseEvent=null,e}var n=i.prototype;return n.onChange=function(e){var t=e.flicking,r=e.axesEvent,o=e.transitTo,s=r.inputEvent;if(s){var u=t.horizontal?s.offsetX:s.offsetY,l=new y(T.MOVE_START,{isTrusted:r.isTrusted,holding:this.holding,direction:G(0,-u),axesEvent:r});t.trigger(l),l.isCanceled()?o(A.DISABLED):o(A.DRAGGING).onChange(e)}},n.onRelease=function(e){var t=e.flicking,r=e.axesEvent,o=e.transitTo;if(t.trigger(new y(T.HOLD_END,{axesEvent:r})),r.delta.flick!==0){r.setTo({flick:t.camera.position},0),o(A.IDLE);return}this._releaseEvent=r},n.onFinish=function(e){var t,r,o=e.flicking,s=e.transitTo;if(s(A.IDLE),!!this._releaseEvent){var u=this._releaseEvent,l=u.inputEvent.srcEvent,f;if(l.type==="touchend"){var c=l,d=c.changedTouches[0];f=document.elementFromPoint(d.clientX,d.clientY)}else f=l.target;var h=o.renderer.panels,v=null;try{for(var g=De(h),_=g.next();!_.done;_=g.next()){var p=_.value;if(p.contains(f)){v=p;break}}}catch(x){t={error:x}}finally{try{_&&!_.done&&(r=g.return)&&r.call(g)}finally{if(t)throw t.error}}if(v){var E=o.camera.position,P=v.position;o.trigger(new y(T.SELECT,{index:v.index,panel:v,direction:G(E,P)}))}}},i}(ge),Yi=function(a){L(i,a);function i(){var e=a!==null&&a.apply(this,arguments)||this;return e.holding=!0,e.animating=!0,e}var n=i.prototype;return n.onChange=function(e){this._moveToChangedPosition(e)},n.onRelease=function(e){var t,r=e.flicking,o=e.axesEvent,s=e.transitTo;if(r.trigger(new y(T.HOLD_END,{axesEvent:o})),r.renderer.panelCount<=0){s(A.IDLE);return}s(A.ANIMATING);var u=r.control,l=o.destPos[C],f=Math.max(o.duration,r.duration);try{u.moveToPosition(l,f,o)}catch{s(A.IDLE),o.setTo((t={},t[C]=r.camera.position,t),0)}},i}(ge),$i=function(a){L(i,a);function i(){var e=a!==null&&a.apply(this,arguments)||this;return e.holding=!1,e.animating=!0,e}var n=i.prototype;return n.onHold=function(e){var t=e.flicking,r=e.axesEvent,o=e.transitTo,s=this._targetPanel,u=t.control;this._delta=0,t.control.updateInput(),t.changeOnHold&&s&&u.setActive(s,u.activePanel,r.isTrusted);var l=new y(T.HOLD_START,{axesEvent:r});t.trigger(l),l.isCanceled()?o(A.DISABLED):o(A.DRAGGING)},n.onChange=function(e){this._moveToChangedPosition(e)},n.onFinish=function(e){var t=e.flicking,r=e.axesEvent,o=e.transitTo,s=t.control,u=s.controller,l=u.animatingContext;o(A.IDLE),t.trigger(new y(T.MOVE_END,{isTrusted:r.isTrusted,direction:G(l.start,l.end),axesEvent:r}));var f=this._targetPanel;f&&s.setActive(f,s.activePanel,r.isTrusted)},i}(ge),qi=function(a){L(i,a);function i(){var e=a!==null&&a.apply(this,arguments)||this;return e.holding=!1,e.animating=!0,e}var n=i.prototype;return n.onAnimationEnd=function(e){var t=e.transitTo;t(A.IDLE)},n.onChange=function(e){var t=e.axesEvent,r=e.transitTo;t.stop(),r(A.IDLE)},n.onRelease=function(e){var t=e.axesEvent,r=e.transitTo;t.delta.flick===0&&r(A.IDLE)},i}(ge),Ki=function(){function a(){var n=this;this.transitTo=function(e){var t;switch(e){case A.IDLE:t=new $n;break;case A.HOLDING:t=new Xi;break;case A.DRAGGING:t=new Yi;break;case A.ANIMATING:t=new $i;break;case A.DISABLED:t=new qi;break}return t.onEnter(n._state),n._state=t,n._state},this._state=new $n}var i=a.prototype;return Object.defineProperty(i,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),i.fire=function(n,e){var t=this._state,r=z(z({},e),{transitTo:this.transitTo});switch(n){case D.HOLD:t.onHold(r);break;case D.CHANGE:t.onChange(r);break;case D.RELEASE:t.onRelease(r);break;case D.ANIMATION_END:t.onAnimationEnd(r);break;case D.FINISH:t.onFinish(r);break}},a}(),Zi=function(){function a(){var n=this;this._onAxesHold=function(){n._dragged=!1},this._onAxesChange=function(){var e;n._dragged=!!(!((e=n._panInput)===null||e===void 0)&&e.isEnabled())},this._preventClickWhenDragged=function(e){n._dragged&&(e.preventDefault(),e.stopPropagation()),n._dragged=!1},this._resetInternalValues(),this._stateMachine=new Ki}var i=a.prototype;return Object.defineProperty(i,"axes",{get:function(){return this._axes},enumerable:!1,configurable:!0}),Object.defineProperty(i,"panInput",{get:function(){return this._panInput},enumerable:!1,configurable:!0}),Object.defineProperty(i,"stateMachine",{get:function(){return this._stateMachine},enumerable:!1,configurable:!0}),Object.defineProperty(i,"state",{get:function(){return this._stateMachine.state},enumerable:!1,configurable:!0}),Object.defineProperty(i,"animatingContext",{get:function(){return this._animatingContext},enumerable:!1,configurable:!0}),Object.defineProperty(i,"controlParams",{get:function(){var n=this._axes;if(!n)return{range:{min:0,max:0},position:0,circular:!1};var e=n.axis[C];return{range:{min:e.range[0],max:e.range[1]},circular:e.circular[0],position:this.position}},enumerable:!1,configurable:!0}),Object.defineProperty(i,"enabled",{get:function(){var n,e;return(e=(n=this._panInput)===null||n===void 0?void 0:n.isEnabled())!==null&&e!==void 0?e:!1},enumerable:!1,configurable:!0}),Object.defineProperty(i,"position",{get:function(){var n,e;return(e=(n=this._axes)===null||n===void 0?void 0:n.get([C])[C])!==null&&e!==void 0?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(i,"range",{get:function(){var n,e;return(e=(n=this._axes)===null||n===void 0?void 0:n.axis[C].range)!==null&&e!==void 0?e:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(i,"bounce",{get:function(){var n;return(n=this._axes)===null||n===void 0?void 0:n.axis[C].bounce},enumerable:!1,configurable:!0}),i.init=function(n){var e,t=this;this._flicking=n,this._axes=new gi((e={},e[C]={range:[0,0],circular:!1,bounce:[0,0]},e),{deceleration:n.deceleration,interruptable:n.interruptable,nested:n.nested,easing:n.easing}),this._panInput=new pi(n.viewport.element,{inputType:n.inputType,threshold:n.dragThreshold,iOSEdgeSwipeThreshold:n.iOSEdgeSwipeThreshold,preventDefaultOnDrag:n.preventDefaultOnDrag,scale:n.horizontal?[n.camera.panelOrder===$.RTL?1:-1,0]:[0,-1],releaseOnScroll:!0});var r=this._axes;r.connect(n.horizontal?[C,""]:["",C],this._panInput);var o=function(u){var l=D[u];r.on(l,function(f){t._stateMachine.fire(l,{flicking:n,axesEvent:f})})};for(var s in D)o(s);return this},i.destroy=function(){var n;this._axes&&(this.removePreventClickHandler(),this._axes.destroy()),(n=this._panInput)===null||n===void 0||n.destroy(),this._resetInternalValues()},i.enable=function(){var n;return(n=this._panInput)===null||n===void 0||n.enable(),this},i.disable=function(){var n;return(n=this._panInput)===null||n===void 0||n.disable(),this},i.release=function(){var n;return(n=this._panInput)===null||n===void 0||n.release(),this},i.updateAnimation=function(n,e){var t,r;return this._animatingContext=z(z({},this._animatingContext),{end:n}),(r=this._axes)===null||r===void 0||r.updateAnimation({destPos:(t={},t[C]=n,t),duration:e}),this},i.stopAnimation=function(){var n;return(n=this._axes)===null||n===void 0||n.stopAnimation(),this},i.update=function(n){var e,t=b(this._flicking),r=t.camera,o=this._axes,s=o.axis[C];return s.circular=[n.circular,n.circular],s.range=[n.range.min,n.range.max],s.bounce=ji(t.bounce,r.size),o.axisManager.set((e={},e[C]=n.position,e)),this},i.addPreventClickHandler=function(){var n=b(this._flicking),e=this._axes,t=n.camera.element;return e.on(D.HOLD,this._onAxesHold),e.on(D.CHANGE,this._onAxesChange),t.addEventListener("click",this._preventClickWhenDragged,!0),this},i.removePreventClickHandler=function(){var n=b(this._flicking),e=this._axes,t=n.camera.element;return e.off(D.HOLD,this._onAxesHold),e.off(D.CHANGE,this._onAxesChange),t.removeEventListener("click",this._preventClickWhenDragged,!0),this},i.animateTo=function(n,e,t){var r=this,o,s=this._axes,u=this._stateMachine.state;if(!s)return Promise.reject(new w(I.NOT_ATTACHED_TO_FLICKING,R.NOT_ATTACHED_TO_FLICKING));var l=s.get([C])[C];if(l===n){var f=b(this._flicking);return f.camera.lookAt(n),u.targetPanel&&f.control.setActive(u.targetPanel,f.control.activePanel,(o=t==null?void 0:t.isTrusted)!==null&&o!==void 0?o:!1),Promise.resolve()}this._animatingContext={start:l,end:n,offset:0};var c=function(){var d,h,v=function(){r._animatingContext={start:0,end:0,offset:0}};s.once(D.FINISH,v),t?t.setTo((d={},d[C]=n,d),e):s.setTo((h={},h[C]=n,h),e)};return new Promise(function(d,h){var v=function(){s.off(D.HOLD,g),d()},g=function(){s.off(D.FINISH,v),h(new w(I.ANIMATION_INTERRUPTED,R.ANIMATION_INTERRUPTED))};s.once(D.FINISH,v),s.once(D.HOLD,g),c()})},i.updateDirection=function(){var n=b(this._flicking),e=this._axes,t=this._panInput;e.disconnect(t),e.connect(n.horizontal?[C,""]:["",C],t),t.options.scale=n.horizontal?[n.camera.panelOrder===$.RTL?1:-1,0]:[0,-1]},i._resetInternalValues=function(){this._flicking=null,this._axes=null,this._panInput=null,this._animatingContext={start:0,end:0,offset:0},this._dragged=!1},a}(),hn=function(){function a(){this._flicking=null,this._controller=new Zi,this._activePanel=null}var i=a.prototype;return Object.defineProperty(i,"controller",{get:function(){return this._controller},enumerable:!1,configurable:!0}),Object.defineProperty(i,"activeIndex",{get:function(){var n,e;return(e=(n=this._activePanel)===null||n===void 0?void 0:n.index)!==null&&e!==void 0?e:-1},enumerable:!1,configurable:!0}),Object.defineProperty(i,"activePanel",{get:function(){return this._activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(i,"animating",{get:function(){return this._controller.state.animating},enumerable:!1,configurable:!0}),Object.defineProperty(i,"holding",{get:function(){return this._controller.state.holding},enumerable:!1,configurable:!0}),i.init=function(n){return this._flicking=n,this._controller.init(n),this},i.destroy=function(){this._controller.destroy(),this._flicking=null,this._activePanel=null},i.enable=function(){return this._controller.enable(),this},i.disable=function(){return this._controller.disable(),this},i.release=function(){return this._controller.release(),this},i.updateAnimation=function(n,e,t){var r=this._controller.state,o=this._getPosition(n,t??O.NONE);return r.targetPanel=n,this._controller.updateAnimation(o,e),this},i.stopAnimation=function(){var n=this._controller.state;return n.targetPanel=null,this._controller.stopAnimation(),this},i.updatePosition=function(n){var e=b(this._flicking),t=e.camera,r=this._activePanel;r&&t.lookAt(t.clampToReachablePosition(r.position))},i.updateInput=function(){var n=b(this._flicking),e=n.camera;return this._controller.update(e.controlParams),this},i.resetActive=function(){return this._activePanel=null,this},i.moveToPanel=function(n,e){var t=e.duration,r=e.direction,o=r===void 0?O.NONE:r,s=e.axesEvent;return K(this,void 0,void 0,function(){var u;return Z(this,function(l){return u=this._getPosition(n,o),this._triggerIndexChangeEvent(n,n.position,s,o),[2,this._animateToPosition({position:u,duration:t,newActivePanel:n,axesEvent:s})]})})},i.setActive=function(n,e,t){var r,o=b(this._flicking);this._activePanel=n,this._nextPanel=null,o.camera.updateAdaptiveHeight(),n!==e?o.trigger(new y(T.CHANGED,{index:n.index,panel:n,prevIndex:(r=e==null?void 0:e.index)!==null&&r!==void 0?r:-1,prevPanel:e,isTrusted:t,direction:e?G(e.position,n.position):O.NONE})):o.trigger(new y(T.RESTORED,{isTrusted:t}))},i.copy=function(n){this._flicking=n._flicking,this._activePanel=n._activePanel,this._controller=n._controller},i._triggerIndexChangeEvent=function(n,e,t,r){var o,s=b(this._flicking),u=n!==this._activePanel?T.WILL_CHANGE:T.WILL_RESTORE,l=s.camera,f=this._activePanel,c=new y(u,{index:n.index,panel:n,isTrusted:(t==null?void 0:t.isTrusted)||!1,direction:r??G((o=f==null?void 0:f.position)!==null&&o!==void 0?o:l.position,e)});if(this._nextPanel=n,s.trigger(c),c.isCanceled())throw new w(I.STOP_CALLED_BY_USER,R.STOP_CALLED_BY_USER)},i._animateToPosition=function(n){var e=n.position,t=n.duration,r=n.newActivePanel,o=n.axesEvent;return K(this,void 0,void 0,function(){var s,u,l,f=this;return Z(this,function(c){return s=b(this._flicking),u=function(){return f._controller.animateTo(e,t,o)},l=this._controller.state,l.targetPanel=r,t<=0?[2,u()]:[2,u().then(function(){return K(f,void 0,void 0,function(){return Z(this,function(d){switch(d.label){case 0:return[4,s.renderer.render()];case 1:return d.sent(),[2]}})})}).catch(function(d){if(!(o&&d instanceof w&&d.code===R.ANIMATION_INTERRUPTED))throw d})]})})},i._getPosition=function(n,e){e===void 0&&(e=O.NONE);var t=b(this._flicking),r=t.camera,o=n.position,s=r.findNearestAnchor(o);if(n.removed||!s)throw new w(I.POSITION_NOT_REACHABLE(n.position),R.POSITION_NOT_REACHABLE);if(!r.canReach(n))o=s.position,n=s.panel;else if(t.circularEnabled){var u=this._controller.position,l=r.rangeDiff,f=[o,o+l,o-l].filter(function(c){return e===O.NONE?!0:e===O.PREV?c<=u:c>=u});o=f.reduce(function(c,d){return Math.abs(u-d)<Math.abs(u-c)?d:c},1/0)}return o},a}(),M=function(){function a(n){var e=n.index,t=n.position,r=n.panel;this._index=e,this._pos=t,this._panel=r}var i=a.prototype;return Object.defineProperty(i,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(i,"position",{get:function(){return this._pos},enumerable:!1,configurable:!0}),Object.defineProperty(i,"panel",{get:function(){return this._panel},enumerable:!1,configurable:!0}),a}(),Qi=function(a){L(i,a);function i(e){var t=(e===void 0?{}:e).count,r=t===void 0?1/0:t,o=a.call(this)||this;return o._count=r,o}var n=i.prototype;return Object.defineProperty(n,"count",{get:function(){return this._count},set:function(e){this._count=e},enumerable:!1,configurable:!0}),n.moveToPosition=function(e,t,r){var o=b(this._flicking),s=o.camera,u=s.findActiveAnchor(),l=s.findNearestAnchor(s.position),f=this._controller.state;if(!u||!l)return Promise.reject(new w(I.POSITION_NOT_REACHABLE(e),R.POSITION_NOT_REACHABLE));var c=this._calcSnapThreshold(o.threshold,e,u),d=o.animating?f.delta:e-s.position,h=Math.abs(d),v=r&&r.delta[C]!==0?Math.abs(r.delta[C]):h,g;if(v>=c&&v>0)g=this._findSnappedAnchor(e,l);else if(h>=o.threshold&&h>0)g=this._findAdjacentAnchor(e,d,l);else return this.moveToPanel(l.panel,{duration:t,axesEvent:r});return this._triggerIndexChangeEvent(g.panel,e,r),this._animateToPosition({position:s.clampToReachablePosition(g.position),duration:t,newActivePanel:g.panel,axesEvent:r})},n._findSnappedAnchor=function(e,t){var r=b(this._flicking),o=r.camera,s=this._count,u=o.position,l=o.clampToReachablePosition(e),f=o.findAnchorIncludePosition(l);if(!t||!f)throw new w(I.POSITION_NOT_REACHABLE(e),R.POSITION_NOT_REACHABLE);if(!isFinite(s))return f;var c=r.panelCount,d=o.anchorPoints,h=Math.sign(e-u)*Math.floor(Math.abs(e-u)/o.rangeDiff);e>u&&f.index<t.index||f.position>t.position&&f.index===t.index?h+=1:(e<u&&f.index>t.index||f.position<t.position&&f.index===t.index)&&(h-=1);var v=h*c,g=f.index+v;if(Math.abs(g-t.index)<=s){var _=d[f.index];return new M({index:_.index,position:_.position+h*o.rangeDiff,panel:_.panel})}if(r.circularEnabled){var p=d[Ct(t.index+Math.sign(e-u)*s,c)],E=Math.floor(s/c);return e>u&&p.index<t.index?E+=1:e<u&&p.index>t.index&&(E-=1),new M({index:p.index,position:p.position+E*o.rangeDiff,panel:p.panel})}else return d[B(t.index+Math.sign(e-u)*s,0,d.length-1)]},n._findAdjacentAnchor=function(e,t,r){var o,s=b(this._flicking),u=s.camera;if(u.circularEnabled){var l=u.findAnchorIncludePosition(e);if(l&&l.position!==r.position)return l}var f=(o=t>0?u.getNextAnchor(r):u.getPrevAnchor(r))!==null&&o!==void 0?o:r;return f},n._calcSnapThreshold=function(e,t,r){var o=t>r.position,s=r.panel,u=s.size,l=s.alignPosition;return Math.max(e,o?u-l+s.margin.next:l+s.margin.prev)},i}(hn),Ji=function(a){L(i,a);function i(e){var t=(e===void 0?{}:e).stopAtEdge,r=t===void 0?!0:t,o=a.call(this)||this;return o._stopAtEdge=r,o}var n=i.prototype;return Object.defineProperty(n,"stopAtEdge",{get:function(){return this._stopAtEdge},set:function(e){this._stopAtEdge=e},enumerable:!1,configurable:!0}),n.updatePosition=function(e){var t=b(this._flicking),r=t.camera,o=this._activePanel;if(o){var s=o.range,u=s.min+(s.max-s.min)*e;r.lookAt(r.clampToReachablePosition(u))}},n.moveToPosition=function(e,t,r){var o=b(this._flicking),s=o.camera,u=s.clampToReachablePosition(e),l=s.findAnchorIncludePosition(u);if(!l)return Promise.reject(new w(I.POSITION_NOT_REACHABLE(e),R.POSITION_NOT_REACHABLE));var f=l.panel;return f!==this._activePanel&&this._triggerIndexChangeEvent(f,e,r),this._animateToPosition({position:this._stopAtEdge?u:e,duration:t,newActivePanel:f,axesEvent:r})},i}(hn),ea=function(a){L(i,a);function i(e){var t=(e===void 0?{}:e).count,r=t===void 0?1:t,o=a.call(this)||this;return o.setActive=function(s,u,l){a.prototype.setActive.call(o,s,u,l),o.updateInput()},o._count=r,o._resetIndexRange(),o}var n=i.prototype;return Object.defineProperty(n,"count",{get:function(){return this._count},set:function(e){this._count=e},enumerable:!1,configurable:!0}),n.destroy=function(){a.prototype.destroy.call(this),this._resetIndexRange()},n.updateInput=function(){var e,t=b(this._flicking),r=t.camera,o=t.renderer,s=this._controller,u=r.controlParams,l=this._count,f=s.state.animating?(e=r.findNearestAnchor(r.position))===null||e===void 0?void 0:e.panel:this._activePanel;if(!f)return s.update(u),this._resetIndexRange(),this;var c=u.range,d=f.position,h=f.index,v=o.panelCount,g=h-l,_=h+l;g<0&&(g=t.circularEnabled?we((g+1)%v-1,v):B(g,0,v-1)),_>=v&&(_=t.circularEnabled?_%v:B(_,0,v-1));var p=o.panels[g],E=o.panels[_],P=Math.max(p.position,c.min),x=Math.min(E.position,c.max);return P>d&&(P-=r.rangeDiff),x<d&&(x+=r.rangeDiff),u.range={min:P,max:x},u.circular&&(u.position<P&&(u.position+=r.rangeDiff),u.position>x&&(u.position-=r.rangeDiff)),u.circular=!1,s.update(u),this._indexRange={min:p.index,max:E.index},this},n.moveToPanel=function(e,t){return K(this,void 0,void 0,function(){var r,o,s;return Z(this,function(u){return r=b(this._flicking),o=r.camera,s=this._controller,s.update(o.controlParams),[2,a.prototype.moveToPanel.call(this,e,t)]})})},n.moveToPosition=function(e,t,r){var o,s=b(this._flicking),u=s.camera,l=(o=this._nextPanel)!==null&&o!==void 0?o:this._activePanel,f=this._controller.range,c=this._indexRange,d=u.range,h=this._controller.state,v=B(u.clampToReachablePosition(e),f[0],f[1]),g=u.findAnchorIncludePosition(v);if(!g||!l)return Promise.reject(new w(I.POSITION_NOT_REACHABLE(e),R.POSITION_NOT_REACHABLE));var _=l.position,p=s.animating?h.delta:e-u.position,E=Math.abs(p)>=s.threshold,P=e>_?u.getNextAnchor(g):u.getPrevAnchor(g),x,j,F=u.anchorPoints,U=F[0],ie=F[F.length-1],Me=e<=d.min&&He(U.panel.index,c.min,c.max),_e=e>=d.max&&He(ie.panel.index,c.min,c.max),Le=P&&(c.min<=c.max?He(P.index,c.min,c.max):P.index>=c.min||P.index<=c.max);if(Me||_e){var ae=e<d.min?U:ie;j=ae.panel,x=ae.position}else if(E&&g.position!==l.position)j=g.panel,x=g.position;else if(E&&Le)j=P.panel,x=P.position;else{var pe=u.findNearestAnchor(u.position);return pe?this.moveToPanel(pe.panel,{duration:t,axesEvent:r}):Promise.reject(new w(I.POSITION_NOT_REACHABLE(e),R.POSITION_NOT_REACHABLE))}return this._triggerIndexChangeEvent(j,e,r),this._animateToPosition({position:x,duration:t,newActivePanel:j,axesEvent:r})},n._resetIndexRange=function(){this._indexRange={min:0,max:0}},i}(hn),dn=function(){function a(n){this._flicking=n}var i=a.prototype;return i.getAnchors=function(){var n=this._flicking.renderer.panels;return n.map(function(e,t){return new M({index:t,position:e.position,panel:e})})},i.findAnchorIncludePosition=function(n){var e=this._flicking.camera.anchorPoints,t=e.filter(function(r){return r.panel.includePosition(n,!0)});return t.reduce(function(r,o){return r&&Math.abs(r.position-n)<Math.abs(o.position-n)?r:o},null)},i.findNearestAnchor=function(n){var e=this._flicking.camera.anchorPoints;if(e.length<=0)return null;for(var t=1/0,r=0;r<e.length;r++){var o=e[r],s=Math.abs(o.position-n);if(s>t)return e[r-1];t=s}return e[e.length-1]},i.clampToReachablePosition=function(n){var e=this._flicking.camera,t=e.range;return B(n,t.min,t.max)},i.getCircularOffset=function(){return 0},i.canReach=function(n){var e=this._flicking.camera,t=e.range;if(n.removed)return!1;var r=n.position;return r>=t.min&&r<=t.max},i.canSee=function(n){var e=this._flicking.camera,t=e.visibleRange;return n.isVisibleOnRange(t.min,t.max)},a}(),qn=function(a){L(i,a);function i(){return a!==null&&a.apply(this,arguments)||this}var n=i.prototype;return n.checkAvailability=function(){return!0},n.getRange=function(){var e,t,r=this._flicking.renderer,o=r.getPanel(0),s=r.getPanel(r.panelCount-1);return{min:(e=o==null?void 0:o.position)!==null&&e!==void 0?e:0,max:(t=s==null?void 0:s.position)!==null&&t!==void 0?t:0}},i}(dn),na=function(a){L(i,a);function i(){return a!==null&&a.apply(this,arguments)||this}var n=i.prototype;return n.checkAvailability=function(){var e=this._flicking,t=e.renderer,r=t.panels;if(r.length<=0)return!1;var o=r[0],s=r[r.length-1],u=o.range.min-o.margin.prev,l=s.range.max+s.margin.next,f=e.camera.size,c=l-u,d=r.every(function(h){return c-h.size>=f});return d},n.getRange=function(){var e=this._flicking,t=e.renderer.panels;if(t.length<=0)return{min:0,max:0};var r=t[0],o=t[t.length-1],s=r.range.min-r.margin.prev,u=o.range.max+o.margin.next;return{min:s,max:u}},n.getAnchors=function(){var e=this._flicking,t=e.renderer.panels;return t.map(function(r,o){return new M({index:o,position:r.position,panel:r})})},n.findNearestAnchor=function(e){var t=this._flicking.camera,r=t.anchorPoints;if(r.length<=0)return null;for(var o=t.range,s=1/0,u=-1,l=0;l<r.length;l++){var f=r[l],c=Math.min(Math.abs(f.position-e),Math.abs(f.position-o.min+o.max-e),Math.abs(e-o.min+o.max-f.position));c<s&&(s=c,u=l)}return r[u]},n.findAnchorIncludePosition=function(e){var t=this._flicking.camera,r=t.range,o=t.anchorPoints,s=t.rangeDiff,u=o.length,l=It(e,r.min,r.max),f=a.prototype.findAnchorIncludePosition.call(this,l);if(u>0&&(e===r.min||e===r.max)){var c=[f,new M({index:0,position:o[0].position+s,panel:o[0].panel}),new M({index:u-1,position:o[u-1].position-s,panel:o[u-1].panel})].filter(function(h){return!!h});f=c.reduce(function(h,v){return h&&Math.abs(h.position-e)<Math.abs(v.position-e)?h:v},null)}if(!f)return null;if(e<r.min){var d=-Math.floor((r.min-e)/s)-1;return new M({index:f.index,position:f.position+s*d,panel:f.panel})}else if(e>r.max){var d=Math.floor((e-r.max)/s)+1;return new M({index:f.index,position:f.position+s*d,panel:f.panel})}return f},n.getCircularOffset=function(){var e=this._flicking,t=e.camera;if(!t.circularEnabled)return 0;var r=e.panels.filter(function(u){return u.toggled}),o=r.filter(function(u){return u.toggleDirection===O.PREV}),s=r.filter(function(u){return u.toggleDirection===O.NEXT});return this._calcPanelAreaSum(o)-this._calcPanelAreaSum(s)},n.clampToReachablePosition=function(e){return e},n.canReach=function(e){return!e.removed},n.canSee=function(e){var t=this._flicking.camera,r=t.range,o=t.rangeDiff,s=t.visibleRange,u=a.prototype.canSee.call(this,e);return s.min<r.min?u||e.isVisibleOnRange(s.min+o,s.max+o):s.max>r.max?u||e.isVisibleOnRange(s.min-o,s.max-o):u},n._calcPanelAreaSum=function(e){return e.reduce(function(t,r){return t+r.sizeIncludingMargin},0)},i}(dn),Kn=function(a){L(i,a);function i(){return a!==null&&a.apply(this,arguments)||this}var n=i.prototype;return n.checkAvailability=function(){var e=this._flicking,t=e.renderer,r=t.getPanel(0),o=t.getPanel(t.panelCount-1);if(!r||!o)return!1;var s=e.camera.size,u=r.range.min,l=o.range.max,f=l-u,c=s<f;return c},n.getRange=function(){var e=this._flicking,t=e.renderer,r=e.camera.alignPosition,o=t.getPanel(0),s=t.getPanel(t.panelCount-1);if(!o||!s)return{min:0,max:0};var u=e.camera.size,l=o.range.min,f=s.range.max,c=f-l,d=u<c,h=l+r,v=f-u+r;if(d)return{min:h,max:v};var g=e.camera.align,_=typeof g=="object"?g.camera:g,p=h+cn(_,v-h);return{min:p,max:p}},n.getAnchors=function(){var e=this._flicking,t=e.camera,r=e.renderer.panels;if(r.length<=0)return[];var o=e.camera.range,s=r.filter(function(g){return t.canReach(g)});if(s.length>0){var u=s[0].position!==o.min,l=s[s.length-1].position!==o.max,f=u?1:0,c=s.map(function(g,_){return new M({index:_+f,position:g.position,panel:g})});return u&&c.splice(0,0,new M({index:0,position:o.min,panel:r[s[0].index-1]})),l&&c.push(new M({index:c.length,position:o.max,panel:r[s[s.length-1].index+1]})),c}else if(o.min!==o.max){var d=this._findNearestPanel(o.min,r),h=d.index===r.length-1?d.prev():d,v=h.next();return[new M({index:0,position:o.min,panel:h}),new M({index:1,position:o.max,panel:v})]}else return[new M({index:0,position:o.min,panel:this._findNearestPanel(o.min,r)})]},n.findAnchorIncludePosition=function(e){var t=this._flicking.camera,r=t.range,o=t.anchorPoints;return o.length<=0?null:e<=r.min?o[0]:e>=r.max?o[o.length-1]:a.prototype.findAnchorIncludePosition.call(this,e)},n._findNearestPanel=function(e,t){for(var r=1/0,o=0;o<t.length;o++){var s=t[o],u=Math.abs(s.position-e);if(u>r)return t[o-1];r=u}return t[t.length-1]},i}(dn),ta=function(){function a(n,e){var t=this,r=(e===void 0?{}:e).align,o=r===void 0?H.CENTER:r;this._lookedOffset=0,this._checkTranslateSupport=function(){var s,u,l=["webkitTransform","msTransform","MozTransform","OTransform","transform"],f=document.documentElement.style,c="";try{for(var d=De(l),h=d.next();!h.done;h=d.next()){var v=h.value;v in f&&(c=v)}}catch(g){s={error:g}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(s)throw s.error}}if(!c)throw new w(I.TRANSFORM_NOT_SUPPORTED,R.TRANSFORM_NOT_SUPPORTED);t._transform=c},this._flicking=n,this._resetInternalValues(),this._align=o}var i=a.prototype;return Object.defineProperty(i,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(i,"children",{get:function(){return fn(this._el.children)},enumerable:!1,configurable:!0}),Object.defineProperty(i,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(i,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(i,"offset",{get:function(){return this._offset-this._circularOffset},enumerable:!1,configurable:!0}),Object.defineProperty(i,"circularEnabled",{get:function(){return this._circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(i,"mode",{get:function(){return this._mode},enumerable:!1,configurable:!0}),Object.defineProperty(i,"range",{get:function(){return this._range},enumerable:!1,configurable:!0}),Object.defineProperty(i,"rangeDiff",{get:function(){return this._range.max-this._range.min},enumerable:!1,configurable:!0}),Object.defineProperty(i,"visiblePanels",{get:function(){return this._visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(i,"visibleRange",{get:function(){return{min:this._position-this._alignPos,max:this._position-this._alignPos+this.size}},enumerable:!1,configurable:!0}),Object.defineProperty(i,"anchorPoints",{get:function(){return this._anchors},enumerable:!1,configurable:!0}),Object.defineProperty(i,"controlParams",{get:function(){return{range:this._range,position:this._position,circular:this._circularEnabled}},enumerable:!1,configurable:!0}),Object.defineProperty(i,"atEdge",{get:function(){return this._position<=this._range.min||this._position>=this._range.max},enumerable:!1,configurable:!0}),Object.defineProperty(i,"size",{get:function(){var n=this._flicking;return n?n.horizontal?n.viewport.width:n.viewport.height:0},enumerable:!1,configurable:!0}),Object.defineProperty(i,"progress",{get:function(){var n=this._flicking,e=this._position+this._offset,t=this.findNearestAnchor(this._position);if(!n||!t)return NaN;var r=t.panel,o=r.position+r.offset,s=n.control.controller.bounce,u=this.range,l=u.min,f=u.max,c=this.rangeDiff;if(e===o)return r.index;if(e<o){var d=r.prev(),h=d?d.position+d.offset:l-s[0];return h>o&&(h-=c),r.index-1+Ae(e,h,o)}else{var v=r.next(),g=v?v.position+v.offset:f+s[1];return g<o&&(g+=c),r.index+Ae(e,o,g)}},enumerable:!1,configurable:!0}),Object.defineProperty(i,"panelOrder",{get:function(){return this._panelOrder},enumerable:!1,configurable:!0}),Object.defineProperty(i,"align",{get:function(){return this._align},set:function(n){this._align=n},enumerable:!1,configurable:!0}),i.init=function(){var n=this._flicking.viewport.element;return zi(n.firstElementChild,"First element child of the viewport element"),this._el=n.firstElementChild,this._checkTranslateSupport(),this._updateMode(),this.updatePanelOrder(),this},i.destroy=function(){return this._resetInternalValues(),this},i.lookAt=function(n){var e=this,t=this._offset,r=this._lookedOffset!==t,o=b(this._flicking),s=this._position;this._position=n;var u=this._togglePanels(s,n);this._refreshVisiblePanels(),this._checkNeedPanel(),this._checkReachEnd(s,n),u?o.renderer.render().then(function(){e.updateOffset(),e._lookedOffset=e._offset}):r?(this.updateOffset(),this._lookedOffset=this._offset):this.applyTransform()},i.getPrevAnchor=function(n){if(!this._circularEnabled||n.index!==0)return this._anchors[n.index-1]||null;var e=this._anchors,t=this.rangeDiff,r=e[e.length-1];return new M({index:r.index,position:r.position-t,panel:r.panel})},i.getNextAnchor=function(n){var e=this._anchors;if(!this._circularEnabled||n.index!==e.length-1)return e[n.index+1]||null;var t=this.rangeDiff,r=e[0];return new M({index:r.index,position:r.position+t,panel:r.panel})},i.getProgressInPanel=function(n){var e=n.range;return(this._position-e.min)/(e.max-e.min)},i.findAnchorIncludePosition=function(n){return this._mode.findAnchorIncludePosition(n)},i.findNearestAnchor=function(n){return this._mode.findNearestAnchor(n)},i.findActiveAnchor=function(){var n,e=b(this._flicking),t=e.control.activePanel;return t?(n=Fi(this._anchors,function(r){return r.panel.index===t.index}))!==null&&n!==void 0?n:this.findNearestAnchor(t.position):null},i.clampToReachablePosition=function(n){return this._mode.clampToReachablePosition(n)},i.canReach=function(n){return this._mode.canReach(n)},i.canSee=function(n){return this._mode.canSee(n)},i.updateRange=function(){var n=b(this._flicking),e=n.renderer,t=e.panels;return this._updateMode(),this._range=this._mode.getRange(),t.forEach(function(r){return r.updateCircularToggleDirection()}),this},i.updateAlignPos=function(){var n=this._align,e=typeof n=="object"?n.camera:n;return this._alignPos=cn(e,this.size),this},i.updateAnchors=function(){return this._anchors=this._mode.getAnchors(),this},i.updateAdaptiveHeight=function(){var n=b(this._flicking),e=n.control.activePanel,t=n.visiblePanels,r=k(t);if(e&&r.push(e),!(!n.horizontal||!n.adaptive||!r.length)){var o=Math.max.apply(Math,k(r.map(function(s){return s.height})));n.viewport.setSize({height:o})}},i.updateOffset=function(){var n=b(this._flicking),e=this._position,t=n.panels.filter(function(r){return!r.rendered});return this._offset=t.filter(function(r){return r.position+r.offset<e}).reduce(function(r,o){return r+o.sizeIncludingMargin},0),this._circularOffset=this._mode.getCircularOffset(),this.applyTransform(),this},i.updatePanelOrder=function(){var n=b(this._flicking);if(!n.horizontal)return this;var e=this._el,t=Ce(e).direction;return t!==this._panelOrder&&(this._panelOrder=t===$.RTL?$.RTL:$.LTR,n.initialized&&n.control.controller.updateDirection()),this},i.resetNeedPanelHistory=function(){return this._needPanelTriggered={prev:!1,next:!1},this},i.applyTransform=function(){var n=this._el,e=b(this._flicking),t=e.renderer;if(t.rendering||!e.initialized)return this;var r=this._position-this._alignPos-this._offset+this._circularOffset;return n.style[this._transform]=e.horizontal?"translate("+(this._panelOrder===$.RTL?r:-r)+"px)":"translate(0, "+-r+"px)",this},i._resetInternalValues=function(){this._position=0,this._lookedOffset=0,this._alignPos=0,this._offset=0,this._circularOffset=0,this._circularEnabled=!1,this._range={min:0,max:0},this._visiblePanels=[],this._anchors=[],this._needPanelTriggered={prev:!1,next:!1}},i._refreshVisiblePanels=function(){var n=this,e=b(this._flicking),t=e.renderer.panels,r=t.filter(function(l){return n.canSee(l)}),o=this._visiblePanels;this._visiblePanels=r;var s=r.filter(function(l){return!Ie(o,l)}),u=o.filter(function(l){return!Ie(r,l)});(s.length>0||u.length>0)&&e.renderer.render().then(function(){e.trigger(new y(T.VISIBLE_CHANGE,{added:s,removed:u,visiblePanels:r}))})},i._checkNeedPanel=function(){var n=this._needPanelTriggered;if(!(n.prev&&n.next)){var e=b(this._flicking),t=e.renderer.panels;if(t.length<=0){n.prev||(e.trigger(new y(T.NEED_PANEL,{direction:O.PREV})),n.prev=!0),n.next||(e.trigger(new y(T.NEED_PANEL,{direction:O.NEXT})),n.next=!0);return}var r=this._position,o=this.size,s=this._range,u=e.needPanelThreshold,l=r-this._alignPos,f=l+o,c=t[0],d=t[t.length-1];if(!n.prev){var h=c.range.min;(l<=h+u||r<=s.min+u)&&(e.trigger(new y(T.NEED_PANEL,{direction:O.PREV})),n.prev=!0)}if(!n.next){var v=d.range.max;(f>=v-u||r>=s.max-u)&&(e.trigger(new y(T.NEED_PANEL,{direction:O.NEXT})),n.next=!0)}}},i._checkReachEnd=function(n,e){var t=b(this._flicking),r=this._range,o=n>r.min&&n<r.max,s=e>r.min&&e<r.max;if(!(!o||s)){var u=e<=r.min?O.PREV:O.NEXT;t.trigger(new y(T.REACH_EDGE,{direction:u}))}},i._updateMode=function(){var n=b(this._flicking);if(n.circular){var e=new na(n),t=e.checkAvailability();if(t)this._mode=e;else{var r=n.circularFallback;this._mode=r===Rt.BOUND?new Kn(n):new qn(n)}this._circularEnabled=t}else this._mode=n.bound?new Kn(n):new qn(n),this._circularEnabled=!1},i._togglePanels=function(n,e){if(e===n)return!1;var t=b(this._flicking),r=t.renderer.panels,o=r.map(function(s){return s.toggle(n,e)});return o.some(function(s){return s})},a}(),St=function(){function a(n){var e=n.align,t=e===void 0?H.CENTER:e,r=n.strategy;this._flicking=null,this._panels=[],this._rendering=!1,this._align=t,this._strategy=r}var i=a.prototype;return Object.defineProperty(i,"panels",{get:function(){return this._panels},enumerable:!1,configurable:!0}),Object.defineProperty(i,"rendering",{get:function(){return this._rendering},enumerable:!1,configurable:!0}),Object.defineProperty(i,"panelCount",{get:function(){return this._panels.length},enumerable:!1,configurable:!0}),Object.defineProperty(i,"strategy",{get:function(){return this._strategy},enumerable:!1,configurable:!0}),Object.defineProperty(i,"align",{get:function(){return this._align},set:function(n){this._align=n;var e=Re(n);this._panels.forEach(function(t){t.align=e})},enumerable:!1,configurable:!0}),i.init=function(n){return this._flicking=n,this._collectPanels(),this},i.destroy=function(){this._flicking=null,this._panels=[]},i.getPanel=function(n){return this._panels[n]||null},i.forceRenderAllPanels=function(){return this._panels.forEach(function(n){return n.markForShow()}),Promise.resolve()},i.updatePanelSize=function(){var n=b(this._flicking),e=this._panels;if(e.length<=0)return this;if(n.panelsPerView>0){var t=e[0];t.resize(),this._updatePanelSizeByGrid(t,e)}else n.panels.forEach(function(r){return r.resize()});return this},i.batchInsert=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=this.batchInsertDefer.apply(this,k(n));return t.length<=0?[]:(this.updateAfterPanelChange(t,[]),t)},i.batchInsertDefer=function(){for(var n=this,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this._panels,o=b(this._flicking),s=r[0],u=Re(this._align),l=e.reduce(function(f,c){var d,h=we(c.index,r.length),v=r.slice(h),g=c.elements.map(function(p,E){return n._createPanel(p,{index:h+E,align:u,flicking:o})});if(r.splice.apply(r,k([h,0],g)),c.hasDOMInElements&&n._insertPanelElements(g,(d=v[0])!==null&&d!==void 0?d:null),o.panelsPerView>0){var _=s||g[0].resize();n._updatePanelSizeByGrid(_,g)}else g.forEach(function(p){return p.resize()});return v.forEach(function(p){p.increaseIndex(g.length),p.updatePosition()}),k(f,g)},[]);return l},i.batchRemove=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=this.batchRemoveDefer.apply(this,k(n));return t.length<=0?[]:(this.updateAfterPanelChange([],t),t)},i.batchRemoveDefer=function(){for(var n=this,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this._panels,o=b(this._flicking),s=o.control,u=s.activePanel,l=e.reduce(function(f,c){var d=c.index,h=c.deleteCount,v=we(d,r.length),g=r.slice(v+h),_=r.splice(v,h);return _.length<=0?[]:(g.forEach(function(p){p.decreaseIndex(_.length),p.updatePosition()}),c.hasDOMInElements&&n._removePanelElements(_),_.forEach(function(p){return p.destroy()}),Ie(_,u)&&s.resetActive(),k(f,_))},[]);return l},i.updateAfterPanelChange=function(n,e){var t,r=b(this._flicking),o=r.camera,s=r.control,u=this._panels,l=s.activePanel;if(this._updateCameraAndControl(),this.render(),!r.animating)if(!l||l.removed)if(u.length<=0)o.lookAt(0);else{var f=(t=l==null?void 0:l.index)!==null&&t!==void 0?t:0;f>u.length-1&&(f=u.length-1),s.moveToPanel(u[f],{duration:0}).catch(function(){})}else s.moveToPanel(l,{duration:0}).catch(function(){});r.camera.updateOffset(),(n.length>0||e.length>0)&&(r.trigger(new y(T.PANEL_CHANGE,{added:n,removed:e})),this.checkPanelContentsReady(k(n,e)))},i.checkPanelContentsReady=function(n){var e=this,t=b(this._flicking),r=t.resizeOnContentsReady,o=this._panels;if(!(!r||t.virtualEnabled)){var s=function(l){return l.element&&!!l.element.querySelector("img, video")};if(n=n.filter(function(l){return s(l)}),!(n.length<=0)){var u=new Di;n.forEach(function(l){l.loading=!0}),u.on("readyElement",function(l){if(!e._flicking){u.destroy();return}var f=n[l.index],c=t.camera,d=t.control,h=d.activePanel?c.getProgressInPanel(d.activePanel):0;f.loading=!1,f.resize(),o.slice(f.index+1).forEach(function(v){return v.updatePosition()}),t.initialized&&(c.updateRange(),c.updateOffset(),c.updateAnchors(),d.animating||(d.updatePosition(h),d.updateInput()))}),u.on("preReady",function(l){e._flicking&&e.render(),l.readyCount===l.totalCount&&u.destroy()}),u.on("ready",function(){e._flicking&&e.render(),u.destroy()}),u.check(n.map(function(l){return l.element}))}}},i._updateCameraAndControl=function(){var n=b(this._flicking),e=n.camera,t=n.control;e.updateRange(),e.updateOffset(),e.updateAnchors(),e.resetNeedPanelHistory(),t.updateInput()},i._showOnlyVisiblePanels=function(n){var e=n.renderer.panels,t=n.camera,r=t.visiblePanels.reduce(function(o,s){return o[s.index]=!0,o},{});e.forEach(function(o){o.index in r||o.loading?o.markForShow():n.holding||o.markForHide()})},i._updatePanelSizeByGrid=function(n,e){var t=b(this._flicking),r=t.panelsPerView;if(r<=0)throw new w(I.WRONG_OPTION("panelsPerView",r),R.WRONG_OPTION);if(!(e.length<=0)){var o=t.camera.size,s=n.margin.prev+n.margin.next,u=(o-s*(r-1))/r,l=t.horizontal?{width:u}:{height:u},f=z({size:u,margin:n.margin},!t.horizontal&&{height:n.height});t.noPanelStyleOverride||this._strategy.updatePanelSizes(t,l),t.panels.forEach(function(c){return c.resize(f)})}},i._removeAllChildsFromCamera=function(){for(var n=b(this._flicking),e=n.camera.element;e.firstChild;)e.removeChild(e.firstChild)},i._insertPanelElements=function(n,e){e===void 0&&(e=null);var t=b(this._flicking),r=t.camera,o=r.element,s=(e==null?void 0:e.element)||null,u=document.createDocumentFragment();n.forEach(function(l){return u.appendChild(l.element)}),o.insertBefore(u,s)},i._removePanelElements=function(n){var e=b(this._flicking),t=e.camera.element;n.forEach(function(r){t.removeChild(r.element)})},i._afterRender=function(){var n=b(this._flicking);n.camera.applyTransform()},a}(),ra=function(a){L(i,a);function i(){return a!==null&&a.apply(this,arguments)||this}var n=i.prototype;return n.render=function(){return K(this,void 0,void 0,function(){var e,t;return Z(this,function(r){return e=b(this._flicking),t=this._strategy,t.updateRenderingPanels(e),t.renderPanels(e),this._resetPanelElementOrder(),this._afterRender(),[2]})})},n._collectPanels=function(){var e=b(this._flicking),t=e.camera;this._removeAllTextNodes(),this._panels=this._strategy.collectPanels(e,t.children)},n._createPanel=function(e,t){return this._strategy.createPanel(e,t)},n._resetPanelElementOrder=function(){var e=b(this._flicking),t=e.camera.element,r=this._strategy.getRenderingElementsByOrder(e).reverse();r.forEach(function(o,s){var u=r[s-1]?r[s-1]:null;o.nextElementSibling!==u&&t.insertBefore(o,u)})},n._removeAllTextNodes=function(){var e=b(this._flicking),t=e.camera.element;fn(t.childNodes).forEach(function(r){r.nodeType===Node.TEXT_NODE&&t.removeChild(r)})},i}(St),ia=function(a){L(i,a);function i(){return a!==null&&a.apply(this,arguments)||this}var n=i.prototype;return n._removePanelElements=function(e){},n._removeAllChildsFromCamera=function(){},i}(St),nn=function(){function a(n){var e=n.index,t=n.align,r=n.flicking,o=n.elementProvider;this._index=e,this._flicking=r,this._elProvider=o,this._align=t,this._removed=!1,this._rendered=!0,this._loading=!1,this._resetInternalStates()}var i=a.prototype;return Object.defineProperty(i,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(i,"elementProvider",{get:function(){return this._elProvider},enumerable:!1,configurable:!0}),Object.defineProperty(i,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(i,"position",{get:function(){return this._pos+this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(i,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(i,"sizeIncludingMargin",{get:function(){return this._size+this._margin.prev+this._margin.next},enumerable:!1,configurable:!0}),Object.defineProperty(i,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(i,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(i,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(i,"removed",{get:function(){return this._removed},enumerable:!1,configurable:!0}),Object.defineProperty(i,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),Object.defineProperty(i,"loading",{get:function(){return this._loading},set:function(n){this._loading=n},enumerable:!1,configurable:!0}),Object.defineProperty(i,"range",{get:function(){return{min:this._pos,max:this._pos+this._size}},enumerable:!1,configurable:!0}),Object.defineProperty(i,"toggled",{get:function(){return this._toggled},enumerable:!1,configurable:!0}),Object.defineProperty(i,"toggleDirection",{get:function(){return this._toggleDirection},enumerable:!1,configurable:!0}),Object.defineProperty(i,"offset",{get:function(){var n=this._toggleDirection,e=this._flicking.camera.rangeDiff;return n===O.NONE||!this._toggled?0:n===O.PREV?-e:e},enumerable:!1,configurable:!0}),Object.defineProperty(i,"progress",{get:function(){var n=this._flicking;return this.index-n.camera.progress},enumerable:!1,configurable:!0}),Object.defineProperty(i,"outsetProgress",{get:function(){var n=this.position+this.offset,e=this._alignPos,t=this._flicking.camera,r=t.position;if(r===n)return 0;if(r<n){var o=n+(t.size-t.alignPosition)+e;return-Ae(r,n,o)}else{var s=n-(t.alignPosition+this._size-e);return 1-Ae(r,s,n)}},enumerable:!1,configurable:!0}),Object.defineProperty(i,"visibleRatio",{get:function(){var n=this.range,e=this._size,t=this.offset,r=this._flicking.camera.visibleRange,o={min:n.min+t,max:n.max+t};if(o.max<=r.min||o.min>=r.max)return 0;var s=e;return r.min>o.min&&(s-=r.min-o.min),r.max<o.max&&(s-=o.max-r.max),s/e},enumerable:!1,configurable:!0}),Object.defineProperty(i,"align",{get:function(){return this._align},set:function(n){this._align=n,this._updateAlignPos()},enumerable:!1,configurable:!0}),i.markForShow=function(){this._rendered=!0,this._elProvider.show(this._flicking)},i.markForHide=function(){this._rendered=!1,this._elProvider.hide(this._flicking)},i.resize=function(n){var e,t=this.element,r=this._flicking,o=r.horizontal,s=r.useFractionalSize;if(!t)return this;if(n)this._size=n.size,this._margin=z({},n.margin),this._height=(e=n.height)!==null&&e!==void 0?e:ce({el:t,horizontal:!1,useFractionalSize:s,useOffset:!0,style:Ce(t)});else{var u=Ce(t);this._size=ce({el:t,horizontal:o,useFractionalSize:s,useOffset:!0,style:u}),this._margin=o?{prev:parseFloat(u.marginLeft||"0"),next:parseFloat(u.marginRight||"0")}:{prev:parseFloat(u.marginTop||"0"),next:parseFloat(u.marginBottom||"0")},this._height=o?ce({el:t,horizontal:!1,useFractionalSize:s,useOffset:!0,style:u}):this._size}return this.updatePosition(),this._updateAlignPos(),this},i.setSize=function(n){return At(this.element,n),this},i.contains=function(n){var e;return!!(!((e=this.element)===null||e===void 0)&&e.contains(n))},i.destroy=function(){this._resetInternalStates(),this._removed=!0},i.includePosition=function(n,e){return e===void 0&&(e=!1),this.includeRange(n,n,e)},i.includeRange=function(n,e,t){t===void 0&&(t=!1);var r=this._margin,o=this.range;return t&&(o.min-=r.prev,o.max+=r.next),e>=o.min&&n<=o.max},i.isVisibleOnRange=function(n,e){var t=this.range;return e>t.min&&n<t.max},i.focus=function(n){return this._flicking.moveTo(this._index,n)},i.prev=function(){var n=this._index,e=this._flicking,t=e.renderer,r=t.panelCount;return r===1?null:e.circularEnabled?t.getPanel(n===0?r-1:n-1):t.getPanel(n-1)},i.next=function(){var n=this._index,e=this._flicking,t=e.renderer,r=t.panelCount;return r===1?null:e.circularEnabled?t.getPanel(n===r-1?0:n+1):t.getPanel(n+1)},i.increaseIndex=function(n){return this._index+=Math.max(n,0),this},i.decreaseIndex=function(n){return this._index-=Math.max(n,0),this},i.updatePosition=function(){var n=this._flicking.renderer.panels[this._index-1];return this._pos=n?n.range.max+n.margin.next+this._margin.prev:this._margin.prev,this},i.toggle=function(n,e){var t=this._toggleDirection,r=this._togglePosition;if(t===O.NONE||e===n)return!1;var o=this._toggled;return e>n?r>=n&&r<=e&&(this._toggled=t===O.NEXT):r<=n&&r>=e&&(this._toggled=t!==O.NEXT),o!==this._toggled},i.updateCircularToggleDirection=function(){var n=this._flicking;if(!n.circularEnabled)return this._toggleDirection=O.NONE,this._togglePosition=0,this._toggled=!1,this;var e=n.camera,t=e.range,r=e.alignPosition,o=e.visibleRange,s=o.max-o.min,u=t.min-r,l=t.max-r+s,f=this.includeRange(l-s,l,!1),c=this.includeRange(u,u+s,!1);return this._toggled=!1,f?(this._toggleDirection=O.PREV,this._togglePosition=this.range.max+t.min-t.max+r,this.toggle(1/0,e.position)):c?(this._toggleDirection=O.NEXT,this._togglePosition=this.range.min+t.max-s+r,this.toggle(-1/0,e.position)):(this._toggleDirection=O.NONE,this._togglePosition=0),this},i._updateAlignPos=function(){this._alignPos=cn(this._align,this._size)},i._resetInternalStates=function(){this._size=0,this._pos=0,this._margin={prev:0,next:0},this._height=0,this._alignPos=0,this._toggled=!1,this._togglePosition=0,this._toggleDirection=O.NONE},a}(),kt=function(){function a(n){var e=n.providerCtor;this._providerCtor=e}var i=a.prototype;return i.renderPanels=function(){},i.getRenderingIndexesByOrder=function(n){var e=n.renderer.panels.filter(function(s){return s.rendered}),t=e.filter(function(s){return s.toggled&&s.toggleDirection===O.PREV}),r=e.filter(function(s){return s.toggled&&s.toggleDirection===O.NEXT}),o=e.filter(function(s){return!s.toggled});return k(t,o,r).map(function(s){return s.index})},i.getRenderingElementsByOrder=function(n){var e=n.panels;return this.getRenderingIndexesByOrder(n).map(function(t){return e[t].element})},i.updateRenderingPanels=function(n){n.renderOnlyVisible?this._showOnlyVisiblePanels(n):n.panels.forEach(function(e){return e.markForShow()})},i.collectPanels=function(n,e){var t=this,r=Re(n.renderer.align);return e.map(function(o,s){return new nn({index:s,elementProvider:new t._providerCtor(o),align:r,flicking:n})})},i.createPanel=function(n,e){return new nn(z(z({},e),{elementProvider:new this._providerCtor(n)}))},i.updatePanelSizes=function(n,e){n.panels.forEach(function(t){return t.setSize(e)})},i._showOnlyVisiblePanels=function(n){var e=n.renderer.panels,t=n.camera,r=t.visiblePanels.reduce(function(o,s){return o[s.index]=!0,o},{});e.forEach(function(o){o.index in r||o.loading?o.markForShow():n.holding||o.markForHide()}),t.updateOffset()},a}(),Zn=function(a){L(i,a);function i(e){var t=a.call(this,e)||this;return e.elementProvider.init(t),t._elProvider=e.elementProvider,t._cachedInnerHTML=null,t}var n=i.prototype;return Object.defineProperty(n,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(n,"cachedInnerHTML",{get:function(){return this._cachedInnerHTML},enumerable:!1,configurable:!0}),Object.defineProperty(n,"elementIndex",{get:function(){var e=this._flicking,t=e.panelsPerView+1,r=e.panelCount,o=this._index;return this._toggled&&(o=this._toggleDirection===O.NEXT?o+r:o-r),Ct(o,t)},enumerable:!1,configurable:!0}),n.cacheRenderResult=function(e){this._cachedInnerHTML=e},n.uncacheRenderResult=function(){this._cachedInnerHTML=null},n.render=function(){var e=this._flicking,t=e.virtual,r=t.renderPanel,o=t.cache,s=this._elProvider.element,u=this._cachedInnerHTML||r(this,this._index);u!==s.innerHTML&&(s.innerHTML=u,o&&this.cacheRenderResult(u))},n.increaseIndex=function(e){return this.uncacheRenderResult(),a.prototype.increaseIndex.call(this,e)},n.decreaseIndex=function(e){return this.uncacheRenderResult(),a.prototype.decreaseIndex.call(this,e)},i}(nn),Nt=function(){function a(){}var i=a.prototype;return i.renderPanels=function(n){var e=n.virtual,t=n.visiblePanels,r=de(n.panelsPerView+1);t.forEach(function(o){var s=o.elementIndex;o.render(),e.show(s),r[s]=-1}),r.filter(function(o){return o>=0}).forEach(function(o){e.hide(o)})},i.getRenderingIndexesByOrder=function(n){var e=n.virtual,t=k(n.visiblePanels).filter(function(s){return s.rendered}).sort(function(s,u){return s.position+s.offset-(u.position+u.offset)});if(t.length<=0)return e.elements.map(function(s,u){return u});var r=t.map(function(s){return s.elementIndex}),o=e.elements.map(function(s,u){return z(z({},s),{idx:u})}).filter(function(s){return!s.visible}).map(function(s){return s.idx});return k(r,o)},i.getRenderingElementsByOrder=function(n){var e=n.virtual,t=e.elements;return this.getRenderingIndexesByOrder(n).map(function(r){return t[r].nativeElement})},i.updateRenderingPanels=function(n){var e=n.renderer.panels,t=n.camera,r=t.visiblePanels.reduce(function(o,s){return o[s.index]=!0,o},{});e.forEach(function(o){o.index in r||o.loading?o.markForShow():o.markForHide()}),t.updateOffset()},i.collectPanels=function(n){var e=Re(n.renderer.align);return de(n.virtual.initialPanelCount).map(function(t){return new Zn({index:t,elementProvider:new Yn(n),align:e,flicking:n})})},i.createPanel=function(n,e){return new Zn(z(z({},e),{elementProvider:new Yn(e.flicking)}))},i.updatePanelSizes=function(n,e){n.virtual.elements.forEach(function(t){At(t.nativeElement,e)}),n.panels.forEach(function(t){return t.setSize(e)})},a}(),Dt=function(a){L(i,a);function i(e,t){var r=t===void 0?{}:t,o=r.align,s=o===void 0?H.CENTER:o,u=r.defaultIndex,l=u===void 0?0:u,f=r.horizontal,c=f===void 0?!0:f,d=r.circular,h=d===void 0?!1:d,v=r.circularFallback,g=v===void 0?Rt.LINEAR:v,_=r.bound,p=_===void 0?!1:_,E=r.adaptive,P=E===void 0?!1:E,x=r.panelsPerView,j=x===void 0?-1:x,F=r.noPanelStyleOverride,U=F===void 0?!1:F,ie=r.resizeOnContentsReady,Me=ie===void 0?!1:ie,_e=r.nested,Le=_e===void 0?!1:_e,ae=r.needPanelThreshold,pe=ae===void 0?0:ae,vn=r.preventEventsBeforeInit,Lt=vn===void 0?!0:vn,gn=r.deceleration,zt=gn===void 0?.0075:gn,_n=r.duration,jt=_n===void 0?500:_n,pn=r.easing,Ft=pn===void 0?function(or){return 1-Math.pow(1-or,3)}:pn,mn=r.inputType,Vt=mn===void 0?["mouse","touch"]:mn,bn=r.moveType,Ht=bn===void 0?"snap":bn,En=r.threshold,Bt=En===void 0?40:En,Pn=r.dragThreshold,Gt=Pn===void 0?1:Pn,yn=r.interruptable,Wt=yn===void 0?!0:yn,On=r.bounce,Ut=On===void 0?"20%":On,xn=r.iOSEdgeSwipeThreshold,Xt=xn===void 0?30:xn,Tn=r.preventClickOnDrag,Yt=Tn===void 0?!0:Tn,Rn=r.preventDefaultOnDrag,$t=Rn===void 0?!1:Rn,wn=r.disableOnInit,qt=wn===void 0?!1:wn,In=r.changeOnHold,Kt=In===void 0?!1:In,An=r.renderOnlyVisible,Zt=An===void 0?!1:An,Cn=r.virtual,Sn=Cn===void 0?null:Cn,kn=r.autoInit,Qt=kn===void 0?!0:kn,Nn=r.autoResize,Jt=Nn===void 0?!0:Nn,Dn=r.useResizeObserver,er=Dn===void 0?!0:Dn,Mn=r.resizeDebounce,nr=Mn===void 0?0:Mn,Ln=r.maxResizeDebounce,tr=Ln===void 0?100:Ln,zn=r.useFractionalSize,rr=zn===void 0?!1:zn,jn=r.externalRenderer,ir=jn===void 0?null:jn,Fn=r.renderExternal,ar=Fn===void 0?null:Fn,m=a.call(this)||this;return m._initialized=!1,m._plugins=[],m._align=s,m._defaultIndex=l,m._horizontal=c,m._circular=h,m._circularFallback=g,m._bound=p,m._adaptive=P,m._panelsPerView=j,m._noPanelStyleOverride=U,m._resizeOnContentsReady=Me,m._nested=Le,m._virtual=Sn,m._needPanelThreshold=pe,m._preventEventsBeforeInit=Lt,m._deceleration=zt,m._duration=jt,m._easing=Ft,m._inputType=Vt,m._moveType=Ht,m._threshold=Bt,m._dragThreshold=Gt,m._interruptable=Wt,m._bounce=Ut,m._iOSEdgeSwipeThreshold=Xt,m._preventClickOnDrag=Yt,m._preventDefaultOnDrag=$t,m._disableOnInit=qt,m._changeOnHold=Kt,m._renderOnlyVisible=Zt,m._autoInit=Qt,m._autoResize=Jt,m._useResizeObserver=er,m._resizeDebounce=nr,m._maxResizeDebounce=tr,m._useFractionalSize=rr,m._externalRenderer=ir,m._renderExternal=ar,m._viewport=new Bi(m,Li(e)),m._autoResizer=new Gi(m),m._renderer=m._createRenderer(),m._camera=m._createCamera(),m._control=m._createControl(),m._virtualManager=new Ui(m,Sn),m._autoInit&&m.init(),m}var n=i.prototype;return Object.defineProperty(n,"control",{get:function(){return this._control},enumerable:!1,configurable:!0}),Object.defineProperty(n,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(n,"renderer",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),Object.defineProperty(n,"viewport",{get:function(){return this._viewport},enumerable:!1,configurable:!0}),Object.defineProperty(n,"initialized",{get:function(){return this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(n,"circularEnabled",{get:function(){return this._camera.circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(n,"virtualEnabled",{get:function(){return this._panelsPerView>0&&this._virtual!=null},enumerable:!1,configurable:!0}),Object.defineProperty(n,"index",{get:function(){return this._control.activeIndex},enumerable:!1,configurable:!0}),Object.defineProperty(n,"element",{get:function(){return this._viewport.element},enumerable:!1,configurable:!0}),Object.defineProperty(n,"currentPanel",{get:function(){return this._control.activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(n,"panels",{get:function(){return this._renderer.panels},enumerable:!1,configurable:!0}),Object.defineProperty(n,"panelCount",{get:function(){return this._renderer.panelCount},enumerable:!1,configurable:!0}),Object.defineProperty(n,"visiblePanels",{get:function(){return this._camera.visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(n,"animating",{get:function(){return this._control.animating},enumerable:!1,configurable:!0}),Object.defineProperty(n,"holding",{get:function(){return this._control.holding},enumerable:!1,configurable:!0}),Object.defineProperty(n,"activePlugins",{get:function(){return this._plugins},enumerable:!1,configurable:!0}),Object.defineProperty(n,"align",{get:function(){return this._align},set:function(e){this._align=e,this._renderer.align=e,this._camera.align=e,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultIndex",{get:function(){return this._defaultIndex},set:function(e){this._defaultIndex=e},enumerable:!1,configurable:!0}),Object.defineProperty(n,"horizontal",{get:function(){return this._horizontal},set:function(e){this._horizontal=e,this._control.controller.updateDirection(),this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(n,"circular",{get:function(){return this._circular},set:function(e){this._circular=e,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(n,"circularFallback",{get:function(){return this._circularFallback},enumerable:!1,configurable:!0}),Object.defineProperty(n,"bound",{get:function(){return this._bound},set:function(e){this._bound=e,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(n,"adaptive",{get:function(){return this._adaptive},set:function(e){this._adaptive=e,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(n,"panelsPerView",{get:function(){return this._panelsPerView},set:function(e){this._panelsPerView=e,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(n,"noPanelStyleOverride",{get:function(){return this._noPanelStyleOverride},set:function(e){this._noPanelStyleOverride=e,this.resize()},enumerable:!1,configurable:!0}),Object.defineProperty(n,"resizeOnContentsReady",{get:function(){return this._resizeOnContentsReady},set:function(e){this._resizeOnContentsReady=e,e&&this._renderer.checkPanelContentsReady(this._renderer.panels)},enumerable:!1,configurable:!0}),Object.defineProperty(n,"nested",{get:function(){return this._nested},set:function(e){this._nested=e;var t=this._control.controller.axes;t&&(t.options.nested=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n,"needPanelThreshold",{get:function(){return this._needPanelThreshold},set:function(e){this._needPanelThreshold=e},enumerable:!1,configurable:!0}),Object.defineProperty(n,"preventEventsBeforeInit",{get:function(){return this._preventEventsBeforeInit},set:function(e){this._preventEventsBeforeInit=e},enumerable:!1,configurable:!0}),Object.defineProperty(n,"deceleration",{get:function(){return this._deceleration},set:function(e){this._deceleration=e;var t=this._control.controller.axes;t&&(t.options.deceleration=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n,"easing",{get:function(){return this._easing},set:function(e){this._easing=e;var t=this._control.controller.axes;t&&(t.options.easing=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n,"duration",{get:function(){return this._duration},set:function(e){this._duration=e},enumerable:!1,configurable:!0}),Object.defineProperty(n,"inputType",{get:function(){return this._inputType},set:function(e){this._inputType=e;var t=this._control.controller.panInput;t&&(t.options.inputType=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n,"moveType",{get:function(){return this._moveType},set:function(e){this._moveType=e;var t=this._control,r=this._createControl(),o=t.activePanel;r.copy(t);var s=o?this._camera.getProgressInPanel(o):0;this._control=r,this._control.updatePosition(s),this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(n,"threshold",{get:function(){return this._threshold},set:function(e){this._threshold=e},enumerable:!1,configurable:!0}),Object.defineProperty(n,"dragThreshold",{get:function(){return this._dragThreshold},set:function(e){this._dragThreshold=e;var t=this._control.controller.panInput;t&&(t.options.threshold=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n,"interruptable",{get:function(){return this._interruptable},set:function(e){this._interruptable=e;var t=this._control.controller.axes;t&&(t.options.interruptable=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n,"bounce",{get:function(){return this._bounce},set:function(e){this._bounce=e,this._control.updateInput()},enumerable:!1,configurable:!0}),Object.defineProperty(n,"iOSEdgeSwipeThreshold",{get:function(){return this._iOSEdgeSwipeThreshold},set:function(e){this._iOSEdgeSwipeThreshold=e;var t=this._control.controller.panInput;t&&(t.options.iOSEdgeSwipeThreshold=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n,"preventClickOnDrag",{get:function(){return this._preventClickOnDrag},set:function(e){var t=this._preventClickOnDrag;if(e!==t){var r=this._control.controller;e?r.addPreventClickHandler():r.removePreventClickHandler(),this._preventClickOnDrag=e}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"preventDefaultOnDrag",{get:function(){return this._preventDefaultOnDrag},set:function(e){this._preventDefaultOnDrag=e;var t=this._control.controller.panInput;t&&(t.options.preventDefaultOnDrag=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n,"disableOnInit",{get:function(){return this._disableOnInit},set:function(e){this._disableOnInit=e},enumerable:!1,configurable:!0}),Object.defineProperty(n,"changeOnHold",{get:function(){return this._changeOnHold},set:function(e){this._changeOnHold=e},enumerable:!1,configurable:!0}),Object.defineProperty(n,"renderOnlyVisible",{get:function(){return this._renderOnlyVisible},set:function(e){this._renderOnlyVisible=e,this._renderer.render()},enumerable:!1,configurable:!0}),Object.defineProperty(n,"virtual",{get:function(){return this._virtualManager},enumerable:!1,configurable:!0}),Object.defineProperty(n,"autoInit",{get:function(){return this._autoInit},enumerable:!1,configurable:!0}),Object.defineProperty(n,"autoResize",{get:function(){return this._autoResize},set:function(e){this._autoResize=e,e?this._autoResizer.enable():this._autoResizer.disable()},enumerable:!1,configurable:!0}),Object.defineProperty(n,"useResizeObserver",{get:function(){return this._useResizeObserver},set:function(e){this._useResizeObserver=e,this._autoResize&&this._autoResizer.enable()},enumerable:!1,configurable:!0}),Object.defineProperty(n,"resizeDebounce",{get:function(){return this._resizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(n,"maxResizeDebounce",{get:function(){return this._maxResizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(n,"useFractionalSize",{get:function(){return this._useFractionalSize},enumerable:!1,configurable:!0}),Object.defineProperty(n,"externalRenderer",{get:function(){return this._externalRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(n,"renderExternal",{get:function(){return this._renderExternal},enumerable:!1,configurable:!0}),n.init=function(){var e=this;if(this._initialized)return Promise.resolve();var t=this._camera,r=this._renderer,o=this._control,s=this._virtualManager,u=this.trigger,l=this._preventEventsBeforeInit;return t.init(),s.init(),r.init(this),o.init(this),l&&(this.trigger=function(){return e}),this._initialResize(),this._moveToInitialPanel(),this._autoResize&&this._autoResizer.enable(),this._preventClickOnDrag&&o.controller.addPreventClickHandler(),this._disableOnInit&&this.disableInput(),r.checkPanelContentsReady(r.panels),this._initialized=!0,r.render().then(function(){e._plugins.forEach(function(f){return f.init(e)}),l&&(e.trigger=u),e.trigger(new y(T.READY))})},n.destroy=function(){this.off(),this._autoResizer.disable(),this._control.destroy(),this._camera.destroy(),this._renderer.destroy(),this._plugins.forEach(function(e){return e.destroy()}),this._initialized=!1},n.prev=function(e){var t,r,o;return e===void 0&&(e=this._duration),this.moveTo((o=(r=(t=this._control.activePanel)===null||t===void 0?void 0:t.prev())===null||r===void 0?void 0:r.index)!==null&&o!==void 0?o:-1,e,O.PREV)},n.next=function(e){var t,r,o;return e===void 0&&(e=this._duration),this.moveTo((o=(r=(t=this._control.activePanel)===null||t===void 0?void 0:t.next())===null||r===void 0?void 0:r.index)!==null&&o!==void 0?o:this._renderer.panelCount,e,O.NEXT)},n.moveTo=function(e,t,r){t===void 0&&(t=this._duration),r===void 0&&(r=O.NONE);var o=this._renderer,s=o.panelCount,u=o.getPanel(e);return u?this._control.animating?Promise.reject(new w(I.ANIMATION_ALREADY_PLAYING,R.ANIMATION_ALREADY_PLAYING)):(this._control.holding&&this._control.controller.release(),this._control.moveToPanel(u,{duration:t,direction:r})):Promise.reject(new w(I.INDEX_OUT_OF_RANGE(e,0,s-1),R.INDEX_OUT_OF_RANGE))},n.updateAnimation=function(e,t,r){if(this._control.animating){var o=this._renderer,s=o.panelCount,u=o.getPanel(e);if(!u)throw new w(I.INDEX_OUT_OF_RANGE(e,0,s-1),R.INDEX_OUT_OF_RANGE);this._control.updateAnimation(u,t,r)}},n.stopAnimation=function(){this._control.animating&&this._control.stopAnimation()},n.getPanel=function(e){return this._renderer.getPanel(e)},n.enableInput=function(){return this._control.enable(),this},n.disableInput=function(){return this._control.disable(),this},n.getStatus=function(e){var t,r,o=e===void 0?{}:e,s=o.index,u=s===void 0?!0:s,l=o.position,f=l===void 0?!0:l,c=o.includePanelHTML,d=c===void 0?!1:c,h=o.visiblePanelsOnly,v=h===void 0?!1:h,g=this._camera,_=v?this.visiblePanels:this.panels,p={panels:_.map(function(x){var j={index:x.index};return d&&(j.html=x.element.outerHTML),j})};if(u&&(p.index=this.index),f){var E=g.findNearestAnchor(g.position);E&&(p.position={panel:E.panel.index,progressInPanel:g.getProgressInPanel(E.panel)})}if(v){var P=this.visiblePanels;p.visibleOffset=(r=(t=P[0])===null||t===void 0?void 0:t.index)!==null&&r!==void 0?r:0}return p},n.setStatus=function(e){var t;if(!this._initialized)throw new w(I.NOT_INITIALIZED,R.NOT_INITIALIZED);var r=e.index,o=e.position,s=e.visibleOffset,u=e.panels,l=this._renderer,f=this._control;if(!((t=u[0])===null||t===void 0)&&t.html&&!this._renderExternal&&(l.batchRemove({index:0,deleteCount:this.panels.length,hasDOMInElements:!0}),l.batchInsert({index:0,elements:Xn(u.map(function(_){return _.html})),hasDOMInElements:!0})),r!=null){var c=s?r-s:r;this.moveTo(c,0).catch(function(){})}if(o&&this._moveType===X.FREE_SCROLL){var d=o.panel,h=o.progressInPanel,c=s?d-s:d,v=l.panels[c].range,g=v.min+(v.max-v.min)*h;f.moveToPosition(g,0).catch(function(){})}},n.addPlugins=function(){for(var e,t=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return this._initialized&&r.forEach(function(s){return s.init(t)}),(e=this._plugins).push.apply(e,k(r)),this},n.removePlugins=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.forEach(function(o){var s=Vi(e._plugins,function(u){return u===o});s>=0&&(o.destroy(),e._plugins.splice(s,1))}),this},n.resize=function(){return K(this,void 0,void 0,function(){var e,t,r,o,s,u,l,f,c,d,h;return Z(this,function(v){switch(v.label){case 0:return e=this._viewport,t=this._renderer,r=this._camera,o=this._control,s=o.activePanel,u=e.width,l=e.height,f=s?r.getProgressInPanel(s):0,this.trigger(new y(T.BEFORE_RESIZE,{width:u,height:l,element:e.element})),e.resize(),[4,t.forceRenderAllPanels()];case 1:return v.sent(),this._initialized?(t.updatePanelSize(),r.updateAlignPos(),r.updateRange(),r.updateAnchors(),r.updateAdaptiveHeight(),r.updatePanelOrder(),r.updateOffset(),[4,t.render()]):[2];case 2:return v.sent(),this._initialized?(o.animating||(o.updatePosition(f),o.updateInput()),c=e.width,d=e.height,h=c!==u||d!==l,this.trigger(new y(T.AFTER_RESIZE,{width:e.width,height:e.height,prev:{width:u,height:l},sizeChanged:h,element:e.element})),[2]):[2]}})})},n.append=function(e){return this.insert(this._renderer.panelCount,e)},n.prepend=function(e){return this.insert(0,e)},n.insert=function(e,t){if(this._renderExternal)throw new w(I.NOT_ALLOWED_IN_FRAMEWORK,R.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchInsert({index:e,elements:Xn(t),hasDOMInElements:!0})},n.remove=function(e,t){if(t===void 0&&(t=1),this._renderExternal)throw new w(I.NOT_ALLOWED_IN_FRAMEWORK,R.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchRemove({index:e,deleteCount:t,hasDOMInElements:!0})},n._createControl=function(){var e,t=this._moveType,r=Object.keys(X).map(function(u){return X[u]}),o=Array.isArray(t)?t[0]:t,s=Array.isArray(t)?(e=t[1])!==null&&e!==void 0?e:{}:{};if(!Ie(r,o))throw new w(I.WRONG_OPTION("moveType",JSON.stringify(t)),R.WRONG_OPTION);switch(o){case X.SNAP:return new Qi(s);case X.FREE_SCROLL:return new Ji(s);case X.STRICT:return new ea(s)}},n._createCamera=function(){return this._circular&&this._bound&&console.warn('"circular" and "bound" option cannot be used together, ignoring bound.'),new ta(this,{align:this._align})},n._createRenderer=function(){var e=this._externalRenderer;return this._virtual&&this._panelsPerView<=0&&console.warn('"virtual" and "panelsPerView" option should be used together, ignoring virtual.'),e||(this._renderExternal?this._createExternalRenderer():this._createVanillaRenderer())},n._createExternalRenderer=function(){var e=this._renderExternal,t=e.renderer,r=e.rendererOptions;return new t(z({align:this._align},r))},n._createVanillaRenderer=function(){var e=this.virtualEnabled;return new ra({align:this._align,strategy:e?new Nt:new kt({providerCtor:Wi})})},n._moveToInitialPanel=function(){var e=this._renderer,t=this._control,r=this._camera,o=e.getPanel(this._defaultIndex)||e.getPanel(0);if(o){var s=r.findNearestAnchor(o.position),u=s&&o.position!==s.panel.position&&o.index!==s.panel.index?s.panel:o;if(t.setActive(u,null,!1),!s)throw new w(I.POSITION_NOT_REACHABLE(u.position),R.POSITION_NOT_REACHABLE);var l=u.position;r.canReach(u)||(l=s.position),r.lookAt(l),t.updateInput(),r.updateOffset()}},n._initialResize=function(){var e=this._viewport,t=this._renderer,r=this._camera,o=this._control;this.trigger(new y(T.BEFORE_RESIZE,{width:0,height:0,element:e.element})),e.resize(),t.updatePanelSize(),r.updateAlignPos(),r.updateRange(),r.updateAnchors(),r.updateOffset(),o.updateInput();var s=e.width,u=e.height,l=s!==0||u!==0;this.trigger(new y(T.AFTER_RESIZE,{width:e.width,height:e.height,prev:{width:0,height:0},sizeChanged:l,element:e.element}))},i.VERSION="4.12.0",i}(ne),aa=function(a,i){[ne.prototype,Dt.prototype].forEach(function(n){Object.getOwnPropertyNames(n).filter(function(e){return!a[e]&&e.indexOf("_")!==0&&e!=="constructor"}).forEach(function(e){var t=Object.getOwnPropertyDescriptor(n,e);if(t.value)Object.defineProperty(a,e,{value:function(){for(var o,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return(o=t.value).call.apply(o,k([this[i]],s))}});else{var r={};t.get&&(r.get=function(){var o,s=this[i];return s&&((o=t.get)===null||o===void 0?void 0:o.call(s))}),t.set&&(r.set=function(){for(var o,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return(o=t.set)===null||o===void 0?void 0:o.call.apply(o,k([this[i]],s))}),Object.defineProperty(a,e,r)}})})},oa=function(a,i,n){var e=a.renderer,t=e.panels,r=k(i.prevList),o=[],s=[];if(i.removed.length>0){var u=-1,l=-1;i.removed.forEach(function(h){u<0&&(u=h),l>=0&&h!==l-1&&(s.push.apply(s,k(Jn(e,l,u+1))),u=h),l=h,r.splice(h,1)}),s.push.apply(s,k(Jn(e,l,u+1)))}if(i.ordered.forEach(function(h){var v=ln(h,2),g=v[0],_=v[1],p=t.splice(g,1)[0];t.splice(_,0,p)}),i.ordered.length>0&&(t.forEach(function(h,v){var g=v-h.index;g>0?h.increaseIndex(g):h.decreaseIndex(-g)}),t.sort(function(h,v){return h.index-v.index}),t.forEach(function(h){h.updatePosition()})),i.added.length>0){var f=-1,c=-1,d=n.slice(r.length);i.added.forEach(function(h,v){f<0&&(f=v),c>=0&&h!==c+1?(o.push.apply(o,k(Qn(e,i,d,f,v+1))),f=-1,c=-1):c=h}),f>=0&&o.push.apply(o,k(Qn(e,i,d,f)))}(i.added.length>0||i.removed.length>0)&&e.updateAfterPanelChange(o,s)},Qn=function(a,i,n,e,t){return a.batchInsertDefer.apply(a,k(i.added.slice(e,t).map(function(r,o){return{index:r,elements:[n[o]],hasDOMInElements:!1}})))},Jn=function(a,i,n){var e=a.panels.slice(i,n);return a.batchRemoveDefer({index:i,deleteCount:e.length,hasDOMInElements:!1})},sa=function(a,i){var n=i.removed.reduce(function(t,r){return t[r]=!0,t},{}),e=i.maintained.reduce(function(t,r){var o=ln(r,2),s=o[0],u=o[1];return t[s]=u,t},{});return k(a.panels.filter(function(t){return!n[t.index]}).sort(function(t,r){return t.position+t.offset-(r.position+r.offset)}).map(function(t){return i.list[e[t.index]]}),i.added.map(function(t){return i.list[t]}))},ua=function(a,i,n){a===void 0&&(a=H.CENTER),i===void 0&&(i=!0);var e=la(a),t=fa(a);if(t==null)return"";var r="calc("+e+" - ("+(n||"0px")+" * "+t.percentage+") - "+t.absolute+"px)";return i?"translate("+r+")":"translate(0, "+r+")"},la=function(a){var i=typeof a=="object"?a.camera:a;return Mt(i)},fa=function(a){var i=typeof a=="object"?a.panel:a;return wt(Mt(i))},Mt=function(a){if(typeof a=="number")return a+"px";switch(a){case H.CENTER:return"50%";case H.NEXT:return"100%";case H.PREV:return"0%";default:return a}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tn=function(a,i){return tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},tn(a,i)};function ca(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");tn(a,i);function n(){this.constructor=a}a.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}var Se=function(){return Se=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Se.apply(this,arguments)};function ha(a,i){var n={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&i.indexOf(e)<0&&(n[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(a);t<e.length;t++)i.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(a,e[t])&&(n[e[t]]=a[e[t]]);return n}function et(a,i,n,e){function t(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function s(f){try{l(e.next(f))}catch(c){o(c)}}function u(f){try{l(e.throw(f))}catch(c){o(c)}}function l(f){f.done?r(f.value):t(f.value).then(s,u)}l((e=e.apply(a,[])).next())})}function nt(a,i){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},e,t,r,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(f){return u([l,f])}}function u(l){if(e)throw new TypeError("Generator is already executing.");for(;n;)try{if(e=1,t&&(r=l[0]&2?t.return:l[0]?t.throw||((r=t.return)&&r.call(t),0):t.next)&&!(r=r.call(t,l[1])).done)return r;switch(t=0,r&&(l=[l[0]&2,r.value]),l[0]){case 0:case 1:r=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,t=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!r||l[1]>r[0]&&l[1]<r[3])){n.label=l[1];break}if(l[0]===6&&n.label<r[1]){n.label=r[1],r=l;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(l);break}r[2]&&n.ops.pop(),n.trys.pop();continue}l=i.call(a,n)}catch(f){l=[6,f],t=0}finally{e=r=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Be(a,i,n){for(var e=0,t=i.length,r;e<t;e++)(r||!(e in i))&&(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return a.concat(r||Array.prototype.slice.call(i))}var da={viewportTag:{type:String,default:"div",required:!1},cameraTag:{type:String,default:"div",required:!1},cameraClass:{type:String,default:"",required:!1},hideBeforeInit:{type:Boolean,default:!1,required:!1},firstPanelSize:{type:String,required:!1},options:{type:Object,default:function(){return{}},required:!1},plugins:{type:Array,default:function(){return[]},required:!1},status:{type:Object,required:!1}},va=function(a){ca(i,a);function i(e){var t=a.call(this,e)||this;return t._vueFlicking=e.vueFlicking,t}var n=i.prototype;return n.render=function(){return et(this,void 0,void 0,function(){var e,t,r,o=this;return nt(this,function(s){return e=b(this._flicking),t=this._vueFlicking,r=this._strategy,r.updateRenderingPanels(e),r.renderPanels(e),[2,new Promise(function(u){t.renderEmitter.once("render",function(){o._afterRender(),u()}),t.$forceUpdate()})]})})},n.forceRenderAllPanels=function(){return et(this,void 0,void 0,function(){var e;return nt(this,function(t){switch(t.label){case 0:return e=this._vueFlicking,[4,a.prototype.forceRenderAllPanels.call(this)];case 1:return t.sent(),[2,new Promise(function(r){e.renderEmitter.once("render",r),e.$forceUpdate()})]}})})},n._collectPanels=function(){var e=b(this._flicking),t=this._vueFlicking,r=t.$refs,o=Object.keys(r).map(function(s){return r[s]});this._panels=this._strategy.collectPanels(e,o)},n._createPanel=function(e,t){return this._strategy.createPanel(e,t)},i}(ia),ga=tt({data:function(){return{hide:!1}},render:function(){if(!(this.hide||!this.$slots.default))return this.$slots.default()}}),_a=function(){function a(n){this._el=n}var i=a.prototype;return Object.defineProperty(i,"rendered",{get:function(){return!this._el.hide},enumerable:!1,configurable:!0}),Object.defineProperty(i,"element",{get:function(){var n=this._el.$el.nextSibling;return n&&n.nodeType===Node.ELEMENT_NODE&&(this._cachedElement=n),this._cachedElement},enumerable:!1,configurable:!0}),i.show=function(){this._el.hide=!1},i.hide=function(){this._el.hide=!0},a}(),ba=tt({props:da,components:{Panel:ga},data:function(){return{}},created:function(){var a=this;this.vanillaFlicking=null,this.renderEmitter=new ne,this.diffResult=null,this.getPanels=function(){var i=gr(),n=i==null?void 0:i.ctx,e=a.vanillaFlicking,t=a.getSlots(),r=n==null?void 0:n.diffResult,o=r?sa(e,r):t,s=vr("Panel"),u=o.map(function(l,f){return me(s,{key:l.key,ref:f.toString()},function(){return l})});return u},this.getVirtualPanels=function(){var i=a.options,n=i.virtual.panelClass,e=n===void 0?"flicking-panel":n,t=i.panelsPerView,r=a.vanillaFlicking,o=r&&r.initialized,s=o?r.renderer.strategy.getRenderingIndexesByOrder(r):de(t+1),u=o&&r.panels[0],l=u?r.horizontal?{width:u.size}:{height:u.size}:{};return s.map(function(f){return me("div",{key:f,ref:f.toString(),class:e,style:l,"data-element-index":f})})},aa(this,"vanillaFlicking")},mounted:function(){var a=this,i,n=this.options,e=this.$el,t={vueFlicking:this,align:n.align,strategy:n.virtual&&((i=n.panelsPerView)!==null&&i!==void 0?i:-1)>0?new Nt:new kt({providerCtor:_a})},r=new Dt(e,Se(Se({},n),{externalRenderer:new va(t)}));this.vanillaFlicking=r,r.once(T.READY,function(){a.$forceUpdate()});var o=this.getSlots();this.slotDiffer=new Vn(o,function(s){return s.key}),this.pluginsDiffer=new Vn,this.bindEvents(),this.checkPlugins(),this.status&&r.setStatus(this.status)},beforeUnmount:function(){var a;(a=this.vanillaFlicking)===null||a===void 0||a.destroy()},beforeMount:function(){this.fillKeys()},beforeUpdate:function(){var a;this.fillKeys(),this.diffResult=(a=this.slotDiffer)===null||a===void 0?void 0:a.update(this.getSlots())},updated:function(){var a=this.vanillaFlicking,i=this.diffResult;if(this.checkPlugins(),this.renderEmitter.trigger("render"),!(!i||!(a!=null&&a.initialized))){var n=this.getChildren();oa(a,i,n),(i.added.length>0||i.removed.length>0)&&this.$forceUpdate(),this.diffResult=void 0}},render:function(){var a,i,n=this.vanillaFlicking,e=this.options,t=n&&n.initialized,r=n?n.horizontal:(i=this.options.horizontal)!==null&&i!==void 0?i:!0,o={class:{"flicking-viewport":!0,vertical:!r,"flicking-hidden":this.hideBeforeInit&&!t}},s={class:(a={"flicking-camera":!0},a[this.cameraClass]=!!this.cameraClass,a),style:!t&&this.firstPanelSize?{transform:ua(this.options.align,this.options.horizontal,this.firstPanelSize)}:{}},u=e.virtual&&e.panelsPerView&&e.panelsPerView>0?this.getVirtualPanels:this.getPanels,l=this.$slots.viewport?this.$slots.viewport():[];return me(this.viewportTag,o,Be([me(this.cameraTag,s,{default:u})],l))},methods:{getSlots:function(){var a=this,i=this.$slots.default?this.$slots.default():[];return i.reduce(function(n,e){return Be(Be([],n,!0),a.getElementVNodes(e))},[]).filter(function(n){return n.type!==cr&&n.type!==hr})},getElementVNodes:function(a,i){var n=this;return i===void 0&&(i=[]),a.type===dr&&Array.isArray(a.children)?a.children.filter(function(e){return e&&typeof e=="object"}).forEach(function(e){return n.getElementVNodes(e,i)}):i.push(a),i},bindEvents:function(){var a=this,i=this.vanillaFlicking,n=Object.keys(T).map(function(e){return T[e]});n.forEach(function(e){i.on(e,function(t){t.currentTarget=a,a.$emit(e.replace(/([A-Z])/g,"-$1").toLowerCase(),t)})})},checkPlugins:function(){var a,i,n=this.pluginsDiffer.update(this.plugins),e=n.list,t=n.added,r=n.removed,o=n.prevList;(a=this.vanillaFlicking).addPlugins.apply(a,t.map(function(s){return e[s]})),(i=this.vanillaFlicking).removePlugins.apply(i,r.map(function(s){return o[s]}))},fillKeys:function(){var a=this.getSlots();a.forEach(function(i,n){i.key==null&&(i.key="$_".concat(n))})},getChildren:function(){var a=this.$refs;return Object.keys(a).map(function(i){return a[i]})}},watch:{options:{handler:function(a){var i=this.vanillaFlicking;if(i){a.virtual;var n=ha(a,["virtual"]);for(var e in n)e in i&&i[e]!==n[e]&&(i[e]=n[e])}},deep:!0,immediate:!0}}});export{ne as C,ba as F};
