import{r as u,i as n,j as r,k as s,L as m,M as p,Q as i,R as a,s as l,K as d,z as h}from"./@vueC3Nhqlrl.js";import{_ as f}from"./components.globalDizx_NTC.js";import"./vue3-toastifyDll2FbVh.js";import"./@capacitorCjBcbZvA.js";import"./bootstrap-vue-nextDnMzdrWQ.js";const v={name:"Checkout",data(){return{paypalSdk:null,selectedPlanId:null,selectedPlan:[],plans:null,loading:!0,storeConfig:{},requiresPayment:null,session:null}},async mounted(){},computed:{},methods:{async createCheckout(){},async loadPlans(){const e=await this.sendReq("/plans/list");e.success&&e.result?this.plans=e.result:console.error("Error:",e)},async loadStoreConfig(){const e=await this.sendReq("/store/config");e.success&&e.result?this.storeConfig=e.result:console.error("Error:",e)}},async created(){this.selectedPlanId=localStorage.getItem("@selectedPlan"),await this.loadStoreConfig(),await this.loadPlans(),this.loading=!1,this.selectedPlan=this.plans.find(e=>e.productId==this.selectedPlanId),this.selectedPlan&&(this.requiresPayment=this.selectedPlan.cost?"yes":"no")}},y={class:"mx-auto"},P={class:"cardo mx-auto text-center border rounded m-4 shadow p-4"},g={class:"mx-auto"},k={key:0,class:"mb-5"},x={class:"ms-2"},C={key:0},S={key:1},b={key:0},w={class:"text-center mt-3"};function q(e,o,I,N,t,B){const _=u("b-spinner"),c=u("router-link");return n(),r("div",null,[s("div",y,[o[3]||(o[3]=s("div",{class:"text-center"},[s("div",{class:"h1"},"Order Summary")],-1)),s("div",P,[s("div",g,[m(s("div",null,[t.selectedPlan?(n(),r("div",k,[s("div",x,[i(a(t.selectedPlan.productName)+" ",1),s("div",null,[t.selectedPlan.cost?(n(),r("div",C," $"+a(t.selectedPlan.cost.USD)+" per "+a(t.selectedPlan.productData.freq),1)):l("",!0),t.requiresPayment=="no"?(n(),r("div",S," $0 - free ")):l("",!0)])])])):l("",!0),o[0]||(o[0]=s("div",{class:"h-100"},[s("div",{class:"m-3"},[s("div",{id:"payment-container"})])],-1))],512),[[p,!t.loading]]),t.loading?(n(),r("div",b,[d(_,{label:"Loading..."})])):l("",!0),m(d(c,{to:"/order/checkout",class:"btn btn-primary btn-large mt-2"},{default:h(()=>o[1]||(o[1]=[i("Checkout ")])),_:1},512),[[p,!t.loading]])])]),s("div",w,[d(c,{to:"/support"},{default:h(()=>o[2]||(o[2]=[i(" Back ")])),_:1})])])])}const O=f(v,[["render",q]]);export{O as default};
