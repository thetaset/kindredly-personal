import{a as d,o as l,_ as p}from"./components.globalDizx_NTC.js";import{d as m,j as s,k as t,R as i,s as n,i as o}from"./@vueC3Nhqlrl.js";import"./vue3-toastifyDll2FbVh.js";import"./@capacitorCjBcbZvA.js";import"./bootstrap-vue-nextDnMzdrWQ.js";const v=m({name:"VersionInfo",mixins:[d],components:{},data(){return{showDetails:!1}},mounted(){},computed:{},methods:{async downloadExtension(){await l(`${this.config.serverHostname}/download`)}},created(){this.LoadVersionSummary(!0)}}),u={class:"text-center"},y={key:0},h={key:0},c={key:0},k={key:0,class:"my-2"},f={key:0},S={key:1},_={class:"font-weight-strong"},g={key:2},w={key:3},V=["href"],C={key:1},b={key:0},$={class:"font-weight-strong"},T={key:1},A={key:2},D={key:3},L=["href"],B={key:2},U={key:1,class:"mt-4 mb-3"},E={key:2,class:"mt-4"},H={class:"divfit rounded border p-2"},I={key:0},N={key:1};function P(e,r,Y,G,R,j){var a;return o(),s("div",u,[(o(),s("div",y,[e.versionSummary?(o(),s("div",h,[e.versionSummary.success?(o(),s("div",c,[e.versionSummary.clientSupportedByServer?(o(),s("div",C,[e.versionSummary.newerClientVersionAvailable?(o(),s("div",b,[r[2]||(r[2]=t("div",{class:"my-2"},"An updated version of your client is available.",-1)),t("div",$,"Latest version: "+i(e.versionSummary.latestClientVersion),1),t("div",null,"Your current version: "+i(e.versionSummary.currentClientVersion),1)])):(o(),s("div",T,"Your client is up to date.")),e.appType=="android"?(o(),s("div",A,"Visit Google play store to update")):e.isAdminUser?(o(),s("div",D,[t("a",{class:"btn btn-outline-primary mt-3",href:`${e.config.serverHostname}/helpdocs/updateClient?name=${e.appType}`,target:"_blank"},"Update",8,L)])):n("",!0)])):(o(),s("div",k,[e.isCustomServer?(o(),s("div",f,"This server does not support your client version.")):(o(),s("div",S,[r[1]||(r[1]=t("div",null,"Kindredly.ai no longer supports your client. Please upgrade to the latest version.",-1)),t("div",_,"Latest version: "+i(e.versionSummary.latestClientVersion),1),t("div",null,"Your current version: "+i(e.versionSummary.currentClientVersion),1)])),e.appType=="android"?(o(),s("div",g,"Visit Google play store to update")):e.isAdminUser?(o(),s("div",w,[t("a",{class:"btn btn-outline-primary mt-3",href:`${e.config.serverHostname}/helpdocs/updateClient?name=${e.appType}`,target:"_blank"},"Update",8,V)])):n("",!0)]))])):(o(),s("div",B,"Something went wrong when trying to get check the latest version. Please try again later."))])):n("",!0),e.showDetails?n("",!0):(o(),s("div",U,[t("button",{class:"btn btn-link p-0 small",onClick:r[0]||(r[0]=K=>e.showDetails=!e.showDetails)},"Show details")]))])),e.showDetails&&((a=e.versionSummary)!=null&&a.success)?(o(),s("div",E,[t("div",H,[t("div",null,"App Type: "+i(e.appType),1),t("div",null,"Browser: "+i(e.browserName),1),t("div",null,"Current Client Version: "+i(e.config.clientVersion),1),t("div",null,"Server Version: "+i(e.versionSummary.latestServerVersion),1),e.appType&&e.appType!="webapp"?(o(),s("div",I,"Latest Client Version:"+i(e.versionSummary.latestClientVersion),1)):n("",!0),e.isCustomServer?(o(),s("div",N,"Server Address: "+i(e.serverAPIURL),1)):n("",!0)])])):n("",!0)])}const O=p(v,[["render",P]]);export{O as default};
