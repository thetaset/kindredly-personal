import{a,t as r,p,_ as m}from"./components.globalBic2x0kT.js";import{d as u,j as l,F as c,P as f,s as v,r as g,i as d,k as e,K as x,R as o}from"./@vueC3Nhqlrl.js";const h=u({name:"ClientListComponent",mixins:[a],props:{userId:String},components:{},data(){return{loading:!0,results:[],errorMessage:null}},mounted(){},computed:{},methods:{textTruncate:r,prettyTimePast:p,getIcon(s){return s.appType=="webapp"?"globe":s.appType=="android"||s.appType=="ios"?"phone":s.appType=="extension"?"puzzle":"question"},async remove(s){await this.getRef("msgBoxConfirm").show("Stop following this item?",{title:"Confirm",okVariant:"danger",okTitle:"Yes",cancelTitle:"No",hideHeaderClose:!1})&&(await this.RemoveFromFollowing(s.refType,s.refId,this.userId),this.loadData())},async loadData(){this.loading=!0;try{const s=await this.apiReq("/user/client/list",{userId:this.userId});this.results=s.result}catch(s){this.errorMessage=s.message,console.error("Error:",s.message)}this.loading=!1}},created(){this.loadData()}}),_={key:0},I={class:"border-top py-1 small d-flex flex-gap-1"},T={class:"m-1"},k=["title"],C={class:"dflexItem"},L={class:"d-flex flex-gap-sm"},w=["title"],D={class:"d-flex flex-gap-sm"},V={class:"d-flex flex-gap-sm"},b={class:"d-flex flex-gap-sm"},N={class:"dflexItem"},P={class:"d-flex flex-gap-sm"},B={class:"d-flex flex-gap-sm"},F={class:"d-flex flex-gap-sm"},R={class:"d-flex flex-gap-sm"},S=["title"],$={key:1},y={key:2};function A(s,t,q,z,E,H){const n=g("b-icon");return d(),l("div",null,[!s.loading&&s.results.length>0?(d(),l("div",_,[(d(!0),l(c,null,f(s.results,(i,M)=>(d(),l("div",I,[e("div",T,[e("div",{title:i.clientId},[x(n,{"font-scale":"1.5",icon:s.getIcon(i)},null,8,["icon"])],8,k)]),e("div",C,[e("div",L,[t[0]||(t[0]=e("div",{class:"text-muted"},"ClientId:",-1)),e("div",{title:i.clientId},o(s.textTruncate(i.clientId,8,!0)),9,w)]),e("div",D,[t[1]||(t[1]=e("div",{class:"text-muted"},"Client Type:",-1)),e("div",null,o(i.appType),1)]),e("div",V,[t[2]||(t[2]=e("div",{class:"text-muted"},"App Id: ",-1)),e("div",null,o(i.appId),1)]),e("div",b,[t[3]||(t[3]=e("div",{class:"text-muted"},"App Version:",-1)),e("div",null,o(i.appVersion),1)])]),e("div",N,[e("div",P,[t[4]||(t[4]=e("div",{class:"text-muted"},"Last IP Address:",-1)),e("div",null,o(i.lastIp),1)]),e("div",B,[t[5]||(t[5]=e("div",{class:"text-muted"},"Last seen:",-1)),e("div",null,o(s.prettyTimePast(i.lastSeen))+" ago",1)]),e("div",F,[t[6]||(t[6]=e("div",{class:"text-muted"},"Last login:",-1)),e("div",null,o(s.prettyTimePast(i.lastLogin))+" ago",1)]),e("div",R,[t[7]||(t[7]=e("div",{class:"text-muted"},"Has Device Token:",-1)),e("div",{title:i.deviceToken},o(i.deviceToken!=null),9,S)])])]))),256))])):!s.loading&&s.results.length==0?(d(),l("div",$,"No clients found.")):s.loading?(d(),l("div",y,"Loading...")):v("",!0)])}const Y=m(h,[["render",A]]);export{Y as C};
