import{a as p,_ as m}from"./components.globalSAVxUKYX.js";import{d as u,j as r,k as c,K as n,z as f,r as t,i as a,m as w,F as h,Q as y}from"./@vueC3Nhqlrl.js";import"./vue3-toastifyDll2FbVh.js";import"./@capacitorCjBcbZvA.js";import"./bootstrap-vue-nextDnMzdrWQ.js";const _=u({name:"VerifyPassword",mixins:[p],props:{user:{type:Object,default:null},needCurrentPassword:{type:Boolean,default:!0}},emits:["close","password"],data(){return{targetUser:null,currentPassword:null,password:null,confirmPassword:null,errorMessage:null,loading:!1}},mounted(){},computed:{},methods:{async verifyPassword(){this.loading=!0;try{await this.apiReq("/client/auth/verifyPassword",{password:this.password}),await this.LoadEncStatus(!0),this.loading=!1,this.$emit("password",this.password),this.$emit("close",!0)}catch(e){this.loading=!1,this.showToast("Error: "+e.message,{variant:"danger"})}}},created(){}}),g={class:"d-flex flex-gap-1"};function b(e,s,v,V,P,k){const i=t("b-form-input"),d=t("b-spinner"),l=t("b-button");return a(),r("div",null,[c("div",g,[n(i,{modelValue:e.password,"onUpdate:modelValue":s[0]||(s[0]=o=>e.password=o),placeholder:"Enter password",type:"password"},null,8,["modelValue"]),n(l,{variant:"primary",onClick:s[1]||(s[1]=o=>e.verifyPassword())},{default:f(()=>[e.loading?(a(),w(d,{key:0,small:""})):(a(),r(h,{key:1},[y(" Verify ")],64))]),_:1})])])}const N=m(_,[["render",b]]);export{N as default};
