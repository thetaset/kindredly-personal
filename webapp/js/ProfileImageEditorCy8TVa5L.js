import{P as h}from"./TIIconDefaultCMdnLD-P.js";import{S as $}from"./SelectImageB7WxdKlR.js";import{a as d,_ as f,aL as k}from"./components.globalBic2x0kT.js";import{d as u,j as r,k as a,F as y,P as S,K as i,z as c,r as t,i as s,m as w,Q as C,L as V,ac as j}from"./@vueC3Nhqlrl.js";const x=u({name:"SelectProfileImage",components:{SelectImage:$},mixins:[d],data(){return{pageView:"list",customImageData:null,imageList:["/profile_images/lion-svgrepo-com.svg","/profile_images/deer-svgrepo-com.svg","/profile_images/eagle-svgrepo-com.svg","/profile_images/bird-svgrepo-com.svg","/profile_images/bear-svgrepo-com.svg","/profile_images/haniwa-svgrepo-com.svg","/profile_images/mountain-part-2-svgrepo-com.svg","/profile_images/moon-svgrepo-com.svg","/profile_images/ninja-svgrepo-com.svg","/profile_images/mount-fuji-svgrepo-com.svg","/profile_images/octopus-svgrepo-com.svg","/profile_images/soccer-ball-illustration-svgrepo-com.svg","/profile_images/startup-rocket-svgrepo-com.svg","/profile_images/ufo-part-2-svgrepo-com.svg","/profile_images/ranking-crown-svgrepo-com.svg","/profile_images/basketball-svgrepo-com.svg","/profile_images/ladybug-svgrepo-com.svg"],image:null,originalImg:null}},mounted(){},computed:{},methods:{async selectImage(o){this.$emit("select-profile-image",{type:"path",data:o})},async selectCustom(o){this.$emit("select-profile-image",{type:"data",data:o})}},created(){}}),D={key:0},z={class:"m-4 d-flex flex-wrap justify-content-center"},L=["src"],B={class:"m-4 d-flex flex-wrap justify-content-center"},E={key:1};function M(o,e,v,_,I,b){const m=t("b-card"),n=t("b-icon"),g=t("b-button"),p=t("SelectImage");return s(),r("div",null,[o.pageView=="list"?(s(),r("div",D,[a("div",z,[(s(!0),r(y,null,S(o.imageList,(l,P)=>(s(),w(m,{class:"m-2",role:"button",onClick:F=>o.selectImage(l),key:P},{default:c(()=>[a("img",{src:l,width:"40"},null,8,L)]),_:2},1032,["onClick"]))),128))]),a("div",B,[i(g,{variant:"outline-primary",onClick:e[0]||(e[0]=l=>o.pageView="custom")},{default:c(()=>[i(n,{icon:"upload"}),e[2]||(e[2]=C(" Select Custom Profile Image"))]),_:1})]),e[3]||(e[3]=a("div",{class:"mt-4 text-muted small"},"*Icons from svgrepo.com. Thanks!",-1)),e[4]||(e[4]=a("div",{class:"bottom-gap-mobile"},null,-1))])):(s(),r("div",E,[i(p,{onSelectImageData:o.selectCustom,"max-size":600,smallImageSize:300,circleWithPreview:!0,keepAspectRatio:!0,onClose:e[1]||(e[1]=l=>o.pageView="list")},null,8,["onSelectImageData"])])),e[5]||(e[5]=a("div",{class:"bottom-gap-mobile"},null,-1))])}const R=f(x,[["render",M]]),q=u({name:"ProfileImageEditor",mixins:[d],props:{profileImage:{type:Object,required:!1},userId:{type:String,required:!1}},components:{SelectProfileImage:R,ProfileImage:h},data(){return{loading:!1,errorMessage:null}},mounted(){},computed:{},methods:{async saveProfileImage(o){const e=await this.sendReq("/user/profileImage/update",{userId:this.userId,imageData:o});e.success?(this.closeModal("update-profile-image-modal"),await this.RefreshCurrentUser(!0),k(),this.$emit("updated"),this.errorMessage=null):(console.error("Error:",e.message),this.errorMessage=e.message)}},created(){}}),N={class:"p-3",role:"button"};function T(o,e,v,_,I,b){const m=t("SelectProfileImage"),n=t("b-modal"),g=t("ProfileImage"),p=j("b-modal");return s(),r("div",null,[i(n,{lazy:"true",id:"update-profile-image-modal",title:"Update Profile Image","hide-footer":"",size:"lg"},{default:c(()=>[i(m,{onSelectProfileImage:o.saveProfileImage},null,8,["onSelectProfileImage"])]),_:1}),V((s(),r("div",N,[i(g,{profileImage:o.profileImage||o.currentProfileImage},null,8,["profileImage"])])),[[p,void 0,void 0,{"update-profile-image-modal":!0}]])])}const Q=f(q,[["render",T]]);export{Q as P};
