import{a as N,a_ as J,a$ as k,_ as R}from"./components.globalDizx_NTC.js";import{U as X}from"./UsersListCqGOth3O.js";import{G as Z}from"./GalleryViewP--jbJFy.js";import{M as _}from"./MyUIAppearancePAEWv8B2.js";import{P as ee}from"./ProfileImageEditorDUcTiiTY.js";import{U as te}from"./UpdateUserInfoD8fGLxSq.js";import se from"./ViewPublishedOWfp9EJr.js";import{U as oe}from"./UpdateUsernameB7947L9Y.js";import{I as ne}from"./ImportBookmarksvLYqS-b3.js";import{d as T,j as i,K as o,z as l,k as s,m as y,s as m,R as v,q as ie,F as re,P as ae,Q as a,p as f,L as B,r as u,ac as le,i as n}from"./@vueC3Nhqlrl.js";import"./vue3-toastifyDll2FbVh.js";import"./@capacitorCjBcbZvA.js";import"./bootstrap-vue-nextDnMzdrWQ.js";import"./AddUserBcqnlYBr.js";import"./UsageLimitsComponentDuaQTkYh.js";import"./BonusTimeComponentCayYUZpH.js";import"./TIIconDefaultB4jiNlod.js";import"./AddPublishedToLibrarygmjpNrfX.js";import"./PopCollectionSelectorBW6dnAeB.js";import"./CreateCollectionBbjx_AkR.js";import"./ai_lookup_utilszDX_hcwM.js";import"./ItemImageDmIqiyLE.js";import"./SelectAccountUsers1I4pmgqf.js";import"./PlaceholderListCkZH-XIw.js";import"./@egjsD-CUwjTO.js";import"./@cfcsDj3SjI2h.js";import"./SelectImageB1vQtVs9.js";import"./UpdateSubscribersCflRcEpZ.js";import"./subscription.storeBbBC37AO.js";import"./ItemAttachmentViewerBdTn3_OR.js";import"./textrenderD2sqh9-p.js";import"./markedJKvyS0Pp.js";const de=T({name:"AccountSetup",mixins:[N],components:{UsersList:X,MyUIAppearance:_,GalleryView:Z,ProfileImageEditor:ee,ImportBookmarks:ne,UpdateUserInfo:te,ViewPublished:se,UpdateUsername:oe},data(){return{page:null,setupStatus:{wantUsers:void 0},loading:!1,recoveryKey:null,selectedContentId:null,pages:[{name:"welcome",progress:10,title:"Welcome"},{name:"profile",progress:20,title:"User Profile"},{name:"importBookmarks",progress:40,parentItem:"addContent1",title:"Bookmarks"},{name:"appearance",progress:60,title:"Appearance"},{name:"addUser1",progress:70,title:"Add Users"},{name:"addContent1",progress:80,title:"Add Content"},{name:"encryption",progress:90,title:"Recovery Key"},{name:"summary",title:"Complete"}]}},mounted(){},computed:{needEncAccess(){var t,e;return this.encStatus&&!((t=this.encStatus)!=null&&t.acntEncSetup)&&((e=this.encStatus)==null?void 0:e.userEncEnabled)},bigClasses(){return this.isMobile,"col-md-7"},smallClasses(){return this.isMobile?"col-md":"col"}},methods:{async closeUserInfoUpdate(){await J(!0),this.closeModal("editDisplayedNameModal")},async exitSetup(){await this.confirmModal("You are exiting account setup early. <br/><br/>NOTE: You can restart setup by visiting account settings.",{title:"Exit Setup",cancelTitle:"Resume later",okTitle:"I'm done. Mark as Complete",okVariant:"danger"})?await this.finishSetup():await this.unfinishSetup(),this.$router.push({name:"Home"})},nextPage(){const t=this.pages.findIndex(e=>e.name==this.page.name);t!=this.pages.length-1&&t<this.pages.length-1&&this.setPage(this.pages[t+1].name)},prevPage(){const t=this.pages.findIndex(e=>e.name==this.page.name);t!=0&&this.setPage(this.pages[t-1].name)},async setPage(t){this.page=this.pages.find(e=>e.name==t),this.page||(t=this.pages[0].name,this.page=this.pages[0]),await this.setUserCache("accountSetupPage",t),this.$router.push({query:{page:t}})},closeTour(){this.$emit("close")},selectContent(t){this.selectedContentId=null,this.$nextTick(()=>{this.selectedContentId=t})},async saveRecoveryKeyOnServer(){if(await this.confirmModal("Are you sure you want to store your recovery key on the server?  This will be less secure but also make it easier to recover your data if you forget your password.")){this.loading=!0;try{await this.apiReq("/client/encryption/saveRecoveryKeyOnServer",{}),await this.RefreshCurrentUser(!0)}catch(e){this.showToast("Error: "+e.message,{variant:"danger"})}this.loading=!1}},async getRecoveryKey(){this.loading=!0;try{const t=await this.apiReq("/client/encryption/getRecoveryKey",{});this.recoveryKey=t.result,this.showModal("enc-recovery-key-modal")}catch(t){this.showToast("Error: "+t.message,{variant:"danger"})}this.loading=!1},async refreshEncStatus(){this.loading=!0;try{await this.RefreshAll(!0,!1,!1,!0,!1)}catch(t){this.showToast("Error: "+t.message,{variant:"danger"})}this.loading=!1},async unfinishSetup(){if(this.users.length==1){await k(!0);return}const t=await this.sendReq("/account/options/update",{data:{setupComplete:!1}});t.success?await k(!0):console.error("Error:",t.message)},async finishSetup(){const t=await this.sendReq("/account/options/update",{data:{setupComplete:!0}});t.success?(await k(!0),this.$router.push({name:"Home"})):console.error("Error:",t.message)},async showEncNotification(){var t,e;this.encStatus&&!((t=this.encStatus)!=null&&t.acntEncSetup)&&((e=this.encStatus)!=null&&e.userEncEnabled)&&this.showToast(`Encryption Disabled: Your user has must be granted access to the account encryption key.  This is required to encrypt and decrypt some types of data. 
        
Your account admin must approve this request.  They has been notified, but you may want reach out directly`,{title:"Encryption Status",variant:"info",autoClose:!1})},async resumeOrStart(){const t=this.$route.query.page,e=await this.getUserCache("accountSetupPage");this.setPage((e==null?void 0:e.data)||t||"welcome"),await this.unfinishSetup()}},created(){this.resumeOrStart()}}),ue={key:0,class:"pb-2 mt-4"},pe={class:"m-2 border rounded p-2 text-center"},me={class:"d-flex justify-content-between align-items-center flex-wrap flex-gap-1"},ve={class:"larger text-muted"},ye={key:0,class:"progress-heading d-flex mx-1 mb-3 mt-3"},fe={class:"progressbarContainer rounded fillrow"},ge={key:0,class:"progress-sidebar ms-1 me-3 border-end mt-5"},ce=["onClick"],ke={key:0,class:"border-start itemPad"},be={key:1,class:"ani-fade-in-fast setupContainer"},we={class:""},Ce={class:"mt-5"},he={key:0,class:"mb-4 alert alert-info"},Se={class:"larger mb-4"},$e={key:0,class:"spinner-border spinner-border-sm"},Pe={key:1},Ue={key:1},Ie={key:0,class:"mt-5 d-flex flex-gap-1 justify-content-between"},xe={key:2,class:"ani-fade-in-fast setupContainer"},Ee={class:""},ze={class:"h2"},Ae={class:"mt-4"},Me={class:"mt-5 d-flex flex-gap-1 justify-content-between"},Ke={key:3,class:"ani-fade-in-fast setupContainer"},Be={class:""},Ne={key:0},Re={class:"alert alert-info mt-4"},Te={key:1},Ye={class:"mt-5"},Ve={key:1,class:"mt-3"},je={class:"mt-5 d-flex flex-gap-1 justify-content-between pb-3"},qe={key:4,class:"ani-fade-in-fast setupContainer"},De={class:""},Oe={class:"mt-5"},Le={class:"text-center"},Fe={key:0},Ge={key:1,class:"border rounded p-3 shadow divfit"},He={class:"mt-3"},We={class:"mt-5 d-flex flex-gap-1 justify-content-between pb-3"},Qe={key:5,class:"ani-fade-in-fast setupContainer"},Je={class:""},Xe={class:"mt-5 d-flex flex-gap-1 justify-content-between pb-3"},Ze={key:6,class:"ani-fade-in-fast setupContainer"},_e={class:""},et={class:"d-flex flex-gap-2 flex-wrap mb-5"},tt={class:""},st={class:"d-flex"},ot={class:"rounded border"},nt={role:"button"},it={class:"d-flex flex-gap-1 align-items-center"},rt={role:"button"},at={class:"d-flex flex-gap-1 align-items-center"},lt={class:"mt-5 d-flex flex-gap-1 justify-content-between"},dt={key:7,class:"ani-fade-in-fast setupContainer"},ut={class:""},pt={class:"container mt-4"},mt={class:"mt-5 d-flex flex-gap-1 pb-4 justify-content-between"},vt={key:8,class:"ani-fade-in-fast setupContainer"},yt={key:0},ft=["src"],gt={key:1},ct={key:0},kt={key:1},bt={class:"mt-5 d-flex justify-content-between pb-4 flex-gap-1"},wt={key:9,class:"ani-fade-in-fast setupContainer"},Ct={class:""},ht={class:""},St={class:"mt-5 d-flex flex-gap-1 justify-content-between"},$t={key:10,class:"ani-fade-in-fast setupContainer"},Pt={class:""},Ut={class:""},It={class:""},xt={class:"mt-3 text-muted"},Et={key:0,class:"mt-4"},zt={key:1,class:"mt-4"},At={class:"mt-4"},Mt={class:"mt-5 d-flex flex-gap-1 justify-content-between"},Kt={key:11,class:"ani-fade-in-fast setupContainer"},Bt={class:""},Nt={class:"mt-5 d-flex flex-gap-2 justify-content-between"},Rt={key:1,class:"bottom-gap"},Tt={key:2,class:"bottom-gap-mobile"};function Yt(t,e,Y,V,j,q){var C,h,S,$,P,U,I,x,E,z,A,M;const g=u("UpdateUserInfo"),c=u("b-modal"),D=u("UpdateUsername"),O=u("TIcon"),p=u("b-icon"),d=u("b-button"),L=u("UsersList"),F=u("GalleryView"),G=u("ViewPublished"),H=u("ImportBookmarks"),W=u("ProfileImageEditor"),Q=u("MyUIAppearance"),b=u("b-link"),w=le("b-modal");return t.page?(n(),i("div",ue,[o(c,{lazy:"true",id:"editDisplayedNameModal",title:"Edit Displayed Name","hide-footer":""},{default:l(()=>[o(g,{onClose:e[0]||(e[0]=r=>t.closeUserInfoUpdate())})]),_:1}),o(c,{lazy:"true",id:"editUsernameModal",title:"Edit Username","hide-footer":""},{default:l(()=>[o(D,{"default-value":t.currentUser.username,onClose:e[1]||(e[1]=r=>t.closeUserInfoUpdate())},null,8,["default-value"])]),_:1}),o(c,{lazy:"true",id:"enc-recovery-key-modal",title:"Recovery Key","hide-footer":"","no-close-on-esc":"","no-close-on-backdrop":""},{default:l(()=>{var r;return[s("div",null,[e[29]||(e[29]=s("div",{class:"text-muted small"}," Store this in a safe place. This will allow you to recover you encrypted data if you lose your password. ",-1)),s("div",pe,v((r=t.recoveryKey)==null?void 0:r.keyString),1)])]}),_:1}),s("div",me,[t.isMobile?m("",!0):(n(),y(O,{key:0,class:"t-collapse-sm t-collapsible",name:"kindred-text-thin",width:200})),s("div",ve,v(t.isMobile?"Kindredly":"")+" Setup ",1),t.needEncAccess?m("",!0):(n(),i("div",{key:1,role:"button","data-test-id":"closeAccountSetup",onClick:e[2]||(e[2]=(...r)=>t.exitSetup&&t.exitSetup(...r))},[o(p,{icon:"x-lg"})]))]),t.isMobile&&!t.needEncAccess?(n(),i("div",ye,[s("div",fe,[s("div",{class:"progressbar primary-color rounded-start",style:ie(`width:${t.page.progress}%`)},null,4)])])):m("",!0),s("div",{class:f(t.isMobile?"mt-4":"d-flex flex-gap-1 mt-5")},[!t.isMobile&&!t.needEncAccess?(n(),i("div",ge,[(n(!0),i(re,null,ae(t.pages,(r,K)=>(n(),i("div",{key:K,class:"ps-1"},[s("div",{role:"button",class:f(["d-flex flex-gap-1 py-0",t.page.name==r.name?"primary-color":"text-muted"]),onClick:Ot=>t.setPage(r.name)},[t.page.name==r.name?(n(),y(p,{key:0,icon:"circle-fill"})):(n(),y(p,{key:1,icon:"circle",class:"text-muted"})),a(" "+v(r.title),1)],10,ce),K<t.pages.length-1?(n(),i("div",ke)):m("",!0)]))),128))])):m("",!0),((C=t.page)==null?void 0:C.name)=="welcome"?(n(),i("div",be,[s("div",we,[e[37]||(e[37]=s("div",{class:"h2"},"Welcome to Kindredly!",-1)),e[38]||(e[38]=s("div",{class:"mt-3 text-muted"},null,-1)),s("div",null,[s("div",Ce,[t.needEncAccess?(n(),i("div",he,[s("div",Se,[o(p,{icon:"info-circle"}),e[30]||(e[30]=s("span",{class:"ms-2"},"Action Required by a current account user",-1))]),e[31]||(e[31]=s("div",null," Your user must be granted access to the account encryption key. The admin user who invited you has been sent a notification and must approve this request. You may want to reach out directly. ",-1)),e[32]||(e[32]=s("br",null,null,-1)),e[33]||(e[33]=s("br",null,null,-1)),o(d,{variant:"primary",disabled:t.loading,onClick:e[3]||(e[3]=r=>t.refreshEncStatus())},{default:l(()=>[t.loading?(n(),i("i",$e)):(n(),i("span",Pe,"Check Approval Status"))]),_:1},8,["disabled"])])):(n(),i("div",Ue,e[34]||(e[34]=[s("div",{class:"lead"},"Let's setup your account!",-1),s("div",{class:"text-muted mt-4"}," Feel like exploring first? You can resume setup at any time or complete these steps manually in settings. ",-1)])))])]),e[39]||(e[39]=s("div",{class:"mt-5 text-muted"},null,-1)),t.needEncAccess?m("",!0):(n(),i("div",Ie,[o(d,{variant:"outline-secondary",size:"lg",onClick:e[4]||(e[4]=r=>t.exitSetup())},{default:l(()=>e[35]||(e[35]=[a(" Later ")])),_:1}),o(d,{variant:"primary",size:"lg",onClick:e[5]||(e[5]=r=>t.nextPage())},{default:l(()=>e[36]||(e[36]=[a("Next")])),_:1})]))])])):((h=t.page)==null?void 0:h.name)=="addUser1"?(n(),i("div",xe,[s("div",Ee,[s("div",ze,[o(p,{icon:"people"}),e[40]||(e[40]=a(" Add Users to your Account "))]),e[43]||(e[43]=s("div",{class:"mt-3 text-muted"},"Other users to add to your account.",-1)),s("div",Ae,[o(L,{inlineComponent:!0,isManageMode:!0})]),e[44]||(e[44]=s("div",{class:"py-5"},null,-1)),s("div",Me,[o(d,{size:"lg",variant:"outline-secondary",onClick:e[6]||(e[6]=r=>t.prevPage())},{default:l(()=>e[41]||(e[41]=[a("Back")])),_:1}),o(d,{size:"lg",variant:"primary",onClick:e[7]||(e[7]=r=>t.nextPage())},{default:l(()=>e[42]||(e[42]=[a("Next")])),_:1})])])])):((S=t.page)==null?void 0:S.name)=="addContent1"?(n(),i("div",Ke,[s("div",Be,[e[50]||(e[50]=s("div",{class:"h2"},"Add Content",-1)),e[51]||(e[51]=s("div",{class:"mt-3 text-muted"}," Optionally add content from any of our curated public collections to your library. Click next, if you don't want to add anything at this time. ",-1)),t.isCustomServer?(n(),i("div",Ne,[s("div",Re,[o(p,{icon:"info-circle"}),e[45]||(e[45]=a(" You are using personal edition. External content is not yet supported. "))])])):(n(),i("div",Te,[s("div",{class:f(["my-5",(t.isMobile,"text-center")])},[o(d,{size:"lg",variant:"link",class:"font-weight-strong px-3 py-2 rounded fillrow border hoverrow",to:"/searchPublished?showBack=true"},{default:l(()=>[o(p,{icon:"search",class:"me-1"}),e[46]||(e[46]=a(" Search Published Content "))]),_:1})],2),e[47]||(e[47]=s("hr",null,null,-1)),s("div",Ye,[s("div",{class:f(["h3",(t.isMobile,"text-center")])},"Featured",2)]),s("div",null,[t.selectedContentId?(n(),i("div",Ve,[o(G,{onSelectItem:t.selectContent,onBack:e[8]||(e[8]=r=>t.selectedContentId=null),itemIdProp:t.selectedContentId},null,8,["onSelectItem","itemIdProp"])])):(n(),y(F,{key:0,class:"mt-4",showTitle:!1,galleryId:"explorehome",galleryType:"emitSelect",onSelectItem:t.selectContent},null,8,["onSelectItem"]))])])),e[52]||(e[52]=s("div",{class:"py-5"},null,-1)),e[53]||(e[53]=s("div",{class:"mt-3 text-muted"},"*You can also add content later.",-1)),s("div",je,[o(d,{size:"lg",variant:"outline-secondary",onClick:e[9]||(e[9]=r=>t.prevPage())},{default:l(()=>e[48]||(e[48]=[a("Back")])),_:1}),o(d,{size:"lg",variant:"primary",onClick:e[10]||(e[10]=r=>t.nextPage())},{default:l(()=>e[49]||(e[49]=[a("Next")])),_:1})])])])):(($=t.page)==null?void 0:$.name)=="importBookmarks"?(n(),i("div",qe,[s("div",De,[e[58]||(e[58]=s("div",{class:"h2"},"Import Bookmarks",-1)),e[59]||(e[59]=s("div",{class:"mt-3 text-muted"}," Import your bookmarks into Kindredly. ",-1)),s("div",Oe,[s("div",Le,[t.isExtension&&!t.isNativeClient?(n(),i("div",Fe,[o(H)])):(n(),i("div",Ge,[o(p,{class:"me-2",icon:"info-circle"}),e[55]||(e[55]=a(" You must be using the Kindredly browser extension to import bookmarks from your browser. ")),s("div",He,[o(d,{variant:"info",href:`${t.config.serverHostname}/download`,target:"_blank"},{default:l(()=>[o(p,{icon:"download"}),e[54]||(e[54]=a(" Get the Extension"))]),_:1},8,["href"])])]))])]),e[60]||(e[60]=s("div",{class:"py-5"},null,-1)),s("div",We,[o(d,{size:"lg",variant:"outline-secondary",onClick:e[11]||(e[11]=r=>t.prevPage())},{default:l(()=>e[56]||(e[56]=[a("Back")])),_:1}),o(d,{size:"lg",variant:"primary",onClick:e[12]||(e[12]=r=>t.nextPage())},{default:l(()=>e[57]||(e[57]=[a("Next")])),_:1})])])])):((P=t.page)==null?void 0:P.name)=="addSubscriptions1"?(n(),i("div",Qe,[s("div",Je,[e[63]||(e[63]=s("div",{class:"h2"},"Add Subscriptions",-1)),e[64]||(e[64]=s("div",{class:"mt-3 text-muted"}," Subscriptions are ways to keep up with your favorite publishers. ",-1)),e[65]||(e[65]=s("div",{class:"mt-5"},[s("div")],-1)),s("div",Xe,[o(d,{size:"lg",variant:"outline-secondary",onClick:e[13]||(e[13]=r=>t.prevPage())},{default:l(()=>e[61]||(e[61]=[a("Back")])),_:1}),o(d,{size:"lg",variant:"primary",onClick:e[14]||(e[14]=r=>t.nextPage())},{default:l(()=>e[62]||(e[62]=[a("Next")])),_:1})])])])):((U=t.page)==null?void 0:U.name)=="profile"?(n(),i("div",Ze,[s("div",_e,[e[74]||(e[74]=s("div",{class:"h2 mb-5"},"User Profile",-1)),s("div",et,[s("div",tt,[e[66]||(e[66]=s("div",{class:"text-muted larger mb-3"},"Profile Image",-1)),s("div",st,[s("div",ot,[o(W)])])]),s("div",null,[B((n(),i("div",nt,[e[67]||(e[67]=s("div",{class:"text-muted larger mb-1"},"Username",-1)),s("div",it,[a(v(t.currentUser.username)+" ",1),o(p,{icon:"pencil"})]),e[68]||(e[68]=s("div",{class:"text-muted mt-1 small"}," Visible to other users within your account and friends. ",-1))])),[[w,void 0,void 0,{editUsernameModal:!0}]]),e[71]||(e[71]=s("div",{class:"mt-3"},null,-1)),B((n(),i("div",rt,[e[69]||(e[69]=s("div",{class:"text-muted larger mb-1"},"Displayed Name",-1)),s("div",at,[a(v(t.currentUser.displayedName||t.currentUser.username)+" ",1),o(p,{icon:"pencil"})]),e[70]||(e[70]=s("div",{class:"text-muted mt-1 small"}," Visible to other users within your account. ",-1))])),[[w,void 0,void 0,{editDisplayedNameModal:!0}]])])]),s("div",lt,[o(d,{size:"lg",variant:"outline-secondary",onClick:e[15]||(e[15]=r=>t.prevPage())},{default:l(()=>e[72]||(e[72]=[a("Back")])),_:1}),o(d,{size:"lg",variant:"primary",onClick:e[16]||(e[16]=r=>t.nextPage())},{default:l(()=>e[73]||(e[73]=[a("Next")])),_:1})])])])):((I=t.page)==null?void 0:I.name)=="appearance"?(n(),i("div",dt,[s("div",ut,[e[77]||(e[77]=s("div",{class:"h2"},"Appearance",-1)),e[78]||(e[78]=s("div",{class:"mt-3 text-muted"}," Customize your Kindredly experience. ",-1)),s("div",pt,[o(Q),s("div",mt,[o(d,{size:"lg",variant:"outline-secondary",onClick:e[17]||(e[17]=r=>t.prevPage())},{default:l(()=>e[75]||(e[75]=[a("Back")])),_:1}),o(d,{size:"lg",variant:"primary",onClick:e[18]||(e[18]=r=>t.nextPage())},{default:l(()=>e[76]||(e[76]=[a("Next")])),_:1})])])])])):((x=t.page)==null?void 0:x.name)=="support"?(n(),i("div",vt,[s("div",null,[t.config.distMarketplace!="apple"?(n(),i("div",yt,[s("iframe",{src:`${t.config.serverHostname}/support?noframe=true`,style:{height:"100vh",width:"100%"}},null,8,ft)])):(n(),i("div",gt,[e[81]||(e[81]=s("div",{class:"h2"},"Supporting Kindredly",-1)),t.accountType=="standard"?(n(),i("div",ct,e[79]||(e[79]=[s("div",{class:"mt-3 text-muted"}," Your support helps us to continue to provide this great service. Upgrade to Kindredly Plus to get more features and support the Kindredly mission. ",-1)]))):(n(),i("div",kt,e[80]||(e[80]=[s("div",{class:"mt-3 text-muted"}," Thank you for supporting Kindredly! ",-1)])))]))]),s("div",bt,[o(d,{size:"lg",variant:"outline-secondary",onClick:e[19]||(e[19]=r=>t.prevPage())},{default:l(()=>e[82]||(e[82]=[a("Back")])),_:1}),o(d,{size:"lg",variant:"primary",onClick:e[20]||(e[20]=r=>t.nextPage())},{default:l(()=>e[83]||(e[83]=[a("Next")])),_:1})])])):((E=t.page)==null?void 0:E.name)=="friends"?(n(),i("div",wt,[s("div",Ct,[s("div",ht,[e[86]||(e[86]=s("div",{class:""},[s("div",{class:"h2"},"Connect with Friends and Relatives"),s("div",{class:"mt-3 text-muted"}," You can share content with friends and relatives who are not part of your account. ")],-1)),s("div",St,[o(d,{size:"lg",variant:"outline-secondary",onClick:e[21]||(e[21]=r=>t.prevPage())},{default:l(()=>e[84]||(e[84]=[a("Back")])),_:1}),o(d,{size:"lg",variant:"primary",onClick:e[22]||(e[22]=r=>t.nextPage())},{default:l(()=>e[85]||(e[85]=[a("Next")])),_:1})])])])])):((z=t.page)==null?void 0:z.name)=="encryption"?(n(),i("div",$t,[s("div",Pt,[s("div",Ut,[s("div",It,[e[96]||(e[96]=s("div",{class:"h2"},"Revovery Key",-1)),s("div",xt,[e[87]||(e[87]=s("div",{class:"mb-3"}," Please save your recovery key in a safe place. You will need it to recover your data if you lose your password. ",-1)),s("div",{role:"button",class:"btn btn-outline-success",onClick:e[23]||(e[23]=r=>t.getRecoveryKey())}," View recovery key ")]),(A=t.currentUser)!=null&&A.hasRecoveryKeyStored?(n(),i("div",zt,[o(p,{icon:"info-circle"}),e[91]||(e[91]=a(" Your recovery key is stored on the server. To change this setting, go to your ")),o(b,{to:"/settings/encryption"},{default:l(()=>e[90]||(e[90]=[a(" encryption settings ")])),_:1}),e[92]||(e[92]=a(". "))])):(n(),i("div",Et,[o(d,{variant:"info",onClick:e[24]||(e[24]=r=>t.saveRecoveryKeyOnServer())},{default:l(()=>e[88]||(e[88]=[a("Store Recovery Key on server")])),_:1}),e[89]||(e[89]=s("div",{class:"text-muted small mt-2"}," Optionally store your recovery key on the server. This will make it easier to recover your data if you forget your password, but is less secure. ",-1))])),s("div",At,[e[94]||(e[94]=a(" You can view or change all your ")),o(b,{to:"/settings/encryption"},{default:l(()=>e[93]||(e[93]=[a(" encryption settings ")])),_:1}),e[95]||(e[95]=a(" at any time. "))])]),s("div",Mt,[o(d,{size:"lg",variant:"outline-secondary",onClick:e[25]||(e[25]=r=>t.prevPage())},{default:l(()=>e[97]||(e[97]=[a("Back")])),_:1}),o(d,{size:"lg",variant:"primary",onClick:e[26]||(e[26]=r=>t.nextPage())},{default:l(()=>e[98]||(e[98]=[a("Next")])),_:1})])])])])):((M=t.page)==null?void 0:M.name)=="summary"?(n(),i("div",Kt,[s("div",Bt,[e[103]||(e[103]=s("div",{class:"h2"},"You're all done!",-1)),e[104]||(e[104]=s("div",{class:"mt-3"},null,-1)),m("",!0),e[105]||(e[105]=s("div",{class:"mt-5"},[s("div",{class:"text-muted"}," You can always change your settings or add more content later. ")],-1)),s("div",Nt,[o(d,{variant:"outline-secondary",size:"lg",onClick:e[27]||(e[27]=r=>t.prevPage())},{default:l(()=>e[101]||(e[101]=[a("Back")])),_:1}),o(d,{variant:"primary",size:"lg",onClick:e[28]||(e[28]=r=>t.finishSetup())},{default:l(()=>e[102]||(e[102]=[a(" Finish")])),_:1})])])])):m("",!0)],2),t.isMobile?(n(),i("div",Rt)):(n(),i("div",Tt))])):m("",!0)}const Vt=R(de,[["render",Yt],["__scopeId","data-v-e9ce6019"]]),jt=T({name:"AccountSetupPage",mixins:[N],components:{AccountSetup:Vt},data(){return{}},mounted(){},computed:{},methods:{},created(){}}),qt={class:"container mt-2"};function Dt(t,e,Y,V,j,q){const g=u("AccountSetup");return n(),i("div",qt,[o(g)])}const hs=R(jt,[["render",Dt]]);export{hs as default};
